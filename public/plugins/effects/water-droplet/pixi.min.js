/*!
 * pixi.js - v4.3.5
 * Compiled Fri, 10 Feb 2017 13:04:58 UTC
 *
 * pixi.js is licensed under the MIT License.
 * http://www.opensource.org/licenses/mit-license
 */!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var t="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this;t.PIXI=e()}}(function(){var e;return function e(t,n,s){function o(i,r){if(!n[i]){if(!t[i]){var c,l,d="function"==typeof require&&require;if(!r&&d)return d(i,!0);if(a)return a(i,!0);throw l=new Error("Cannot find module '"+i+"'"),l.code="MODULE_NOT_FOUND",l}c=n[i]={exports:{}},t[i][0].call(c.exports,function(e){var n=t[i][1][e];return o(n||e)},c,c.exports,e,t,n,s)}return n[i].exports}for(var a="function"==typeof require&&require,i=0;i<s.length;i++)o(s[i]);return o}({1:[function(e,t,n){"use strict";"use restrict";function i(e){var t=32;return e&=-e,e&&t--,65535&e&&(t-=16),16711935&e&&(t-=8),252645135&e&&(t-=4),858993459&e&&(t-=2),1431655765&e&&(t-=1),t}var s,o=32;n.INT_BITS=o,n.INT_MAX=2147483647,n.INT_MIN=-1<<o-1,n.sign=function(e){return(e>0)-(e<0)},n.abs=function(e){var t=e>>o-1;return(e^t)-t},n.min=function(e,t){return t^(e^t)&-(e<t)},n.max=function(e,t){return e^(e^t)&-(e<t)},n.isPow2=function(e){return!(e&e-1||!e)},n.log2=function(e){var t,n;return n=(e>65535)<<4,e>>>=n,t=(e>255)<<3,e>>>=t,n|=t,t=(e>15)<<2,e>>>=t,n|=t,t=(e>3)<<1,e>>>=t,n|=t,n|e>>1},n.log10=function(e){return e>=1e9?9:e>=1e8?8:e>=1e7?7:e>=1e6?6:e>=1e5?5:e>=1e4?4:e>=1e3?3:e>=100?2:e>=10?1:0},n.popCount=function(e){return e-=e>>>1&1431655765,e=(858993459&e)+(e>>>2&858993459),16843009*(e+(e>>>4)&252645135)>>>24},n.countTrailingZeros=i,n.nextPow2=function(e){return e+=0===e,--e,e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e+1},n.prevPow2=function(e){return e|=e>>>1,e|=e>>>2,e|=e>>>4,e|=e>>>8,e|=e>>>16,e-(e>>>1)},n.parity=function(e){return e^=e>>>16,e^=e>>>8,e^=e>>>4,e&=15,27030>>>e&1},s=new Array(256),!function(e){for(t=0;t<256;++t){var t,n=t,s=t,o=7;for(n>>>=1;n;n>>>=1)s<<=1,s|=1&n,--o;e[t]=s<<o&255}}(s),n.reverse=function(e){return s[255&e]<<24|s[e>>>8&255]<<16|s[e>>>16&255]<<8|s[e>>>24&255]},n.interleave2=function(e,t){return e&=65535,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t&=65535,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1},n.deinterleave2=function(e,t){return e=e>>>t&1431655765,e=858993459&(e|e>>>1),e=252645135&(e|e>>>2),e=16711935&(e|e>>>4),e=65535&(e|e>>>16),e<<16>>16},n.interleave3=function(e,t,n){return e&=1023,e=4278190335&(e|e<<16),e=251719695&(e|e<<8),e=3272356035&(e|e<<4),e=1227133513&(e|e<<2),t&=1023,t=4278190335&(t|t<<16),t=251719695&(t|t<<8),t=3272356035&(t|t<<4),t=1227133513&(t|t<<2),e|=t<<1,n&=1023,n=4278190335&(n|n<<16),n=251719695&(n|n<<8),n=3272356035&(n|n<<4),n=1227133513&(n|n<<2),e|n<<2},n.deinterleave3=function(e,t){return e=e>>>t&1227133513,e=3272356035&(e|e>>>2),e=251719695&(e|e>>>4),e=4278190335&(e|e>>>8),e=1023&(e|e>>>16),e<<22>>22},n.nextCombination=function(e){var t=e|e-1;return t+1|(~t&-~t)-1>>>i(e)+1}},{}],2:[function(e,t){"use strict";function h(e,t,n){n=n||2;var s,o,i,r,c,d,u,p,m=t&&t.length,f=m?t[0]*n:e.length,l=v(e,0,f,n,!0),h=[];if(!l)return h;if(m&&(l=A(e,t,l,n)),e.length>80*n){s=d=e[0],o=u=e[1];for(c=n;c<f;c+=n)i=e[c],r=e[c+1],i<s&&(s=i),r<o&&(o=r),i>d&&(d=i),r>u&&(u=r);p=Math.max(d-s,u-o)}return a(l,h,n,s,o,p),h}function v(e,t,n,s,a){var r,c;if(a===d(e,t,n,s)>0)for(r=t;r<n;r+=s)c=f(r,e[r],e[r+1],c);else for(r=n-s;r>=t;r-=s)c=f(r,e[r],e[r+1],c);return c&&o(c,c.next)&&(i(c),c=c.next),c}function c(e,t){if(!e)return e;t||(t=e);var a,n=e;do if(a=!1,n.steiner||!o(n,n.next)&&0!==s(n.prev,n,n.next))n=n.next;else{if(i(n),n=t=n.prev,n===n.next)return null;a=!0}while(a||n!==t)return t}function a(e,t,n,s,o,r,l){if(e){!l&&r&&w(e,s,o,r);for(var d,u,h=e;e.prev!==e.next;)if(u=e.prev,d=e.next,r?M(e,s,o,r):F(e))t.push(u.i/n),t.push(e.i/n),t.push(d.i/n),i(e),e=d.next,h=d.next;else if(e=d,e===h){l?1===l?(e=S(e,t,n),a(e,t,n,s,o,r,2)):2===l&&b(e,t,n,s,o,r):a(c(e),t,n,s,o,r,1);break}}}function F(e){var t,n=e.prev,o=e,i=e.next;if(s(n,o,i)>=0)return!1;for(t=e.next.next;t!==e.prev;){if(l(n.x,n.y,o.x,o.y,i.x,i.y,t.x,t.y)&&s(t.prev,t,t.next)>=0)return!1;t=t.next}return!0}function M(e,t,n,o){var r=e.prev,c=e,a=e.next;if(s(r,c,a)>=0)return!1;for(var d=r.x<c.x?r.x<a.x?r.x:a.x:c.x<a.x?c.x:a.x,u=r.y<c.y?r.y<a.y?r.y:a.y:c.y<a.y?c.y:a.y,h=r.x>c.x?r.x>a.x?r.x:a.x:c.x>a.x?c.x:a.x,f=r.y>c.y?r.y>a.y?r.y:a.y:c.y>a.y?c.y:a.y,p=m(d,u,t,n,o),g=m(h,f,t,n,o),i=e.nextZ;i&&i.z<=g;){if(i!==e.prev&&i!==e.next&&l(r.x,r.y,c.x,c.y,a.x,a.y,i.x,i.y)&&s(i.prev,i,i.next)>=0)return!1;i=i.nextZ}for(i=e.prevZ;i&&i.z>=p;){if(i!==e.prev&&i!==e.next&&l(r.x,r.y,c.x,c.y,a.x,a.y,i.x,i.y)&&s(i.prev,i,i.next)>=0)return!1;i=i.prevZ}return!0}function S(e,t,n){s=e;do{var s,c=s.prev,a=s.next.next;!o(c,a)&&g(c,s,s.next,a)&&r(c,a)&&r(a,c)&&(t.push(c.i/n),t.push(s.i/n),t.push(a.i/n),i(s),i(s.next),s=e=a),s=s.next}while(s!==e)return s}function b(e,t,n,s,o,i){var l,d,r=e;do{for(l=r.next.next;l!==r.prev;){if(r.i!==l.i&&y(r,l))return d=p(r,l),r=c(r,r.next),d=c(d,d.next),a(r,t,n,s,o,i),void a(d,t,n,s,o,i);l=l.next}r=r.next}while(r!==e)}function A(e,t,n,s){var o,i,r,l,d,a=[];for(o=0,r=t.length;o<r;o++)l=t[o]*s,d=o<r-1?t[o+1]*s:e.length,i=v(e,l,d,s,!1),i===i.next&&(i.steiner=!0),a.push(j(i));for(a.sort(k),o=0;o<a.length;o++)C(a[o],n),n=c(n,n.next);return n}function k(e,t){return e.x-t.x}function C(e,t){if(t=O(e,t)){var n=p(t,e);c(n,n.next)}}function O(e,t){var s,c,n=t,i=e.x,o=e.y,a=-(1/0);do{if(o<=n.y&&o>=n.next.y&&(c=n.x+(o-n.y)*(n.next.x-n.x)/(n.next.y-n.y),c<=i&&c>a)){if(a=c,c===i){if(o===n.y)return n;if(o===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}n=n.next}while(n!==t)if(!s)return null;if(i===a)return s.prev;var d,f=s,m=s.x,u=s.y,h=1/0;for(n=s.next;n!==f;)i>=n.x&&n.x>=m&&l(o<u?i:a,o,m,u,o<u?a:i,o,n.x,n.y)&&(d=Math.abs(o-n.y)/(i-n.x),(d<h||d===h&&n.x>s.x)&&r(n,e)&&(s=n,h=d)),n=n.next;return s}function w(e,t,n,s){var o=e;do null===o.z&&(o.z=m(o.x,o.y,t,n,s)),o.prevZ=o.prev,o.nextZ=o.next,o=o.next;while(o!==e)o.prevZ.nextZ=null,o.prevZ=null,_(o)}function _(e){var t,n,s,o,i,a,r,c,l=1;do{for(n=e,e=null,o=null,c=0;n;){for(c++,t=n,i=0,r=0;r<l&&(i++,t=t.nextZ,t);r++);for(a=l;i>0||a>0&&t;)0===i?(s=t,t=t.nextZ,a--):0!==a&&t?n.z<=t.z?(s=n,n=n.nextZ,i--):(s=t,t=t.nextZ,a--):(s=n,n=n.nextZ,i--),o?o.nextZ=s:e=s,s.prevZ=o,o=s;n=t}o.nextZ=null,l*=2}while(c>1)return e}function m(e,t,n,s,o){return e=32767*(e-n)/o,t=32767*(t-s)/o,e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e|t<<1}function j(e){var t=e,n=e;do t.x<n.x&&(n=t),t=t.next;while(t!==e)return n}function l(e,t,n,s,o,i,a,r){return(o-a)*(t-r)-(e-a)*(i-r)>=0&&(e-a)*(s-r)-(n-a)*(t-r)>=0&&(n-a)*(i-r)-(o-a)*(s-r)>=0}function y(e,t){return e.next.i!==t.i&&e.prev.i!==t.i&&!x(e,t)&&r(e,t)&&r(t,e)&&E(e,t)}function s(e,t,n){return(t.y-e.y)*(n.x-t.x)-(t.x-e.x)*(n.y-t.y)}function o(e,t){return e.x===t.x&&e.y===t.y}function g(e,t,n,i){return!!(o(e,t)&&o(n,i)||o(e,i)&&o(n,t))||s(e,t,n)>0!=s(e,t,i)>0&&s(n,i,e)>0!=s(n,i,t)>0}function x(e,t){var n=e;do{if(n.i!==e.i&&n.next.i!==e.i&&n.i!==t.i&&n.next.i!==t.i&&g(n,n.next,e,t))return!0;n=n.next}while(n!==e)return!1}function r(e,t){return s(e.prev,e,e.next)<0?s(e,t,e.next)>=0&&s(e,e.prev,t)>=0:s(e,t,e.prev)<0||s(e,e.next,t)<0}function E(e,t){var n=e,s=!1,i=(e.x+t.x)/2,o=(e.y+t.y)/2;do n.y>o!=n.next.y>o&&i<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(s=!s),n=n.next;while(n!==e)return s}function p(e,t){var s=new u(e.i,e.x,e.y),n=new u(t.i,t.x,t.y),o=e.next,i=t.prev;return e.next=t,t.prev=e,s.next=o,o.prev=s,n.next=s,s.prev=n,i.next=n,n.prev=i,n}function f(e,t,n,s){var o=new u(e,t,n);return s?(o.next=s.next,o.prev=s,s.next.prev=o,s.next=o):(o.prev=o,o.next=o),o}function i(e){e.next.prev=e.prev,e.prev.next=e.next,e.prevZ&&(e.prevZ.nextZ=e.nextZ),e.nextZ&&(e.nextZ.prevZ=e.prevZ)}function u(e,t,n){this.i=e,this.x=t,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function d(e,t,n,s){for(var a=0,o=t,i=n-s;o<n;o+=s)a+=(e[i]-e[o])*(e[o+1]+e[i+1]),i=o;return a}t.exports=h,h.deviation=function(e,t,n,s){var o,a,c,u,h,l=t&&t.length,p=l?t[0]*n:e.length,i=Math.abs(d(e,0,p,n));if(l)for(o=0,c=t.length;o<c;o++)u=t[o]*n,h=o<c-1?t[o+1]*n:e.length,i-=Math.abs(d(e,u,h,n));a=0;for(o=0;o<s.length;o+=3){var r=s[o]*n,m=s[o+1]*n,f=s[o+2]*n;a+=Math.abs((e[r]-e[f])*(e[m+1]-e[r+1])-(e[r]-e[m])*(e[f+1]-e[r+1]))}return 0===i&&0===a?0:Math.abs((a-i)/i)},h.flatten=function(e){for(var n,s,i=e[0][0].length,o={vertices:[],holes:[],dimensions:i},a=0,t=0;t<e.length;t++){for(n=0;n<e[t].length;n++)for(s=0;s<i;s++)o.vertices.push(e[t][n][s]);t>0&&(a+=e[t-1].length,o.holes.push(a))}return o}},{}],3:[function(e,t){"use strict";function i(){}function a(e,t,n){this.fn=e,this.context=t,this.once=n||!1}function s(){this._events=new i,this._eventsCount=0}var r=Object.prototype.hasOwnProperty,o="~";Object.create&&(i.prototype=Object.create(null),(new i).__proto__||(o=!1)),s.prototype.eventNames=function(){var e,n,t=[];if(0===this._eventsCount)return t;for(e in n=this._events)r.call(n,e)&&t.push(o?e.slice(1):e);return Object.getOwnPropertySymbols?t.concat(Object.getOwnPropertySymbols(n)):t},s.prototype.listeners=function(e,t){if(i=o?o+e:e,n=this._events[i],t)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var n,i,s=0,a=n.length,r=new Array(a);s<a;s++)r[s]=n[s].fn;return r},s.prototype.emit=function(e,t,n,s,i,a){if(h=o?o+e:e,!this._events[h])return!1;var c,l,u,h,m,r=this._events[h],d=arguments.length;if(r.fn){switch(r.once&&this.removeListener(e,r.fn,void 0,!0),d){case 1:return r.fn.call(r.context),!0;case 2:return r.fn.call(r.context,t),!0;case 3:return r.fn.call(r.context,t,n),!0;case 4:return r.fn.call(r.context,t,n,s),!0;case 5:return r.fn.call(r.context,t,n,s,i),!0;case 6:return r.fn.call(r.context,t,n,s,i,a),!0}for(c=1,l=new Array(d-1);c<d;c++)l[c-1]=arguments[c];r.fn.apply(r.context,l)}else{m=r.length;for(c=0;c<m;c++)switch(r[c].once&&this.removeListener(e,r[c].fn,void 0,!0),d){case 1:r[c].fn.call(r[c].context);break;case 2:r[c].fn.call(r[c].context,t);break;case 3:r[c].fn.call(r[c].context,t,n);break;case 4:r[c].fn.call(r[c].context,t,n,s);break;default:if(!l)for(u=1,l=new Array(d-1);u<d;u++)l[u-1]=arguments[u];r[c].fn.apply(r[c].context,l)}}return!0},s.prototype.on=function(e,t,n){var i=new a(t,n||this),s=o?o+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},s.prototype.once=function(e,t,n){var i=new a(t,n||this,!0),s=o?o+e:e;return this._events[s]?this._events[s].fn?this._events[s]=[this._events[s],i]:this._events[s].push(i):(this._events[s]=i,this._eventsCount++),this},s.prototype.removeListener=function(e,t,n,s){if(r=o?o+e:e,!this._events[r])return this;if(!t)return 0===--this._eventsCount?this._events=new i:delete this._events[r],this;if(a=this._events[r],a.fn)a.fn!==t||s&&!a.once||n&&a.context!==n||(0===--this._eventsCount?this._events=new i:delete this._events[r]);else{for(var a,r,c=0,l=[],d=a.length;c<d;c++)(a[c].fn!==t||s&&!a[c].once||n&&a[c].context!==n)&&l.push(a[c]);l.length?this._events[r]=1===l.length?l[0]:l:0===--this._eventsCount?this._events=new i:delete this._events[r]}return this},s.prototype.removeAllListeners=function(e){var t;return e?(t=o?o+e:e,this._events[t]&&(0===--this._eventsCount?this._events=new i:delete this._events[t])):(this._events=new i,this._eventsCount=0),this},s.prototype.off=s.prototype.removeListener,s.prototype.addListener=s.prototype.on,s.prototype.setMaxListeners=function(){return this},s.prefixed=o,s.EventEmitter=s,"undefined"!=typeof t&&(t.exports=s)},{}],4:[function(t,n){!function(t){var a=/iPhone/i,j=/iPod/i,b=/iPad/i,l=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,v=/Android/i,o=/(?=.*\bAndroid\b)(?=.*\bSD4930UR\b)/i,i=/(?=.*\bAndroid\b)(?=.*\b(?:KFOT|KFTT|KFJWI|KFJWA|KFSOWI|KFTHWI|KFTHWA|KFAPWI|KFAPWA|KFARWI|KFASWI|KFSAWI|KFSAWA)\b)/i,u=/IEMobile/i,d=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,h=/BlackBerry/i,m=/BB10/i,f=/Opera Mini/i,p=/(CriOS|Chrome)(?=.*\bMobile\b)/i,g=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,y=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),s=function(e,t){return e.test(t)},c=function(e){var t=e||navigator.userAgent,n=t.split("[FBAN");if("undefined"!=typeof n[1]&&(t=n[0]),n=t.split("Twitter"),"undefined"!=typeof n[1]&&(t=n[0]),this.apple={phone:s(a,t),ipod:s(j,t),tablet:!s(a,t)&&s(b,t),device:s(a,t)||s(j,t)||s(b,t)},this.amazon={phone:s(o,t),tablet:!s(o,t)&&s(i,t),device:s(o,t)||s(i,t)},this.android={phone:s(o,t)||s(l,t),tablet:!s(o,t)&&!s(l,t)&&(s(i,t)||s(v,t)),device:s(o,t)||s(i,t)||s(l,t)||s(v,t)},this.windows={phone:s(u,t),tablet:s(d,t),device:s(u,t)||s(d,t)},this.other={blackberry:s(h,t),blackberry10:s(m,t),opera:s(f,t),firefox:s(g,t),chrome:s(p,t),device:s(h,t)||s(m,t)||s(f,t)||s(g,t)||s(p,t)},this.seven_inch=s(y,t),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window)return this},r=function(){var e=new c;return e.Class=c,e};"undefined"!=typeof n&&n.exports&&"undefined"==typeof window?n.exports=c:"undefined"!=typeof n&&n.exports&&"undefined"!=typeof window?n.exports=r():"function"==typeof e&&e.amd?e("isMobile",[],t.isMobile=r()):t.isMobile=r()}(this)},{}],5:[function(e,t){"use strict";function o(e){if(e==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function i(){try{if(!Object.assign)return!1;if(t=new String("abc"),t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var t,s,o,n={},e=0;e<10;e++)n["_"+String.fromCharCode(e)]=e;return o=Object.getOwnPropertyNames(n).map(function(e){return n[e]}),"0123456789"===o.join("")&&(s={},"abcdefghijklmnopqrst".split("").forEach(function(e){s[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},s)).join(""))}catch{return!1}}var s=Object.getOwnPropertySymbols,a=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;t.exports=i()?Object.assign:function(e){for(var n,i,c,u,l=o(e),d=1;d<arguments.length;d++){n=Object(arguments[d]);for(u in n)a.call(n,u)&&(l[u]=n[u]);if(s){c=s(n);for(i=0;i<c.length;i++)r.call(n,c[i])&&(l[c[i]]=n[c[i]])}}return l}},{}],6:[function(e,t){var o=new ArrayBuffer(0),s=function(e,t,n,s){this.gl=e,this.buffer=e.createBuffer(),this.type=t||e.ARRAY_BUFFER,this.drawType=s||e.STATIC_DRAW,this.data=o,n&&this.upload(n),this._updateID=0};s.prototype.upload=function(e,t,n){n||this.bind();var s=this.gl;e=e||this.data,t=t||0,this.data.byteLength>=e.byteLength?s.bufferSubData(this.type,t,e):s.bufferData(this.type,e,this.drawType),this.data=e},s.prototype.bind=function(){var e=this.gl;e.bindBuffer(this.type,this.buffer)},s.createVertexBuffer=function(e,t,n){return new s(e,e.ARRAY_BUFFER,t,n)},s.createIndexBuffer=function(e,t,n){return new s(e,e.ELEMENT_ARRAY_BUFFER,t,n)},s.create=function(e,t,n,o){return new s(e,t,n,o)},s.prototype.destroy=function(){this.gl.deleteBuffer(this.buffer)},t.exports=s},{}],7:[function(e,t){var o=e("./GLTexture"),s=function(e,t,n){this.gl=e,this.framebuffer=e.createFramebuffer(),this.stencil=null,this.texture=null,this.width=t||100,this.height=n||100};s.prototype.enableTexture=function(e){var t=this.gl;this.texture=e||new o(t),this.texture.bind(),this.bind(),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture.texture,0)},s.prototype.enableStencil=function(){if(!this.stencil){var e=this.gl;this.stencil=e.createRenderbuffer(),e.bindRenderbuffer(e.RENDERBUFFER,this.stencil),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,this.stencil),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,this.width,this.height)}},s.prototype.clear=function(e,t,n,s){this.bind();var o=this.gl;o.clearColor(e,t,n,s),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT)},s.prototype.bind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,this.framebuffer)},s.prototype.unbind=function(){var e=this.gl;e.bindFramebuffer(e.FRAMEBUFFER,null)},s.prototype.resize=function(e,t){var n=this.gl;this.width=e,this.height=t,this.texture&&this.texture.uploadData(null,e,t),this.stencil&&(n.bindRenderbuffer(n.RENDERBUFFER,this.stencil),n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e,t))},s.prototype.destroy=function(){var e=this.gl;this.texture&&this.texture.destroy(),e.deleteFramebuffer(this.framebuffer),this.gl=null,this.stencil=null,this.texture=null},s.createRGBA=function(e,t,n){var a,r=o.fromData(e,null,t,n);return r.enableNearestScaling(),r.enableWrapClamp(),a=new s(e,t,n),a.enableTexture(r),a.unbind(),a},s.createFloat32=function(e,t,n,i){var a,r=new o.fromData(e,i,t,n);return r.enableNearestScaling(),r.enableWrapClamp(),a=new s(e,t,n),a.enableTexture(r),a.unbind(),a},t.exports=s},{"./GLTexture":9}],8:[function(e,t){var i=e("./shader/compileProgram"),a=e("./shader/extractAttributes"),r=e("./shader/extractUniforms"),o=e("./shader/setPrecision"),c=e("./shader/generateUniformAccessObject"),s=function(e,t,n,s,l){this.gl=e,s&&(t=o(t,s),n=o(n,s)),this.program=i(e,t,n,l),this.attributes=a(e,this.program),this.uniformData=r(e,this.program),this.uniforms=c(e,this.uniformData)};s.prototype.bind=function(){this.gl.useProgram(this.program)},s.prototype.destroy=function(){this.attributes=null,this.uniformData=null,this.uniforms=null;var e=this.gl;e.deleteProgram(this.program)},t.exports=s},{"./shader/compileProgram":14,"./shader/extractAttributes":16,"./shader/extractUniforms":17,"./shader/generateUniformAccessObject":18,"./shader/setPrecision":22}],9:[function(e,t){var o,s=function(e,t,n,s,o){this.gl=e,this.texture=e.createTexture(),this.mipmap=!1,this.premultiplyAlpha=!1,this.width=t||-1,this.height=n||-1,this.format=s||e.RGBA,this.type=o||e.UNSIGNED_BYTE};s.prototype.upload=function(e){this.bind(),t=this.gl,t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha);var t,n=e.videoWidth||e.width,s=e.videoHeight||e.height;s!==this.height||n!==this.width?t.texImage2D(t.TEXTURE_2D,0,this.format,this.format,this.type,e):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.format,this.type,e),this.width=n,this.height=s},o=!1,s.prototype.uploadData=function(e,t,n){this.bind();var i,s=this.gl;if(e instanceof Float32Array){if(!o){if(i=s.getExtension("OES_texture_float"),!i)throw new Error("floating point textures not available");o=!0}this.type=s.FLOAT}else this.type=this.type||s.UNSIGNED_BYTE;s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,this.premultiplyAlpha),t!==this.width||n!==this.height?s.texImage2D(s.TEXTURE_2D,0,this.format,t,n,0,this.format,this.type,e||null):s.texSubImage2D(s.TEXTURE_2D,0,0,0,t,n,this.format,this.type,e||null),this.width=t,this.height=n},s.prototype.bind=function(e){var t=this.gl;void 0!==e&&t.activeTexture(t.TEXTURE0+e),t.bindTexture(t.TEXTURE_2D,this.texture)},s.prototype.unbind=function(){var e=this.gl;e.bindTexture(e.TEXTURE_2D,null)},s.prototype.minFilter=function(e){var t=this.gl;this.bind(),this.mipmap?t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR_MIPMAP_LINEAR:t.NEAREST_MIPMAP_NEAREST):t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,e?t.LINEAR:t.NEAREST)},s.prototype.magFilter=function(e){var t=this.gl;this.bind(),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,e?t.LINEAR:t.NEAREST)},s.prototype.enableMipmap=function(){var e=this.gl;this.bind(),this.mipmap=!0,e.generateMipmap(e.TEXTURE_2D)},s.prototype.enableLinearScaling=function(){this.minFilter(!0),this.magFilter(!0)},s.prototype.enableNearestScaling=function(){this.minFilter(!1),this.magFilter(!1)},s.prototype.enableWrapClamp=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.CLAMP_TO_EDGE),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.CLAMP_TO_EDGE)},s.prototype.enableWrapRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.REPEAT)},s.prototype.enableWrapMirrorRepeat=function(){var e=this.gl;this.bind(),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_S,e.MIRRORED_REPEAT),e.texParameteri(e.TEXTURE_2D,e.TEXTURE_WRAP_T,e.MIRRORED_REPEAT)},s.prototype.destroy=function(){var e=this.gl;e.deleteTexture(this.texture)},s.fromSource=function(e,t,n){var o=new s(e);return o.premultiplyAlpha=n||!1,o.upload(t),o},s.fromData=function(e,t,n,o){var i=new s(e);return i.uploadData(t,n,o),i},t.exports=s},{}],10:[function(e,t){function s(e,t){if(this.nativeVaoExtension=null,s.FORCE_NATIVE||(this.nativeVaoExtension=e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object")),this.nativeState=t,this.nativeVaoExtension){this.nativeVao=this.nativeVaoExtension.createVertexArrayOES();var n=e.getParameter(e.MAX_VERTEX_ATTRIBS);this.nativeState={tempAttribState:new Array(n),attribState:new Array(n)}}this.gl=e,this.attributes=[],this.indexBuffer=null,this.dirty=!1}var o=e("./setVertexAttribArrays");s.prototype.constructor=s,t.exports=s,s.FORCE_NATIVE=!1,s.prototype.bind=function(){return this.nativeVao?(this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.dirty&&(this.dirty=!1,this.activate())):this.activate(),this},s.prototype.unbind=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(null),this},s.prototype.activate=function(){for(var e,t=this.gl,s=null,n=0;n<this.attributes.length;n++)e=this.attributes[n],s!==e.buffer&&(e.buffer.bind(),s=e.buffer),t.vertexAttribPointer(e.attribute.location,e.attribute.size,e.type||t.FLOAT,e.normalized||!1,e.stride||0,e.start||0);return o(t,this.attributes,this.nativeState),this.indexBuffer&&this.indexBuffer.bind(),this},s.prototype.addAttribute=function(e,t,n,s,o,i){return this.attributes.push({buffer:e,attribute:t,location:t.location,type:n||this.gl.FLOAT,normalized:s||!1,stride:o||0,start:i||0}),this.dirty=!0,this},s.prototype.addIndex=function(e){return this.indexBuffer=e,this.dirty=!0,this},s.prototype.clear=function(){return this.nativeVao&&this.nativeVaoExtension.bindVertexArrayOES(this.nativeVao),this.attributes.length=0,this.indexBuffer=null,this},s.prototype.draw=function(e,t,n){var s=this.gl;return this.indexBuffer?s.drawElements(e,t||this.indexBuffer.data.length,s.UNSIGNED_SHORT,2*(n||0)):s.drawArrays(e,n,t||this.getSize()),this},s.prototype.destroy=function(){this.gl=null,this.indexBuffer=null,this.attributes=null,this.nativeState=null,this.nativeVao&&this.nativeVaoExtension.deleteVertexArrayOES(this.nativeVao),this.nativeVaoExtension=null,this.nativeVao=null},s.prototype.getSize=function(){var e=this.attributes[0];return e.buffer.data.length/(e.stride/4||e.attribute.size)}},{"./setVertexAttribArrays":13}],11:[function(e,t){var s=function(e,t){var n=e.getContext("webgl",t)||e.getContext("experimental-webgl",t);if(!n)throw new Error("This browser does not support webGL. Try using the canvas renderer");return n};t.exports=s},{}],12:[function(e,t){var s={createContext:e("./createContext"),setVertexAttribArrays:e("./setVertexAttribArrays"),GLBuffer:e("./GLBuffer"),GLFramebuffer:e("./GLFramebuffer"),GLShader:e("./GLShader"),GLTexture:e("./GLTexture"),VertexArrayObject:e("./VertexArrayObject"),shader:e("./shader")};"undefined"!=typeof t&&t.exports&&(t.exports=s),"undefined"!=typeof window&&(window.PIXI=window.PIXI||{},window.PIXI.glCore=s)},{"./GLBuffer":6,"./GLFramebuffer":7,"./GLShader":8,"./GLTexture":9,"./VertexArrayObject":10,"./createContext":11,"./setVertexAttribArrays":13,"./shader":19}],13:[function(e,t){var s=function(e,t,n){if(n){var s,a,o=n.tempAttribState,i=n.attribState;for(s=0;s<o.length;s++)o[s]=!1;for(s=0;s<t.length;s++)o[t[s].attribute.location]=!0;for(s=0;s<i.length;s++)i[s]!==o[s]&&(i[s]=o[s],n.attribState[s]?e.enableVertexAttribArray(s):e.disableVertexAttribArray(s))}else for(s=0;s<t.length;s++)a=t[s],e.enableVertexAttribArray(a.attribute.location)};t.exports=s},{}],14:[function(e,t){var o=function(e,t,n,o){var c,a=s(e,e.VERTEX_SHADER,t),r=s(e,e.FRAGMENT_SHADER,n),i=e.createProgram();if(e.attachShader(i,a),e.attachShader(i,r),o)for(c in o)e.bindAttribLocation(i,o[c],c);return e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||(console.error("Pixi.js Error: Could not initialize shader."),console.error("gl.VALIDATE_STATUS",e.getProgramParameter(i,e.VALIDATE_STATUS)),console.error("gl.getError()",e.getError()),""!==e.getProgramInfoLog(i)&&console.warn("Pixi.js Warning: gl.getProgramInfoLog()",e.getProgramInfoLog(i)),e.deleteProgram(i),i=null),e.deleteShader(a),e.deleteShader(r),i},s=function(e,t,n){var s=e.createShader(t);return e.shaderSource(s,n),e.compileShader(s),e.getShaderParameter(s,e.COMPILE_STATUS)?s:(console.log(e.getShaderInfoLog(s)),null)};t.exports=o},{}],15:[function(e,t){var o=function(e,t){switch(e){case"float":return 0;case"vec2":return new Float32Array(2*t);case"vec3":return new Float32Array(3*t);case"vec4":return new Float32Array(4*t);case"int":case"sampler2D":return 0;case"ivec2":return new Int32Array(2*t);case"ivec3":return new Int32Array(3*t);case"ivec4":return new Int32Array(4*t);case"bool":return!1;case"bvec2":return s(2*t);case"bvec3":return s(3*t);case"bvec4":return s(4*t);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}},s=function(e){for(var t=new Array(e),n=0;n<t.length;n++)t[n]=!1;return t};t.exports=o},{}],16:[function(e,t){var s=e("./mapType"),o=e("./mapSize"),i=function(e,t){for(var n,r,c={},l=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES),i=0;i<l;i++)n=e.getActiveAttrib(t,i),r=s(e,n.type),c[n.name]={type:r,size:o(r),location:e.getAttribLocation(t,n.name),pointer:a};return c},a=function(e,t,n,s){gl.vertexAttribPointer(this.location,this.size,e||gl.FLOAT,t||!1,n||0,s||0)};t.exports=i},{"./mapSize":20,"./mapType":21}],17:[function(e,t){var s=e("./mapType"),o=e("./defaultValue"),i=function(e,t){for(var a={},l=e.getProgramParameter(t,e.ACTIVE_UNIFORMS),i=0;i<l;i++){var n=e.getActiveUniform(t,i),r=n.name.replace(/\[.*?\]/,""),c=s(e,n.type);a[r]={type:c,size:n.size,location:e.getUniformLocation(t,r),value:o(c,n.size)}}return a};t.exports=i},{"./defaultValue":15,"./mapType":21}],18:[function(e,t){var s=function(e,t){n={data:{}},n.gl=e;for(c=Object.keys(t),s=0;s<c.length;s++){var n,s,c,u=c[s],l=u.split("."),r=l[l.length-1],d=a(l,n),h=t[u];d.data[r]=h,d.gl=e,Object.defineProperty(d,r,{get:o(r),set:i(r,h)})}return n},o=function(e){var t=r.replace("%%",e);return new Function(t)},i=function(e,t){var n,s=c.replace(/%%/g,e);return n=1===t.size?l[t.type]:d[t.type],n&&(s+=`
this.gl.`+n+";"),new Function("value",s)},a=function(e,t){for(var o,n=t,s=0;s<e.length-1;s++)o=n[e[s]]||{data:{}},n[e[s]]=o,n=o;return n},r=["return this.data.%%.value;"].join(`
`),c=["this.data.%%.value = value;","var location = this.data.%%.location;"].join(`
`),l={float:"uniform1f(location, value)",vec2:"uniform2f(location, value[0], value[1])",vec3:"uniform3f(location, value[0], value[1], value[2])",vec4:"uniform4f(location, value[0], value[1], value[2], value[3])",int:"uniform1i(location, value)",ivec2:"uniform2i(location, value[0], value[1])",ivec3:"uniform3i(location, value[0], value[1], value[2])",ivec4:"uniform4i(location, value[0], value[1], value[2], value[3])",bool:"uniform1i(location, value)",bvec2:"uniform2i(location, value[0], value[1])",bvec3:"uniform3i(location, value[0], value[1], value[2])",bvec4:"uniform4i(location, value[0], value[1], value[2], value[3])",mat2:"uniformMatrix2fv(location, false, value)",mat3:"uniformMatrix3fv(location, false, value)",mat4:"uniformMatrix4fv(location, false, value)",sampler2D:"uniform1i(location, value)"},d={float:"uniform1fv(location, value)",vec2:"uniform2fv(location, value)",vec3:"uniform3fv(location, value)",vec4:"uniform4fv(location, value)",int:"uniform1iv(location, value)",ivec2:"uniform2iv(location, value)",ivec3:"uniform3iv(location, value)",ivec4:"uniform4iv(location, value)",bool:"uniform1iv(location, value)",bvec2:"uniform2iv(location, value)",bvec3:"uniform3iv(location, value)",bvec4:"uniform4iv(location, value)",sampler2D:"uniform1iv(location, value)"};t.exports=s},{}],19:[function(e,t){t.exports={compileProgram:e("./compileProgram"),defaultValue:e("./defaultValue"),extractAttributes:e("./extractAttributes"),extractUniforms:e("./extractUniforms"),generateUniformAccessObject:e("./generateUniformAccessObject"),setPrecision:e("./setPrecision"),mapSize:e("./mapSize"),mapType:e("./mapType")}},{"./compileProgram":14,"./defaultValue":15,"./extractAttributes":16,"./extractUniforms":17,"./generateUniformAccessObject":18,"./mapSize":20,"./mapType":21,"./setPrecision":22}],20:[function(e,t){var s=function(e){return o[e]},o={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};t.exports=s},{}],21:[function(e,t){var i=function(e,t){if(!s){var n,i,a=Object.keys(o);s={};for(n=0;n<a.length;++n)i=a[n],s[e[i]]=o[i]}return s[t]},s=null,o={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D"};t.exports=i},{}],22:[function(e,t){var s=function(e,t){return"precision"!==e.substring(0,9)?"precision "+t+` float;
`+e:e};t.exports=s},{}],23:[function(e,t,n){(function(e){function o(e,t){for(var o,s=0,n=e.length-1;n>=0;n--)o=e[n],"."===o?e.splice(n,1):".."===o?(e.splice(n,1),s++):s&&(e.splice(n,1),s--);if(t)for(;s--;s)e.unshift("..");return e}function t(e,t){if(e.filter)return e.filter(t);for(var s=[],n=0;n<e.length;n++)t(e[n],n,e)&&s.push(e[n]);return s}var i,a=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^/]+?|)(\.[^./]*|))(?:[/]*)$/,s=function(e){return a.exec(e).slice(1)};n.resolve=function(){for(var s,n="",i=!1,a=arguments.length-1;a>=-1&&!i;a--){if(s=a>=0?arguments[a]:e.cwd(),"string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,i="/"===s.charAt(0))}return n=o(t(n.split("/"),function(e){return!!e}),!i).join("/"),(i?"/":"")+n||"."},n.normalize=function(e){var s=n.isAbsolute(e),a="/"===i(e,-1);return e=o(t(e.split("/"),function(e){return!!e}),!s).join("/"),e||s||(e="."),e&&a&&(e+="/"),(s?"/":"")+e},n.isAbsolute=function(e){return"/"===e.charAt(0)},n.join=function(){var e=Array.prototype.slice.call(arguments,0);return n.normalize(t(e,function(e){if("string"!=typeof e)throw new TypeError("Arguments to path.join must be strings");return e}).join("/"))},n.relative=function(e,t){function c(e){for(var n,t=0;t<e.length&&""===e[t];t++);for(n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n-t+1)}e=n.resolve(e).substr(1),t=n.resolve(t).substr(1);for(var o,i=c(e.split("/")),a=c(t.split("/")),l=Math.min(i.length,a.length),r=l,s=0;s<l;s++)if(i[s]!==a[s]){r=s;break}for(o=[],s=r;s<i.length;s++)o.push("..");return o=o.concat(a.slice(r)),o.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(e){var n=s(e),o=n[0],t=n[1];return o||t?(t&&(t=t.substr(0,t.length-1)),o+t):"."},n.basename=function(e,t){var n=s(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},n.extname=function(e){return s(e)[3]},i="b"==="ab".substr(-1)?function(e,t,n){return e.substr(t,n)}:function(e,t,n){return t<0&&(t=e.length+t),e.substr(t,n)}}).call(this,e("_process"))},{_process:24}],24:[function(e,t){function h(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function p(e){if(i===setTimeout)return setTimeout(e,0);if((i===h||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch{try{return i.call(null,e,0)}catch{return i.call(this,e,0)}}}function v(e){if(a===clearTimeout)return clearTimeout(e);if((a===u||!a)&&clearTimeout)return a=clearTimeout,clearTimeout(e);try{return a(e)}catch{try{return a.call(null,e)}catch{return a.call(this,e)}}}function g(){l&&r&&(l=!1,r.length?o=r.concat(o):d=-1,o.length&&f())}function f(){if(!l){var e,t=p(g);l=!0;for(e=o.length;e;){for(r=o,o=[];++d<e;)r&&r[d].run();d=-1,e=o.length}r=null,l=!1,v(t)}}function m(e,t){this.fun=e,this.array=t}function c(){}s=t.exports={},!function(){try{i="function"==typeof setTimeout?setTimeout:h}catch{i=h}try{a="function"==typeof clearTimeout?clearTimeout:u}catch{a=u}}();var s,i,a,r,o=[],l=!1,d=-1;s.nextTick=function(e){var t,n=new Array(arguments.length-1);if(arguments.length>1)for(t=1;t<arguments.length;t++)n[t-1]=arguments[t];o.push(new m(e,n)),1!==o.length||l||p(f)},m.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=c,s.addListener=c,s.once=c,s.off=c,s.removeListener=c,s.removeAllListeners=c,s.emit=c,s.binding=function(){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},{}],25:[function(t,n,s){(function(t){!function(o){function r(e){throw new RangeError(D[e])}function j(e,t){for(var n=e.length,s=[];n--;)s[n]=t(e[n]);return s}function y(e,t){var o,i,n=e.split("@"),s="";return n.length>1&&(s=n[0]+"@",e=n[1]),e=e.replace(z,"."),o=e.split("."),i=j(o,t).join("."),s+i}function x(e){for(var t,o,s=[],n=0,i=e.length;n<i;)t=e.charCodeAt(n++),t>=55296&&t<=56319&&n<i?(o=e.charCodeAt(n++),56320==(64512&o)?s.push(((1023&t)<<10)+(1023&o)+65536):(s.push(t),n--)):s.push(t);return s}function C(e){return j(e,function(e){var t="";return e>65535&&(e-=65536,t+=u(e>>>10&1023|55296),e=56320|1023&e),t+=u(e)}).join("")}function N(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:a}function O(e,t){return e+22+75*(e<26)-((0!=t)<<5)}function w(e,t,n){var s=0;for(e=n?i(e/S):e>>1,e+=i(e/t);e>p*h>>1;s+=a)e=i(e/p);return i(s+(p+1)*e/(e+M))}function v(e){var n,s,o,c,l,u,m,v,j,y,f=[],O=e.length,t=0,_=k,p=b;for(n=e.lastIndexOf(E),n<0&&(n=0),o=0;o<n;++o)e.charCodeAt(o)>=128&&r("not-basic"),f.push(e.charCodeAt(o));for(m=n>0?n+1:0;m<O;){for(y=t,l=1,u=a;m>=O&&r("invalid-input"),s=N(e.charCodeAt(m++)),(s>=a||s>i((d-t)/l))&&r("overflow"),t+=s*l,v=u<=p?g:u>=p+h?h:u-p,!(s<v);u+=a)j=a-v,l>i(d/j)&&r("overflow"),l*=j;c=f.length+1,p=w(t-y,c,0==y),i(t/c)>d-_&&r("overflow"),_+=i(t/c),t%=c,f.splice(t++,0,_)}return C(f)}function _(e){var t,n,s,o,c,m,f,p,v,j,y,_,C,A,S,l=[];for(e=x(e),j=e.length,o=k,s=0,p=b,t=0;t<j;++t)n=e[t],n<128&&l.push(u(n));for(y=C=l.length,C&&l.push(E);y<j;){for(c=d,t=0;t<j;++t)n=e[t],n>=o&&n<c&&(c=n);for(_=y+1,c-o>i((d-s)/_)&&r("overflow"),s+=(c-o)*_,o=c,t=0;t<j;++t)if(n=e[t],n<o&&++s>d&&r("overflow"),n==o){for(f=s,m=a;v=m<=p?g:m>=p+h?h:m-p,!(f<v);m+=a)S=f-v,A=a-v,l.push(u(O(v+S%A,0))),f=i(S/A);l.push(u(O(f,0))),p=w(s,_,y==C),s=0,++y}++s,++o}return l.join("")}function L(e){return y(e,function(e){return F.test(e)?v(e.slice(4).toLowerCase()):e})}function R(e){return y(e,function(e){return T.test(e)?"xn--"+_(e):e})}var f="object"==typeof s&&s&&!s.nodeType&&s,A="object"==typeof n&&n&&!n.nodeType&&n,l="object"==typeof t&&t;l.global!==l&&l.window!==l&&l.self!==l||(o=l);var c,m,d=2147483647,a=36,g=1,h=26,M=38,S=700,b=72,k=128,E="-",F=/^xn--/,T=/[^\x20-\x7E]/,z=/[\x2E\u3002\uFF0E\uFF61]/g,D={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},p=a-g,i=Math.floor,u=String.fromCharCode;if(c={version:"1.4.1",ucs2:{decode:x,encode:C},decode:v,encode:_,toASCII:R,toUnicode:L},"function"==typeof e&&"object"==typeof e.amd&&e.amd)e("punycode",function(){return c});else if(f&&A)if(n.exports==f)A.exports=c;else for(m in c)c.hasOwnProperty(m)&&(f[m]=c[m]);else o.punycode=c}(this)}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],26:[function(e,t){"use strict";function s(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.exports=function(e,t,n,i){if(t=t||"&",n=n||"=",a={},"string"!=typeof e||0===e.length)return a;g=/\+/g,e=e.split(t),c=1e3,i&&"number"==typeof i.maxKeys&&(c=i.maxKeys),l=e.length,c>0&&l>c&&(l=c);for(d=0;d<l;++d){var a,r,c,l,d,u,m,f,g,h=e[d].replace(g,"%20"),p=h.indexOf(n);p>=0?(m=h.substr(0,p),f=h.substr(p+1)):(m=h,f=""),r=decodeURIComponent(m),u=decodeURIComponent(f),s(a,r)?o(a[r])?a[r].push(u):a[r]=[a[r],u]:a[r]=u}return a};var o=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},{}],27:[function(e,t){"use strict";function o(e,t){if(e.map)return e.map(t);for(var s=[],n=0;n<e.length;n++)s.push(t(e[n],n));return s}s=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}},t.exports=function(e,t,n,r){return t=t||"&",n=n||"=",null===e&&(e=void 0),"object"==typeof e?o(a(e),function(a){var r=encodeURIComponent(s(a))+n;return i(e[a])?o(e[a],function(e){return r+encodeURIComponent(s(e))}).join(t):r+encodeURIComponent(s(e[a]))}).join(t):r?encodeURIComponent(s(r))+n+encodeURIComponent(s(e)):""};var s,i=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a=Object.keys||function(e){var n,t=[];for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.push(n);return t}},{}],28:[function(e,t,n){"use strict";n.decode=n.parse=e("./decode"),n.encode=n.stringify=e("./encode")},{"./decode":26,"./encode":27}],29:[function(e,t,n){"use strict";function s(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}function a(e,t,n){if(e&&o.isObject(e)&&e instanceof s)return e;var i=new s;return i.parse(e,t,n),i}function x(e){return o.isString(e)&&(e=a(e)),e instanceof s?e.format():s.prototype.format.call(e)}function O(e,t){return a(e,!1,!0).resolve(t)}function w(e,t){return e?a(e,!1,!0).resolveObject(t):t}d=e("punycode"),o=e("./util"),n.parse=a,n.resolve=O,n.resolveObject=w,n.format=x,n.Url=s;var o,d,j=/^([a-z0-9.+-]+:)/i,v=/:[0-9]*$/,g=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,f=["<",">",'"',"`"," ",``,`
`,"	"],p=["{","}","|","\\","^","`"].concat(f),r=["'"].concat(p),m=["%","/","?",";","#"].concat(r),h=["/","?","#"],b=255,u=/^[+a-z0-9A-Z_-]{0,63}$/,y=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:!0,"javascript:":!0},l={javascript:!0,"javascript:":!0},i={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},c=e("querystring");s.prototype.parse=function(e,t,n){if(!o.isString(e))throw new TypeError("Parameter 'url' must be a string, not "+typeof e);var s,a,f,p,v,w,O,x,C,E,k,A,S,M,T,D,R,H,$,U,V=e.indexOf("?"),W=V!==-1&&V<e.indexOf("#")?"?":"#",L=e.split(W),q=/\\/g;if(L[0]=L[0].replace(q,"/"),e=L.join(W),s=e,(s=s.trim(),!n&&1===e.split("#").length)&&(C=g.exec(s),C))return this.path=s,this.href=s,this.pathname=C[1],C[2]?(this.search=C[2],t?this.query=c.parse(this.search.substr(1)):this.query=this.search.substr(1)):t&&(this.search="",this.query={}),this;if(p=j.exec(s),p&&(p=p[0],k=p.toLowerCase(),this.protocol=k,s=s.substr(p.length)),(n||p||s.match(/^\/\/[^@/]+@[^@/]+/))&&(R="//"===s.substr(0,2),!R||p&&l[p]||(s=s.substr(2),this.slashes=!0)),!l[p]&&(R||p&&!i[p])){for(f=-1,a=0;a<h.length;a++)v=s.indexOf(h[a]),v!==-1&&(f===-1||v<f)&&(f=v);S=f===-1?s.lastIndexOf("@"):s.lastIndexOf("@",f),S!==-1&&($=s.slice(0,S),s=s.slice(S+1),this.auth=decodeURIComponent($)),f=-1;for(a=0;a<m.length;a++)v=s.indexOf(m[a]),v!==-1&&(f===-1||v<f)&&(f=v);if(f===-1&&(f=s.length),this.host=s.slice(0,f),s=s.slice(f),this.parseHost(),this.hostname=this.hostname||"",E="["===this.hostname[0]&&"]"===this.hostname[this.hostname.length-1],!E)for(var F=this.hostname.split(/\./),a=0,T=F.length;a<T;a++)if(w=F[a],w&&!w.match(u)){for(var B="",z=0,K=w.length;z<K;z++)B+=w.charCodeAt(z)>127?"x":w[z];if(!B.match(u)){var I=F.slice(0,a),N=F.slice(a+1),P=w.match(y);P&&(I.push(P[1]),N.unshift(P[2])),N.length&&(s="/"+N.join(".")+s),this.hostname=I.join(".");break}}this.hostname.length>b?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=d.toASCII(this.hostname)),D=this.port?":"+this.port:"",H=this.hostname||"",this.host=H+D,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),"/"!==s[0]&&(s="/"+s))}if(!_[k])for(a=0,T=r.length;a<T;a++)O=r[a],s.indexOf(O)!==-1&&(M=encodeURIComponent(O),M===O&&(M=escape(O)),s=s.split(O).join(M));return A=s.indexOf("#"),A!==-1&&(this.hash=s.substr(A),s=s.slice(0,A)),x=s.indexOf("?"),(x!==-1?(this.search=s.substr(x),this.query=s.substr(x+1),t&&(this.query=c.parse(this.query)),s=s.slice(0,x)):t&&(this.search="",this.query={}),s&&(this.pathname=s),i[k]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search)&&(D=this.pathname||"",U=this.search||"",this.path=D+U),this.href=this.format(),this},s.prototype.format=function(){e=this.auth||"",e&&(e=encodeURIComponent(e),e=e.replace(/%3A/i,":"),e+="@");var e,n,a=this.protocol||"",s=this.pathname||"",r=this.hash||"",t=!1,l="";return this.host?t=e+this.host:this.hostname&&(t=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(t+=":"+this.port)),this.query&&o.isObject(this.query)&&Object.keys(this.query).length&&(l=c.stringify(this.query)),n=this.search||l&&"?"+l||"",a&&":"!==a.substr(-1)&&(a+=":"),this.slashes||(!a||i[a])&&t!==!1?(t="//"+(t||""),s&&"/"!==s.charAt(0)&&(s="/"+s)):t||(t=""),r&&"#"!==r.charAt(0)&&(r="#"+r),n&&"?"!==n.charAt(0)&&(n="?"+n),s=s.replace(/[?#]/g,function(e){return encodeURIComponent(e)}),n=n.replace("#","%23"),a+t+s+n+r},s.prototype.resolve=function(e){return this.resolveObject(a(e,!1,!0)).format()},s.prototype.resolveObject=function(e){o.isString(e)&&(O=new s,O.parse(e,!1,!0),e=O);for(var t=new s,E=Object.keys(this),y=0;y<E.length;y++)_=E[y],t[_]=this[_];if(t.hash=e.hash,""===e.href)return t.href=t.format(),t;if(e.slashes&&!e.protocol){for(w=Object.keys(e),m=0;m<w.length;m++)p=w[m],"protocol"!==p&&(t[p]=e[p]);return i[t.protocol]&&t.hostname&&!t.pathname&&(t.path=t.pathname="/"),t.href=t.format(),t}if(e.protocol&&e.protocol!==t.protocol){if(!i[e.protocol]){for(b=Object.keys(e),f=0;f<b.length;f++)v=b[f],t[v]=e[v];return t.href=t.format(),t}if(t.protocol=e.protocol,e.host||l[e.protocol])t.pathname=e.pathname;else{for(a=(e.pathname||"").split("/");a.length&&!(e.host=a.shift()););e.host||(e.host=""),e.hostname||(e.hostname=""),""!==a[0]&&a.unshift(""),a.length<2&&a.unshift(""),t.pathname=a.join("/")}return(t.search=e.search,t.query=e.query,t.host=e.host||"",t.auth=e.auth,t.hostname=e.hostname||e.host,t.port=e.port,t.pathname||t.search)&&(k=t.pathname||"",x=t.search||"",t.path=k+x),t.slashes=t.slashes||e.slashes,t.href=t.format(),t}var r,m,f,p,v,b,j,_,w,O,x,k,M=t.pathname&&"/"===t.pathname.charAt(0),C=e.host||e.pathname&&"/"===e.pathname.charAt(0),c=C||M||t.host&&e.pathname,A=c,n=t.pathname&&t.pathname.split("/")||[],a=e.pathname&&e.pathname.split("/")||[],g=t.protocol&&!i[t.protocol];if(g&&(t.hostname="",t.port=null,t.host&&(""===n[0]?n[0]=t.host:n.unshift(t.host)),t.host="",e.protocol&&(e.hostname=null,e.port=null,e.host&&(""===a[0]?a[0]=e.host:a.unshift(e.host)),e.host=null),c=c&&(""===a[0]||""===n[0])),C)t.host=e.host||""===e.host?e.host:t.host,t.hostname=e.hostname||""===e.hostname?e.hostname:t.hostname,t.search=e.search,t.query=e.query,n=a;else if(a.length)n||(n=[]),n.pop(),n=n.concat(a),t.search=e.search,t.query=e.query;else if(!o.isNullOrUndefined(e.search))return g&&(t.hostname=t.host=n.shift(),r=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"),r&&(t.auth=r.shift(),t.host=t.hostname=r.shift())),t.search=e.search,t.query=e.query,o.isNull(t.pathname)&&o.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.href=t.format(),t;if(!n.length)return t.pathname=null,t.search?t.path="/"+t.search:t.path=null,t.href=t.format(),t;for(var u=n.slice(-1)[0],S=(t.host||e.host||n.length>1)&&("."===u||".."===u)||""===u,h=0,d=n.length;d>=0;d--)u=n[d],"."===u?n.splice(d,1):".."===u?(n.splice(d,1),h++):h&&(n.splice(d,1),h--);if(!c&&!A)for(;h--;h)n.unshift("..");return!c||""===n[0]||n[0]&&"/"===n[0].charAt(0)||n.unshift(""),S&&"/"!==n.join("/").substr(-1)&&n.push(""),j=""===n[0]||n[0]&&"/"===n[0].charAt(0),g&&(t.hostname=t.host=j?"":n.length?n.shift():"",r=!!(t.host&&t.host.indexOf("@")>0)&&t.host.split("@"),r&&(t.auth=r.shift(),t.host=t.hostname=r.shift())),c=c||t.host&&n.length,c&&!j&&n.unshift(""),n.length?t.pathname=n.join("/"):(t.pathname=null,t.path=null),o.isNull(t.pathname)&&o.isNull(t.search)||(t.path=(t.pathname?t.pathname:"")+(t.search?t.search:"")),t.auth=e.auth||t.auth,t.slashes=t.slashes||e.slashes,t.href=t.format(),t},s.prototype.parseHost=function(){var e=this.host,t=v.exec(e);t&&(t=t[0],":"!==t&&(this.port=t.substr(1)),e=e.substr(0,e.length-t.length)),e&&(this.hostname=e)}},{"./util":30,punycode:25,querystring:28}],30:[function(e,t){"use strict";t.exports={isString:function(e){return"string"==typeof e},isObject:function(e){return"object"==typeof e&&null!==e},isNull:function(e){return null===e},isNullOrUndefined:function(e){return e==null}}},{}],31:[function(e,t,n){"use strict";function c(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=e("mini-signals"),s=o(r),l=e("parse-uri"),d=o(l),u=e("./async"),i=c(u),m=e("./Resource"),f=o(m),p=100,g=/(#[\w-]+)?$/,v=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10;h(this,e),this.baseUrl=n,this.progress=0,this.loading=!1,this.defaultQueryString="",this._beforeMiddleware=[],this._afterMiddleware=[],this._resourcesParsing=[],this._boundLoadResource=function(e,n){return t._loadResource(e,n)},this._queue=i.queue(this._boundLoadResource,o),this._queue.pause(),this.resources={},this.onProgress=new s.default,this.onError=new s.default,this.onLoad=new s.default,this.onStart=new s.default,this.onComplete=new s.default}return e.prototype.add=function(e,t,n,s){if(Array.isArray(e)){for(r=0;r<e.length;++r)this.add(e[r]);return this}if("object"===("undefined"==typeof e?"undefined":a(e))&&(s=t||e.callback||e.onComplete,n=e,t=e.url,e=e.name||e.key||e.url),"string"!=typeof t&&(s=n,n=t,t=e),"string"!=typeof t)throw new Error("No url passed to add resource to loader.");if("function"==typeof n&&(s=n,n=null),this.loading&&(!n||!n.parentResource))throw new Error("Cannot add resources while the loader is running.");if(this.resources[e])throw new Error('Resource named "'+e+'" already exists.');if(t=this._prepareUrl(t),this.resources[e]=new f.default(e,t,n),"function"==typeof s&&this.resources[e].onAfterMiddleware.once(s),this.loading){for(var r,l,d,u,o=n.parentResource,i=[],c=0;c<o.children.length;++c)o.children[c].isComplete||i.push(o.children[c]);u=o.progressChunk*(i.length+1),l=u/(i.length+2),o.children.push(this.resources[e]),o.progressChunk=l;for(d=0;d<i.length;++d)i[d].progressChunk=l;this.resources[e].progressChunk=l}return this._queue.push(this.resources[e]),this},e.prototype.pre=function(e){return this._beforeMiddleware.push(e),this},e.prototype.use=function(e){return this._afterMiddleware.push(e),this},e.prototype.reset=function(){this.progress=0,this.loading=!1,this._queue.kill(),this._queue.pause();for(t in this.resources){var t,e=this.resources[t];e._onLoadBinding&&e._onLoadBinding.detach(),e.isLoading&&e.abort()}return this.resources={},this},e.prototype.load=function(e){if("function"==typeof e&&this.onComplete.once(e),this.loading)return this;for(var n=100/this._queue._tasks.length,t=0;t<this._queue._tasks.length;++t)this._queue._tasks[t].data.progressChunk=n;return this.loading=!0,this.onStart.dispatch(this),this._queue.resume(),this},e.prototype._prepareUrl=function(e){var n,s=(0,d.default)(e,{strictMode:!0}),t=void 0;return(t=s.protocol||!s.path||0===e.indexOf("//")?e:this.baseUrl.length&&this.baseUrl.lastIndexOf("/")!==this.baseUrl.length-1&&"/"!==e.charAt(0)?this.baseUrl+"/"+e:this.baseUrl+e,this.defaultQueryString)&&(n=g.exec(t)[0],t=t.substr(0,t.length-n.length),t+=t.indexOf("?")!==-1?"&"+this.defaultQueryString:"?"+this.defaultQueryString,t+=n),t},e.prototype._loadResource=function(e,t){var n=this;e._dequeue=t,i.eachSeries(this._beforeMiddleware,function(t,s){t.call(n,e,function(){s(e.isComplete?{}:null)})},function(){e.isComplete?n._onLoad(e):(e._onLoadBinding=e.onComplete.once(n._onLoad,n),e.load())})},e.prototype._onComplete=function(){this.loading=!1,this.onComplete.dispatch(this,this.resources)},e.prototype._onLoad=function(e){var t=this;e._onLoadBinding=null,e._dequeue(),this._resourcesParsing.push(e),i.eachSeries(this._afterMiddleware,function(n,s){n.call(t,e,s)},function(){e.onAfterMiddleware.dispatch(e),t.progress+=e.progressChunk,t.onProgress.dispatch(t,e),e.error?t.onError.dispatch(e.error,t,e):t.onLoad.dispatch(t,e),t._resourcesParsing.splice(t._resourcesParsing.indexOf(e),1),t._queue.idle()&&0===t._resourcesParsing.length&&(t.progress=p,t._onComplete())})},e}();n.default=v},{"./Resource":32,"./async":33,"mini-signals":37,"parse-uri":38}],32:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(){}function l(e,t,n){t&&0===t.indexOf(".")&&(t=t.substring(1)),t&&(e[t]=n)}function a(e){return e.toString().replace("object ","")}n.__esModule=!0;var f=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),h=e("parse-uri"),u=r(h),d=e("mini-signals"),i=r(d),m=!(!window.XDomainRequest||"withCredentials"in new XMLHttpRequest),o=null,p=0,c=200,v=204,s=function(){function e(t,n,s){if(b(this,e),"string"!=typeof t||"string"!=typeof n)throw new Error("Both name and url are required for constructing a resource.");s=s||{},this._flags=0,this._setFlag(e.STATUS_FLAGS.DATA_URL,0===n.indexOf("data:")),this.name=t,this.url=n,this.extension=this._getExtension(),this.data=null,this.crossOrigin=s.crossOrigin===!0?"anonymous":s.crossOrigin,this.loadType=s.loadType||this._determineLoadType(),this.xhrType=s.xhrType,this.metadata=s.metadata||{},this.error=null,this.xhr=null,this.children=[],this.type=e.TYPE.UNKNOWN,this.progressChunk=0,this._dequeue=g,this._onLoadBinding=null,this._boundComplete=this.complete.bind(this),this._boundOnError=this._onError.bind(this),this._boundOnProgress=this._onProgress.bind(this),this._boundXhrOnError=this._xhrOnError.bind(this),this._boundXhrOnAbort=this._xhrOnAbort.bind(this),this._boundXhrOnLoad=this._xhrOnLoad.bind(this),this._boundXdrOnTimeout=this._xdrOnTimeout.bind(this),this.onStart=new i.default,this.onProgress=new i.default,this.onComplete=new i.default,this.onAfterMiddleware=new i.default}return e.setExtensionLoadType=function(t,n){l(e._loadTypeMap,t,n)},e.setExtensionXhrType=function(t,n){l(e._xhrTypeMap,t,n)},e.prototype.complete=function(){if(this.data&&this.data.removeEventListener&&(this.data.removeEventListener("error",this._boundOnError,!1),this.data.removeEventListener("load",this._boundComplete,!1),this.data.removeEventListener("progress",this._boundOnProgress,!1),this.data.removeEventListener("canplaythrough",this._boundComplete,!1)),this.xhr&&(this.xhr.removeEventListener?(this.xhr.removeEventListener("error",this._boundXhrOnError,!1),this.xhr.removeEventListener("abort",this._boundXhrOnAbort,!1),this.xhr.removeEventListener("progress",this._boundOnProgress,!1),this.xhr.removeEventListener("load",this._boundXhrOnLoad,!1)):(this.xhr.onerror=null,this.xhr.ontimeout=null,this.xhr.onprogress=null,this.xhr.onload=null)),this.isComplete)throw new Error("Complete called again for an already completed resource.");this._setFlag(e.STATUS_FLAGS.COMPLETE,!0),this._setFlag(e.STATUS_FLAGS.LOADING,!1),this.onComplete.dispatch(this)},e.prototype.abort=function(t){if(!this.error){if(this.error=new Error(t),this.xhr)this.xhr.abort();else if(this.xdr)this.xdr.abort();else if(this.data)if(this.data.src)this.data.src=e.EMPTY_GIF;else for(;this.data.firstChild;)this.data.removeChild(this.data.firstChild);this.complete()}},e.prototype.load=function(t){var n=this;if(!this.isLoading){if(this.isComplete)return void(t&&setTimeout(function(){return t(n)},1));switch(t&&this.onComplete.once(t),this._setFlag(e.STATUS_FLAGS.LOADING,!0),this.onStart.dispatch(this),this.crossOrigin!==!1&&"string"==typeof this.crossOrigin||(this.crossOrigin=this._determineCrossOrigin(this.url)),this.loadType){case e.LOAD_TYPE.IMAGE:this.type=e.TYPE.IMAGE,this._loadElement("image");break;case e.LOAD_TYPE.AUDIO:this.type=e.TYPE.AUDIO,this._loadSourceElement("audio");break;case e.LOAD_TYPE.VIDEO:this.type=e.TYPE.VIDEO,this._loadSourceElement("video");break;case e.LOAD_TYPE.XHR:default:m&&this.crossOrigin?this._loadXdr():this._loadXhr()}}},e.prototype._hasFlag=function(e){return!!(this._flags&e)},e.prototype._setFlag=function(e,t){this._flags=t?this._flags|e:this._flags&~e},e.prototype._loadElement=function(e){this.metadata.loadElement?this.data=this.metadata.loadElement:"image"===e&&"undefined"!=typeof window.Image?this.data=new Image:this.data=document.createElement(e),this.crossOrigin&&(this.data.crossOrigin=this.crossOrigin),this.metadata.skipSource||(this.data.src=this.url),this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1)},e.prototype._loadSourceElement=function(e){if(this.metadata.loadElement?this.data=this.metadata.loadElement:"audio"===e&&"undefined"!=typeof window.Audio?this.data=new Audio:this.data=document.createElement(e),null===this.data)return void this.abort("Unsupported element: "+e);if(!this.metadata.skipSource)if(navigator.isCocoonJS)this.data.src=Array.isArray(this.url)?this.url[0]:this.url;else if(Array.isArray(this.url))for(var t=0;t<this.url.length;++t)this.data.appendChild(this._createSource(e,this.url[t]));else this.data.appendChild(this._createSource(e,this.url));this.data.addEventListener("error",this._boundOnError,!1),this.data.addEventListener("load",this._boundComplete,!1),this.data.addEventListener("progress",this._boundOnProgress,!1),this.data.addEventListener("canplaythrough",this._boundComplete,!1),this.data.load()},e.prototype._loadXhr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var t=this.xhr=new XMLHttpRequest;t.open("GET",this.url,!0),this.xhrType===e.XHR_RESPONSE_TYPE.JSON||this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT?t.responseType=e.XHR_RESPONSE_TYPE.TEXT:t.responseType=this.xhrType,t.addEventListener("error",this._boundXhrOnError,!1),t.addEventListener("abort",this._boundXhrOnAbort,!1),t.addEventListener("progress",this._boundOnProgress,!1),t.addEventListener("load",this._boundXhrOnLoad,!1),t.send()},e.prototype._loadXdr=function(){"string"!=typeof this.xhrType&&(this.xhrType=this._determineXhrType());var e=this.xhr=new XDomainRequest;e.timeout=5e3,e.onerror=this._boundXhrOnError,e.ontimeout=this._boundXdrOnTimeout,e.onprogress=this._boundOnProgress,e.onload=this._boundXhrOnLoad,e.open("GET",this.url,!0),setTimeout(function(){return e.send()},1)},e.prototype._createSource=function(e,t,n){n||(n=e+"/"+t.substr(t.lastIndexOf(".")+1));var s=document.createElement("source");return s.src=t,s.type=n,s},e.prototype._onError=function(e){this.abort("Failed to load element using: "+e.target.nodeName)},e.prototype._onProgress=function(e){e&&e.lengthComputable&&this.onProgress.dispatch(this,e.loaded/e.total)},e.prototype._xhrOnError=function(){var e=this.xhr;this.abort(a(e)+" Request failed. Status: "+e.status+', text: "'+e.statusText+'"')},e.prototype._xhrOnAbort=function(){this.abort(a(this.xhr)+" Request was aborted by the user.")},e.prototype._xdrOnTimeout=function(){this.abort(a(this.xhr)+" Request timed out.")},e.prototype._xhrOnLoad=function(){var s,o,t=this.xhr,n="undefined"==typeof t.status?t.status:c;if(!(n===c||n===v||n===p&&t.responseText.length>0))return void this.abort("["+t.status+"] "+t.statusText+": "+t.responseURL);if(this.xhrType===e.XHR_RESPONSE_TYPE.TEXT)this.data=t.responseText,this.type=e.TYPE.TEXT;else if(this.xhrType===e.XHR_RESPONSE_TYPE.JSON)try{this.data=JSON.parse(t.responseText),this.type=e.TYPE.JSON}catch(e){return void this.abort("Error trying to parse loaded json: "+e)}else if(this.xhrType===e.XHR_RESPONSE_TYPE.DOCUMENT)try{window.DOMParser?(o=new DOMParser,this.data=o.parseFromString(t.responseText,"text/xml")):(s=document.createElement("div"),s.innerHTML=t.responseText,this.data=s),this.type=e.TYPE.XML}catch(e){return void this.abort("Error trying to parse loaded xml: "+e)}else this.data=t.response||t.responseText;this.complete()},e.prototype._determineCrossOrigin=function(e,t){if(0===e.indexOf("data:"))return"";t=t||window.location,o||(o=document.createElement("a")),o.href=e,e=(0,u.default)(o.href,{strictMode:!0});var n=!e.port&&""===t.port||e.port===t.port,s=e.protocol?e.protocol+":":"";return e.host===t.hostname&&n&&s===t.protocol?"":"anonymous"},e.prototype._determineXhrType=function(){return e._xhrTypeMap[this.extension]||e.XHR_RESPONSE_TYPE.TEXT},e.prototype._determineLoadType=function(){return e._loadTypeMap[this.extension]||e.LOAD_TYPE.XHR},e.prototype._getExtension=function(){var n,s,e=this.url,t="";return this.isDataUrl?(n=e.indexOf("/"),t=e.substring(n+1,e.indexOf(";",n))):(s=e.indexOf("?"),s!==-1&&(e=e.substring(0,s)),t=e.substring(e.lastIndexOf(".")+1)),t.toLowerCase()},e.prototype._getMimeFromXhrType=function(t){switch(t){case e.XHR_RESPONSE_TYPE.BUFFER:return"application/octet-binary";case e.XHR_RESPONSE_TYPE.BLOB:return"application/blob";case e.XHR_RESPONSE_TYPE.DOCUMENT:return"application/xml";case e.XHR_RESPONSE_TYPE.JSON:return"application/json";case e.XHR_RESPONSE_TYPE.DEFAULT:case e.XHR_RESPONSE_TYPE.TEXT:default:return"text/plain"}},f(e,[{key:"isDataUrl",get:function(){return this._hasFlag(e.STATUS_FLAGS.DATA_URL)}},{key:"isComplete",get:function(){return this._hasFlag(e.STATUS_FLAGS.COMPLETE)}},{key:"isLoading",get:function(){return this._hasFlag(e.STATUS_FLAGS.LOADING)}}]),e}();n.default=s,s.STATUS_FLAGS={NONE:0,DATA_URL:1,COMPLETE:2,LOADING:4},s.TYPE={UNKNOWN:0,JSON:1,XML:2,IMAGE:3,AUDIO:4,VIDEO:5,TEXT:6},s.LOAD_TYPE={XHR:1,IMAGE:2,AUDIO:3,VIDEO:4},s.XHR_RESPONSE_TYPE={DEFAULT:"text",BUFFER:"arraybuffer",BLOB:"blob",DOCUMENT:"document",JSON:"json",TEXT:"text"},s._loadTypeMap={gif:s.LOAD_TYPE.IMAGE,png:s.LOAD_TYPE.IMAGE,bmp:s.LOAD_TYPE.IMAGE,jpg:s.LOAD_TYPE.IMAGE,jpeg:s.LOAD_TYPE.IMAGE,tif:s.LOAD_TYPE.IMAGE,tiff:s.LOAD_TYPE.IMAGE,webp:s.LOAD_TYPE.IMAGE,tga:s.LOAD_TYPE.IMAGE,svg:s.LOAD_TYPE.IMAGE,"svg+xml":s.LOAD_TYPE.IMAGE,mp3:s.LOAD_TYPE.AUDIO,ogg:s.LOAD_TYPE.AUDIO,wav:s.LOAD_TYPE.AUDIO,mp4:s.LOAD_TYPE.VIDEO,webm:s.LOAD_TYPE.VIDEO},s._xhrTypeMap={xhtml:s.XHR_RESPONSE_TYPE.DOCUMENT,html:s.XHR_RESPONSE_TYPE.DOCUMENT,htm:s.XHR_RESPONSE_TYPE.DOCUMENT,xml:s.XHR_RESPONSE_TYPE.DOCUMENT,tmx:s.XHR_RESPONSE_TYPE.DOCUMENT,svg:s.XHR_RESPONSE_TYPE.DOCUMENT,tsx:s.XHR_RESPONSE_TYPE.DOCUMENT,gif:s.XHR_RESPONSE_TYPE.BLOB,png:s.XHR_RESPONSE_TYPE.BLOB,bmp:s.XHR_RESPONSE_TYPE.BLOB,jpg:s.XHR_RESPONSE_TYPE.BLOB,jpeg:s.XHR_RESPONSE_TYPE.BLOB,tif:s.XHR_RESPONSE_TYPE.BLOB,tiff:s.XHR_RESPONSE_TYPE.BLOB,webp:s.XHR_RESPONSE_TYPE.BLOB,tga:s.XHR_RESPONSE_TYPE.BLOB,json:s.XHR_RESPONSE_TYPE.JSON,text:s.XHR_RESPONSE_TYPE.TEXT,txt:s.XHR_RESPONSE_TYPE.TEXT,ttf:s.XHR_RESPONSE_TYPE.BUFFER,otf:s.XHR_RESPONSE_TYPE.BUFFER},s.EMPTY_GIF="data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=="},{"mini-signals":37,"parse-uri":38}],33:[function(e,t,n){"use strict";function s(){}function o(e,t,n){var s=0,o=e.length;!function i(a){return a||s===o?void(n&&n(a)):void t(e[s++],i)}()}function i(e){return function(){if(null===e)throw new Error("Callback was already called.");var t=e;e=null,t.apply(this,arguments)}}function a(e,t){function a(e,t,o){if(o!=null&&"function"!=typeof o)throw new Error("task callback must be a function");if(n.started=!0,e==null&&n.idle())return void setTimeout(function(){return n.drain()},1);var i={data:e,callback:"function"==typeof o?o:s};t?n._tasks.unshift(i):n._tasks.push(i),setTimeout(function(){return n.process()},1)}function r(e){return function(){o-=1,e.callback.apply(e,arguments),null!=arguments[0]&&n.error(arguments[0],e.data),o<=n.concurrency-n.buffer&&n.unsaturated(),n.idle()&&n.drain(),n.process()}}if(t==null)t=1;else if(0===t)throw new Error("Concurrency must not be zero");var o=0,n={_tasks:[],concurrency:t,saturated:s,unsaturated:s,buffer:t/4,empty:s,drain:s,error:s,started:!1,paused:!1,push:function(e,t){a(e,!1,t)},kill:function(){o=0,n.drain=s,n.started=!1,n._tasks=[]},unshift:function(e,t){a(e,!0,t)},process:function(){for(;!n.paused&&o<n.concurrency&&n._tasks.length;){var t=n._tasks.shift();0===n._tasks.length&&n.empty(),o+=1,o===n.concurrency&&n.saturated(),e(t.data,i(r(t)))}},length:function(){return n._tasks.length},running:function(){return o},idle:function(){return n._tasks.length+o===0},pause:function(){n.paused!==!0&&(n.paused=!0)},resume:function(){if(n.paused!==!1){n.paused=!1;for(var e=1;e<=n.concurrency;e++)n.process()}}};return n}n.__esModule=!0,n.eachSeries=o,n.queue=a},{}],34:[function(e,t,n){"use strict";function s(e){for(r="",s=0;s<e.length;){for(var s,a,r,c,t=[0,0,0],n=[0,0,0,0],i=0;i<t.length;++i)s<e.length?t[i]=255&e.charCodeAt(s++):t[i]=0;switch(n[0]=t[0]>>2,n[1]=(3&t[0])<<4|t[1]>>4,n[2]=(15&t[1])<<2|t[2]>>6,n[3]=63&t[2],c=s-(e.length-1),c){case 2:n[3]=64,n[2]=64;break;case 1:n[3]=64}for(a=0;a<n.length;++a)r+=o.charAt(n[a])}return r}n.__esModule=!0,n.encodeBinary=s;var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="},{}],35:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var a=e("./Loader"),s=i(a),r=e("./Resource"),c=i(r),l=e("./async"),d=o(l),u=e("./b64"),h=o(u);s.default.Resource=c.default,s.default.async=d,s.default.base64=h,t.exports=s.default,n.default=s.default},{"./Loader":31,"./Resource":32,"./async":33,"./b64":34}],36:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function r(){return function(e,t){if(!e.data)return void t();if(e.xhr&&e.xhrType===s.default.XHR_RESPONSE_TYPE.BLOB)if(window.Blob&&"string"!=typeof e.data){if(0===e.data.type.indexOf("image")){var n,o=function(){var n=a.createObjectURL(e.data);return e.blob=e.data,e.data=new Image,e.data.src=n,e.type=s.default.TYPE.IMAGE,e.data.onload=function(){a.revokeObjectURL(n),e.data.onload=null,t()},{v:void 0}}();if("object"===("undefined"==typeof o?"undefined":i(o)))return o.v}}else if(n=e.xhr.getResponseHeader("content-type"),n&&0===n.indexOf("image"))return e.data=new Image,e.data.src="data:"+n+";base64,"+d.default.encodeBinary(e.xhr.responseText),e.type=s.default.TYPE.IMAGE,void(e.data.onload=function(){e.data.onload=null,t()});t()}}n.__esModule=!0,i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n.blobMiddlewareFactory=r;var i,c=e("../../Resource"),s=o(c),l=e("../../b64"),d=o(l),a=window.URL||window.webkitURL},{"../../Resource":32,"../../b64":34}],37:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return e._head?(e._tail._next=t,t._prev=e._tail,e._tail=t):(e._head=t,e._tail=t),t._owner=e,t}Object.defineProperty(n,"__esModule",{value:!0});var a=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),s=function(){function e(t,n,s){void 0===n&&(n=!1),o(this,e),this._fn=t,this._once=n,this._thisArg=s,this._next=this._prev=this._owner=null}return a(e,[{key:"detach",value:function(){return null!==this._owner&&(this._owner.detach(this),!0)}}]),e}(),r=function(){function e(){o(this,e),this._head=this._tail=void 0}return a(e,[{key:"handlers",value:function(){var t,n=!(arguments.length<=0||void 0===arguments[0])&&arguments[0],e=this._head;if(n)return!!e;for(t=[];e;)t.push(e),e=e._next;return t}},{key:"has",value:function(e){if(!(e instanceof s))throw new Error("MiniSignal#has(): First arg must be a MiniSignalBinding object.");return e._owner===this}},{key:"dispatch",value:function(){var e=this._head;if(!e)return!1;for(;e;)e._once&&this.detach(e),e._fn.apply(e._thisArg,arguments),e=e._next;return!0}},{key:"add",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#add(): First arg must be a Function.");return i(this,new s(e,!1,t))}},{key:"once",value:function(e){var t=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if("function"!=typeof e)throw new Error("MiniSignal#once(): First arg must be a Function.");return i(this,new s(e,!0,t))}},{key:"detach",value:function(e){if(!(e instanceof s))throw new Error("MiniSignal#detach(): First arg must be a MiniSignalBinding object.");return e._owner!==this?this:(e._prev&&(e._prev._next=e._next),e._next&&(e._next._prev=e._prev),e===this._head?(this._head=e._next,null===e._next&&(this._tail=null)):e===this._tail&&(this._tail=e._prev,this._tail._next=null),e._owner=null,this)}},{key:"detachAll",value:function(){var e=this._head;if(!e)return this;for(this._head=this._tail=null;e;)e._owner=null,e=e._next;return this}}]),e}();r.MiniSignalBinding=s,n.default=r,t.exports=n.default},{}],38:[function(e,t){"use strict";t.exports=function(e,t){t=t||{};for(var n={key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?))?((((?:[^?#/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@/]*@)([^:/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#/]*\.[^?#/.]+(?:[?#]|$)))*\/?)?([^?#/]*))(?:\?([^#]*))?(?:#(.*))?)/}},i=n.parser[t.strictMode?"strict":"loose"].exec(e),s={},o=14;o--;)s[n.key[o]]=i[o]||"";return s[n.q.name]={},s[n.key[12]].replace(n.q.parser,function(e,t,o){t&&(s[n.q.name][t]=o)}),s}},{}],39:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function _(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function v(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var g=e("../core"),s=_(g),m=e("ismobilejs"),l=a(m),u=e("./accessibleTarget"),d=a(u);Object.assign(s.DisplayObject.prototype,d.default);var h=9,o=100,f=0,p=0,c=2,r=1,b=-1e3,j=-1e3,y=2,i=function(){function e(t){v(this,e),!l.default.tablet&&!l.default.phone||navigator.isCocoonJS||this.createTouchHook();var n=document.createElement("div");n.style.width=o+"px",n.style.height=o+"px",n.style.position="absolute",n.style.top=f+"px",n.style.left=p+"px",n.style.zIndex=c,this.div=n,this.pool=[],this.renderId=0,this.debug=!1,this.renderer=t,this.children=[],this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this.isActive=!1,this.isMobileAccessabillity=!1,window.addEventListener("keydown",this._onKeyDown,!1)}return e.prototype.createTouchHook=function(){var t=this,e=document.createElement("button");e.style.width=r+"px",e.style.height=r+"px",e.style.position="absolute",e.style.top=b+"px",e.style.left=j+"px",e.style.zIndex=y,e.style.backgroundColor="#FF0000",e.title="HOOK DIV",e.addEventListener("focus",function(){t.isMobileAccessabillity=!0,t.activate(),document.body.removeChild(e)}),document.body.appendChild(e)},e.prototype.activate=function(){this.isActive||(this.isActive=!0,window.document.addEventListener("mousemove",this._onMouseMove,!0),window.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),this.renderer.view.parentNode&&this.renderer.view.parentNode.appendChild(this.div))},e.prototype.deactivate=function(){this.isActive&&!this.isMobileAccessabillity&&(this.isActive=!1,window.document.removeEventListener("mousemove",this._onMouseMove),window.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),this.div.parentNode&&this.div.parentNode.removeChild(this.div))},e.prototype.updateAccessibleObjects=function(e){if(e.visible){e.accessible&&e.interactive&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);for(var n=e.children,t=n.length-1;t>=0;t--)this.updateAccessibleObjects(n[t])}},e.prototype.update=function(){if(this.renderer.renderingToScreen){this.updateAccessibleObjects(this.renderer._lastObjectRendered);var t,n,o,i,a=this.renderer.view.getBoundingClientRect(),r=a.width/this.renderer.width,c=a.height/this.renderer.height,e=this.div;e.style.left=a.left+"px",e.style.top=a.top+"px",e.style.width=this.renderer.width+"px",e.style.height=this.renderer.height+"px";for(i=0;i<this.children.length;i++)t=this.children[i],t.renderId!==this.renderId?(t._accessibleActive=!1,s.utils.removeItems(this.children,i,1),this.div.removeChild(t._accessibleDiv),this.pool.push(t._accessibleDiv),t._accessibleDiv=null,i--,0===this.children.length&&this.deactivate()):(e=t._accessibleDiv,n=t.hitArea,o=t.worldTransform,t.hitArea?(e.style.left=(o.tx+n.x*o.a)*r+"px",e.style.top=(o.ty+n.y*o.d)*c+"px",e.style.width=n.width*o.a*r+"px",e.style.height=n.height*o.d*c+"px"):(n=t.getBounds(),this.capHitArea(n),e.style.left=n.x*r+"px",e.style.top=n.y*c+"px",e.style.width=n.width*r+"px",e.style.height=n.height*c+"px"));this.renderId++}},e.prototype.capHitArea=function(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0),e.x+e.width>this.renderer.width&&(e.width=this.renderer.width-e.x),e.y+e.height>this.renderer.height&&(e.height=this.renderer.height-e.y)},e.prototype.addChild=function(e){var t=this.pool.pop();t||(t=document.createElement("button"),t.style.width=o+"px",t.style.height=o+"px",t.style.backgroundColor=this.debug?"rgba(255,0,0,0.5)":"transparent",t.style.position="absolute",t.style.zIndex=c,t.style.borderStyle="none",t.addEventListener("click",this._onClick.bind(this)),t.addEventListener("focus",this._onFocus.bind(this)),t.addEventListener("focusout",this._onFocusOut.bind(this))),e.accessibleTitle?t.title=e.accessibleTitle:e.accessibleTitle||e.accessibleHint||(t.title="displayObject "+this.tabIndex),e.accessibleHint&&t.setAttribute("aria-label",e.accessibleHint),e._accessibleActive=!0,e._accessibleDiv=t,t.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex},e.prototype._onClick=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"click",t.eventData)},e.prototype._onFocus=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseover",t.eventData)},e.prototype._onFocusOut=function(e){var t=this.renderer.plugins.interaction;t.dispatchEvent(e.target.displayObject,"mouseout",t.eventData)},e.prototype._onKeyDown=function(e){e.keyCode===h&&this.activate()},e.prototype._onMouseMove=function(){this.deactivate()},e.prototype.destroy=function(){this.div=null;for(var e=0;e<this.children.length;e++)this.children[e].div=null;window.document.removeEventListener("mousemove",this._onMouseMove),window.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null},e}();n.default=i,s.WebGLRenderer.registerPlugin("accessibility",i),s.CanvasRenderer.registerPlugin("accessibility",i)},{"../core":64,"./accessibleTarget":40,ismobilejs:4}],40:[function(e,t,n){"use strict";n.__esModule=!0,n.default={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:!1}},{}],41:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i=e("./accessibleTarget");Object.defineProperty(n,"accessibleTarget",{enumerable:!0,get:function(){return s(i).default}}),o=e("./AccessibilityManager"),Object.defineProperty(n,"AccessibilityManager",{enumerable:!0,get:function(){return s(o).default}})},{"./AccessibilityManager":39,"./accessibleTarget":40}],42:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=e("./autoDetectRenderer"),r=e("./display/Container"),c=s(r),l=e("./ticker/Ticker"),d=s(l),u=function(){function e(t,n,s,i){o(this,e),this.renderer=(0,a.autoDetectRenderer)(t,n,s,i),this.stage=new c.default,this.ticker=new d.default,this.ticker.add(this.render,this),this.start()}return e.prototype.render=function(){this.renderer.render(this.stage)},e.prototype.stop=function(){this.ticker.stop()},e.prototype.start=function(){this.ticker.start()},e.prototype.destroy=function(e){this.stop(),this.ticker.remove(this.render,this),this.ticker=null,this.stage.destroy(),this.stage=null,this.renderer.destroy(e),this.renderer=null},i(e,[{key:"view",get:function(){return this.renderer.view}}]),e}();n.default=u},{"./autoDetectRenderer":44,"./display/Container":47,"./ticker/Ticker":115}],43:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){if(e instanceof Array){if("precision"!==e[0].substring(0,9)){var t=e.slice(0);return t.unshift("precision "+o+" float;"),t}}else if("precision"!==e.substring(0,9))return"precision "+o+` float;
`+e;return e}n.__esModule=!0;var l=e("pixi-gl-core"),d=e("./settings"),u=i(d),o=u.default.PRECISION,h=function(e){function t(n,o,i){return a(this,t),r(this,e.call(this,n,s(o),s(i)))}return c(t,e),t}(l.GLShader);n.default=h},{"./settings":100,"pixi-gl-core":12}],44:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:800,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:600,n=arguments[2],s=arguments[3];return!s&&r.isWebGLSupported()?new u.default(e,t,n):new l.default(e,t,n)}n.__esModule=!0,n.autoDetectRenderer=i;var a=e("./utils"),r=o(a),c=e("./renderers/canvas/CanvasRenderer"),l=s(c),d=e("./renderers/webgl/WebGLRenderer"),u=s(d)},{"./renderers/canvas/CanvasRenderer":76,"./renderers/webgl/WebGLRenderer":83,"./utils":120}],45:[function(e,t,n){"use strict";n.__esModule=!0,n.VERSION="4.3.5",n.PI_2=2*Math.PI,n.RAD_TO_DEG=180/Math.PI,n.DEG_TO_RAD=Math.PI/180,n.RENDERER_TYPE={UNKNOWN:0,WEBGL:1,CANVAS:2},n.BLEND_MODES={NORMAL:0,ADD:1,MULTIPLY:2,SCREEN:3,OVERLAY:4,DARKEN:5,LIGHTEN:6,COLOR_DODGE:7,COLOR_BURN:8,HARD_LIGHT:9,SOFT_LIGHT:10,DIFFERENCE:11,EXCLUSION:12,HUE:13,SATURATION:14,COLOR:15,LUMINOSITY:16},n.DRAW_MODES={POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6},n.SCALE_MODES={LINEAR:0,NEAREST:1},n.WRAP_MODES={CLAMP:0,REPEAT:1,MIRRORED_REPEAT:2},n.GC_MODES={AUTO:0,MANUAL:1},n.URL_FILE_EXTENSION=/\.(\w{3,4})(?:$|\?|#)/i,n.DATA_URI=/^\s*data:(?:([\w-]+)\/([\w+.-]+))?(?:;(charset=[\w-]+|base64))?,(.*)/i,n.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i,n.SHAPES={POLY:0,RECT:1,CIRC:2,ELIP:3,RREC:4},n.PRECISION={LOW:"lowp",MEDIUM:"mediump",HIGH:"highp"},n.TRANSFORM_MODE={STATIC:0,DYNAMIC:1},n.TEXT_GRADIENT={LINEAR_VERTICAL:0,LINEAR_HORIZONTAL:1}},{}],46:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var s=e("../math"),i=function(){function e(){o(this,e),this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0),this.rect=null}return e.prototype.isEmpty=function(){return this.minX>this.maxX||this.minY>this.maxY},e.prototype.clear=function(){this.updateID++,this.minX=1/0,this.minY=1/0,this.maxX=-(1/0),this.maxY=-(1/0)},e.prototype.getRectangle=function(e){return this.minX>this.maxX||this.minY>this.maxY?s.Rectangle.EMPTY:(e=e||new s.Rectangle(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)},e.prototype.addPoint=function(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)},e.prototype.addQuad=function(e){var s=this.minX,o=this.minY,i=this.maxX,a=this.maxY,t=e[0],n=e[1],s=t<s?t:s,o=n<o?n:o,i=t>i?t:i,a=n>a?n:a,t=e[2],n=e[3],s=t<s?t:s,o=n<o?n:o,i=t>i?t:i,a=n>a?n:a,t=e[4],n=e[5],s=t<s?t:s,o=n<o?n:o,i=t>i?t:i,a=n>a?n:a,t=e[6],n=e[7],s=t<s?t:s,o=n<o?n:o,i=t>i?t:i,a=n>a?n:a;this.minX=s,this.minY=o,this.maxX=i,this.maxY=a},e.prototype.addFrame=function(e,t,n,s,o){var u=e.worldTransform,v=u.a,g=u.b,h=u.c,p=u.d,f=u.tx,m=u.ty,r=this.minX,d=this.minY,l=this.maxX,c=this.maxY,a=v*t+h*n+f,i=g*t+p*n+m,r=a<r?a:r,d=i<d?i:d,l=a>l?a:l,c=i>c?i:c,a=v*s+h*n+f,i=g*s+p*n+m,r=a<r?a:r,d=i<d?i:d,l=a>l?a:l,c=i>c?i:c,a=v*t+h*o+f,i=g*t+p*o+m,r=a<r?a:r,d=i<d?i:d,l=a>l?a:l,c=i>c?i:c,a=v*s+h*o+f,i=g*s+p*o+m,r=a<r?a:r,d=i<d?i:d,l=a>l?a:l,c=i>c?i:c;this.minX=r,this.minY=d,this.maxX=l,this.maxY=c},e.prototype.addVertices=function(e,t,n,s){for(var o=e.worldTransform,j=o.a,b=o.b,v=o.c,g=o.d,p=o.tx,f=o.ty,u=this.minX,i=this.minY,d=this.maxX,l=this.maxY,c=n;c<s;c+=2)var h=t[c],m=t[c+1],r=j*h+v*m+p,a=g*m+b*h+f,u=r<u?r:u,i=a<i?a:i,d=r>d?r:d,l=a>l?a:l;this.minX=u,this.minY=i,this.maxX=d,this.maxY=l},e.prototype.addBounds=function(e){var t=this.minX,n=this.minY,s=this.maxX,o=this.maxY;this.minX=e.minX<t?e.minX:t,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>s?e.maxX:s,this.maxY=e.maxY>o?e.maxY:o},e.prototype.addBoundsMask=function(e,t){var n=e.minX>t.minX?e.minX:t.minX,s=e.minY>t.minY?e.minY:t.minY,o=e.maxX<t.maxX?e.maxX:t.maxX,i=e.maxY<t.maxY?e.maxY:t.maxY;if(n<=o&&s<=i){var a=this.minX,r=this.minY,c=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=s<r?s:r,this.maxX=o>c?o:c,this.maxY=i>l?i:l}},e.prototype.addBoundsArea=function(e,t){var n=e.minX>t.x?e.minX:t.x,s=e.minY>t.y?e.minY:t.y,o=e.maxX<t.x+t.width?e.maxX:t.x+t.width,i=e.maxY<t.y+t.height?e.maxY:t.y+t.height;if(n<=o&&s<=i){var a=this.minX,r=this.minY,c=this.maxX,l=this.maxY;this.minX=n<a?n:a,this.minY=s<r?s:r,this.maxX=o>c?o:c,this.maxY=i>l?i:l}},e}();n.default=i},{"../math":69}],47:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),s=e("../utils"),d=e("./DisplayObject"),u=i(d),o=function(e){function t(){a(this,t);var n=r(this,e.call(this));return n.children=[],n}return c(t,e),t.prototype.onChildrenChange=function(){},t.prototype.addChild=function(e){var t,n=arguments.length;if(n>1)for(t=0;t<n;t++)this.addChild(arguments[t]);else e.parent&&e.parent.removeChild(e),e.parent=this,this.transform._parentID=-1,this._boundsID++,this.children.push(e),this.onChildrenChange(this.children.length-1),e.emit("added",this);return e},t.prototype.addChildAt=function(e,t){if(t<0||t>this.children.length)throw new Error(e+"addChildAt: The index "+t+" supplied is out of bounds "+this.children.length);return e.parent&&e.parent.removeChild(e),e.parent=this,this.children.splice(t,0,e),this.onChildrenChange(t),e.emit("added",this),e},t.prototype.swapChildren=function(e,t){if(e!==t){var n=this.getChildIndex(e),s=this.getChildIndex(t);this.children[n]=t,this.children[s]=e,this.onChildrenChange(n<s?n:s)}},t.prototype.getChildIndex=function(e){var t=this.children.indexOf(e);if(t===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return t},t.prototype.setChildIndex=function(e,t){if(t<0||t>=this.children.length)throw new Error("The supplied index is out of bounds");var n=this.getChildIndex(e);(0,s.removeItems)(this.children,n,1),this.children.splice(t,0,e),this.onChildrenChange(t)},t.prototype.getChildAt=function(e){if(e<0||e>=this.children.length)throw new Error("getChildAt: Index ("+e+") does not exist.");return this.children[e]},t.prototype.removeChild=function(e){var t,n,o=arguments.length;if(o>1)for(t=0;t<o;t++)this.removeChild(arguments[t]);else{if(n=this.children.indexOf(e),n===-1)return null;e.parent=null,(0,s.removeItems)(this.children,n,1),this.transform._parentID=-1,this._boundsID++,this.onChildrenChange(n),e.emit("removed",this)}return e},t.prototype.removeChildAt=function(e){var t=this.getChildAt(e);return t.parent=null,(0,s.removeItems)(this.children,e,1),this.onChildrenChange(e),t.emit("removed",this),t},t.prototype.removeChildren=function(){var n,s,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,i=arguments[1],a=o,r="number"==typeof i?i:this.children.length,t=r-a,e=void 0;if(t>0&&t<=r){e=this.children.splice(a,t);for(n=0;n<e.length;++n)e[n].parent=null;this.onChildrenChange(o);for(s=0;s<e.length;++s)e[s].emit("removed",this);return e}if(0===t&&0===this.children.length)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")},t.prototype.updateTransform=function(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(var t,e=0,n=this.children.length;e<n;++e)t=this.children[e],t.visible&&t.updateTransform()},t.prototype.calculateBounds=function(){this._bounds.clear(),this._calculateBounds();for(var e,t=0;t<this.children.length;t++)e=this.children[t],e.visible&&e.renderable&&(e.calculateBounds(),e._mask?(e._mask.calculateBounds(),this._bounds.addBoundsMask(e._bounds,e._mask._bounds)):e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds));this._lastBoundsID=this._boundsID},t.prototype._calculateBounds=function(){},t.prototype.renderWebGL=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable)if(this._mask||this._filters)this.renderAdvancedWebGL(e);else{this._renderWebGL(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderWebGL(e)}},t.prototype.renderAdvancedWebGL=function(e){e.flush();var n,s,i,t=this._filters,o=this._mask;if(t){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(n=0;n<t.length;n++)t[n].enabled&&this._enabledFilters.push(t[n]);this._enabledFilters.length&&e.filterManager.pushFilter(this,this._enabledFilters)}o&&e.maskManager.pushMask(this,this._mask),this._renderWebGL(e);for(s=0,i=this.children.length;s<i;s++)this.children[s].renderWebGL(e);e.flush(),o&&e.maskManager.popMask(this,this._mask),t&&this._enabledFilters&&this._enabledFilters.length&&e.filterManager.popFilter()},t.prototype._renderWebGL=function(){},t.prototype._renderCanvas=function(){},t.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.renderable){this._mask&&e.maskManager.pushMask(this._mask),this._renderCanvas(e);for(var t=0,n=this.children.length;t<n;++t)this.children[t].renderCanvas(e);this._mask&&e.maskManager.popMask(e)}},t.prototype.destroy=function(t){e.prototype.destroy.call(this);var n,o="boolean"==typeof t?t:t&&t.children,s=this.removeChildren(0,this.children.length);if(o)for(n=0;n<s.length;++n)s[n].destroy(t)},l(t,[{key:"width",get:function(){return this.scale.x*this.getLocalBounds().width},set:function(e){var t=this.getLocalBounds().width;0!==t?this.scale.x=e/t:this.scale.x=1,this._width=e}},{key:"height",get:function(){return this.scale.y*this.getLocalBounds().height},set:function(e){var t=this.getLocalBounds().height;0!==t?this.scale.y=e/t:this.scale.y=1,this._height=e}}]),t}(u.default);n.default=o,o.prototype.containerUpdateTransform=o.prototype.updateTransform},{"../utils":120,"./DisplayObject":48}],48:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var m=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),c=e("eventemitter3"),l=s(c),d=e("../const"),a=e("../settings"),h=s(a),r=e("./TransformStatic"),f=s(r),p=e("./Transform"),g=s(p),v=e("./Bounds"),b=s(v),i=e("../math"),o=function(e){function t(){y(this,t);var n=j(this,e.call(this)),s=h.default.TRANSFORM_MODE===d.TRANSFORM_MODE.STATIC?f.default:g.default;return n.tempDisplayObjectParent=null,n.transform=new s,n.alpha=1,n.visible=!0,n.renderable=!0,n.parent=null,n.worldAlpha=1,n.filterArea=null,n._filters=null,n._enabledFilters=null,n._bounds=new b.default,n._boundsID=0,n._lastBoundsID=-1,n._boundsRect=null,n._localBoundsRect=null,n._mask=null,n}return u(t,e),t.prototype.updateTransform=function(){this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha,this._bounds.updateID++},t.prototype._recursivePostUpdateTransform=function(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)},t.prototype.getBounds=function(e,t){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._boundsID!==this._lastBoundsID&&this.calculateBounds(),t||(this._boundsRect||(this._boundsRect=new i.Rectangle),t=this._boundsRect),this._bounds.getRectangle(t)},t.prototype.getLocalBounds=function(e){var t,n=this.transform,s=this.parent;return this.parent=null,this.transform=this._tempDisplayObjectParent.transform,e||(this._localBoundsRect||(this._localBoundsRect=new i.Rectangle),e=this._localBoundsRect),t=this.getBounds(!1,e),this.parent=s,this.transform=n,t},t.prototype.toGlobal=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,t)},t.prototype.toLocal=function(e,t,n,s){return t&&(e=t.toGlobal(e,n,s)),s||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)},t.prototype.renderWebGL=function(){},t.prototype.renderCanvas=function(){},t.prototype.setParent=function(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e},t.prototype.setTransform=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1,t=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,i=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:0,r=arguments.length>7&&void 0!==arguments[7]?arguments[7]:0,c=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;return this.position.x=n,this.position.y=s,this.scale.x=e||1,this.scale.y=t||1,this.rotation=o,this.skew.x=i,this.skew.y=a,this.pivot.x=r,this.pivot.y=c,this},t.prototype.destroy=function(){this.removeAllListeners(),this.parent&&this.parent.removeChild(this),this.transform=null,this.parent=null,this._bounds=null,this._currentBounds=null,this._mask=null,this.filterArea=null,this.interactive=!1,this.interactiveChildren=!1},m(t,[{key:"_tempDisplayObjectParent",get:function(){return null===this.tempDisplayObjectParent&&(this.tempDisplayObjectParent=new t),this.tempDisplayObjectParent}},{key:"x",get:function(){return this.position.x},set:function(e){this.transform.position.x=e}},{key:"y",get:function(){return this.position.y},set:function(e){this.transform.position.y=e}},{key:"worldTransform",get:function(){return this.transform.worldTransform}},{key:"localTransform",get:function(){return this.transform.localTransform}},{key:"position",get:function(){return this.transform.position},set:function(e){this.transform.position.copy(e)}},{key:"scale",get:function(){return this.transform.scale},set:function(e){this.transform.scale.copy(e)}},{key:"pivot",get:function(){return this.transform.pivot},set:function(e){this.transform.pivot.copy(e)}},{key:"skew",get:function(){return this.transform.skew},set:function(e){this.transform.skew.copy(e)}},{key:"rotation",get:function(){return this.transform.rotation},set:function(e){this.transform.rotation=e}},{key:"worldVisible",get:function(){var e=this;do{if(!e.visible)return!1;e=e.parent}while(e)return!0}},{key:"mask",get:function(){return this._mask},set:function(e){this._mask&&(this._mask.renderable=!0),this._mask=e,this._mask&&(this._mask.renderable=!1)}},{key:"filters",get:function(){return this._filters&&this._filters.slice()},set:function(e){this._filters=e&&e.slice()}}]),t}(l.default);n.default=o,o.prototype.displayObjectUpdateTransform=o.prototype.updateTransform},{"../const":45,"../math":69,"../settings":100,"./Bounds":46,"./Transform":49,"./TransformStatic":51,eventemitter3:3}],49:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),s=e("../math"),l=e("./TransformBase"),d=o(l),u=function(e){function t(){i(this,t);var n=a(this,e.call(this));return n.position=new s.Point(0,0),n.scale=new s.Point(1,1),n.skew=new s.ObservablePoint(n.updateSkew,n,0,0),n.pivot=new s.Point(0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n}return r(t,e),t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x)},t.prototype.updateLocalTransform=function(){var e=this.localTransform;e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d)},t.prototype.updateTransform=function(e){t=this.localTransform,t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d);var t,n=e.worldTransform,s=this.worldTransform;s.a=t.a*n.a+t.b*n.c,s.b=t.a*n.b+t.b*n.d,s.c=t.c*n.a+t.d*n.c,s.d=t.c*n.b+t.d*n.d,s.tx=t.tx*n.a+t.ty*n.c+n.tx,s.ty=t.tx*n.b+t.ty*n.d+n.ty,this._worldID++},t.prototype.setFromMatrix=function(e){e.decompose(this)},c(t,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(d.default);n.default=u},{"../math":69,"./TransformBase":50}],50:[function(e,t,n){"use strict";function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../math"),s=function(){function e(){i(this,e),this.worldTransform=new o.Matrix,this.localTransform=new o.Matrix,this._worldID=0,this._parentID=0}return e.prototype.updateLocalTransform=function(){},e.prototype.updateTransform=function(e){var t=e.worldTransform,s=this.worldTransform,n=this.localTransform;s.a=n.a*t.a+n.b*t.c,s.b=n.a*t.b+n.b*t.d,s.c=n.c*t.a+n.d*t.c,s.d=n.c*t.b+n.d*t.d,s.tx=n.tx*t.a+n.ty*t.c+t.tx,s.ty=n.tx*t.b+n.ty*t.d+t.ty,this._worldID++},e}();n.default=s,s.prototype.updateWorldTransform=s.prototype.updateTransform,s.IDENTITY=new s},{"../math":69}],51:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),s=e("../math"),l=e("./TransformBase"),d=o(l),u=function(e){function t(){i(this,t);var n=a(this,e.call(this));return n.position=new s.ObservablePoint(n.onChange,n,0,0),n.scale=new s.ObservablePoint(n.onChange,n,1,1),n.pivot=new s.ObservablePoint(n.onChange,n,0,0),n.skew=new s.ObservablePoint(n.updateSkew,n,0,0),n._rotation=0,n._cx=1,n._sx=0,n._cy=0,n._sy=1,n._localID=0,n._currentLocalID=0,n}return r(t,e),t.prototype.onChange=function(){this._localID++},t.prototype.updateSkew=function(){this._cx=Math.cos(this._rotation+this.skew._y),this._sx=Math.sin(this._rotation+this.skew._y),this._cy=-Math.sin(this._rotation-this.skew._x),this._sy=Math.cos(this._rotation-this.skew._x),this._localID++},t.prototype.updateLocalTransform=function(){var e=this.localTransform;this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale._x,e.b=this._sx*this.scale._x,e.c=this._cy*this.scale._y,e.d=this._sy*this.scale._y,e.tx=this.position._x-(this.pivot._x*e.a+this.pivot._y*e.c),e.ty=this.position._y-(this.pivot._x*e.b+this.pivot._y*e.d),this._currentLocalID=this._localID,this._parentID=-1)},t.prototype.updateTransform=function(e){if(t=this.localTransform,this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale._x,t.b=this._sx*this.scale._x,t.c=this._cy*this.scale._y,t.d=this._sy*this.scale._y,t.tx=this.position._x-(this.pivot._x*t.a+this.pivot._y*t.c),t.ty=this.position._y-(this.pivot._x*t.b+this.pivot._y*t.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==e._worldID){var t,n=e.worldTransform,s=this.worldTransform;s.a=t.a*n.a+t.b*n.c,s.b=t.a*n.b+t.b*n.d,s.c=t.c*n.a+t.d*n.c,s.d=t.c*n.b+t.d*n.d,s.tx=t.tx*n.a+t.ty*n.c+n.tx,s.ty=t.tx*n.b+t.ty*n.d+n.ty,this._parentID=e._worldID,this._worldID++}},t.prototype.setFromMatrix=function(e){e.decompose(this),this._localID++},c(t,[{key:"rotation",get:function(){return this._rotation},set:function(e){this._rotation=e,this.updateSkew()}}]),t}(d.default);n.default=u},{"../math":69,"./TransformBase":50}],52:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function A(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function E(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var j=e("../display/Container"),b=o(j),v=e("../textures/RenderTexture"),d=o(v),_=e("../textures/Texture"),h=o(_),F=e("./GraphicsData"),w=o(F),p=e("../sprites/Sprite"),g=o(p),s=e("../math"),l=e("../utils"),i=e("../const"),y=e("../display/Bounds"),m=o(y),f=e("./utils/bezierCurveTo"),O=o(f),x=e("../renderers/canvas/CanvasRenderer"),C=o(x),c=void 0,r=new s.Matrix,a=new s.Point,S=new Float32Array(4),M=new Float32Array(4),u=function(e){function t(){A(this,t);var n=k(this,e.call(this));return n.fillAlpha=1,n.lineWidth=0,n.lineColor=0,n.graphicsData=[],n.tint=16777215,n._prevTint=16777215,n.blendMode=i.BLEND_MODES.NORMAL,n.currentPath=null,n._webGL={},n.isMask=!1,n.boundsPadding=0,n._localBounds=new m.default,n.dirty=0,n.fastRectDirty=-1,n.clearDirty=0,n.boundsDirty=-1,n.cachedSpriteDirty=!1,n._spriteRect=null,n._fastRect=!1,n}return E(t,e),t.prototype.clone=function e(){var n,e=new t;e.renderable=this.renderable,e.fillAlpha=this.fillAlpha,e.lineWidth=this.lineWidth,e.lineColor=this.lineColor,e.tint=this.tint,e.blendMode=this.blendMode,e.isMask=this.isMask,e.boundsPadding=this.boundsPadding,e.dirty=0,e.cachedSpriteDirty=this.cachedSpriteDirty;for(n=0;n<this.graphicsData.length;++n)e.graphicsData.push(this.graphicsData[n].clone());return e.currentPath=e.graphicsData[e.graphicsData.length-1],e.updateLocalBounds(),e},t.prototype.lineStyle=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return(this.lineWidth=t,this.lineColor=n,this.lineAlpha=o,this.currentPath)&&(this.currentPath.shape.points.length?(e=new s.Polygon(this.currentPath.shape.points.slice(-2)),e.closed=!1,this.drawShape(e)):(this.currentPath.lineWidth=this.lineWidth,this.currentPath.lineColor=this.lineColor,this.currentPath.lineAlpha=this.lineAlpha)),this},t.prototype.moveTo=function(e,t){var n=new s.Polygon([e,t]);return n.closed=!1,this.drawShape(n),this},t.prototype.lineTo=function(e,t){return this.currentPath.shape.points.push(e,t),this.dirty++,this},t.prototype.quadraticCurveTo=function(e,t,n,s){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var o,l=20,i=this.currentPath.shape.points,a=0,r=0;0===i.length&&this.moveTo(0,0);for(var d=i[i.length-2],u=i[i.length-1],c=1;c<=l;++c)o=c/l,a=d+(e-d)*o,r=u+(t-u)*o,i.push(a+(e+(n-e)*o-a)*o,r+(t+(s-t)*o-r)*o);return this.dirty++,this},t.prototype.bezierCurveTo=function(e,t,n,s,o,i){this.currentPath?0===this.currentPath.shape.points.length&&(this.currentPath.shape.points=[0,0]):this.moveTo(0,0);var a=this.currentPath.shape.points,r=a[a.length-2],c=a[a.length-1];return a.length-=2,(0,O.default)(r,c,e,t,n,s,o,i,a),this.dirty++,this},t.prototype.arcTo=function(e,t,n,s,o){this.currentPath?0===this.currentPath.shape.points.length&&this.currentPath.shape.points.push(e,t):this.moveTo(e,t);var i=this.currentPath.shape.points,_=i[i.length-2],y=i[i.length-1],a=y-t,r=_-e,c=s-t,l=n-e,m=Math.abs(a*l-r*c);if(m<1e-8||0===o)i[i.length-2]===e&&i[i.length-1]===t||i.push(e,t);else{var b=a*a+r*r,j=c*c+l*l,g=a*c+r*l,d=o*Math.sqrt(b)/m,u=o*Math.sqrt(j)/m,v=d*g/b,p=u*g/j,h=d*l+u*r,f=d*c+u*a,w=r*(u+v),O=a*(u+v),x=l*(d+p),C=c*(d+p),E=Math.atan2(O-f,w-h),k=Math.atan2(C-f,x-h);this.arc(h+e,f+t,o,E,k,r*c>l*a)}return this.dirty++,this},t.prototype.arc=function(e,t,n,s,o){if(d=arguments.length>5&&void 0!==arguments[5]&&arguments[5],s===o)return this;if(!d&&o<=s?o+=2*Math.PI:d&&s<=o&&(s+=2*Math.PI),a=o-s,m=40*Math.ceil(Math.abs(a)/(2*Math.PI)),0===a)return this;var u=e+Math.cos(s)*n,l=t+Math.sin(s)*n,i=this.currentPath?this.currentPath.shape.points:null;i?i[i.length-2]===u&&i[i.length-1]===l||i.push(u,l):(this.moveTo(u,l),i=this.currentPath.shape.points);for(var a,d,m,c=a/(2*m),j=2*c,f=Math.cos(c),p=Math.sin(c),h=m-1,y=h%1/h,r=0;r<=h;++r){var _=r+y*r,g=c+s+j*_,v=Math.cos(g),b=-Math.sin(g);i.push((f*v+p*b)*n+e,(f*-b+p*v)*n+t)}return this.dirty++,this},t.prototype.beginFill=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return this.filling=!0,this.fillColor=e,this.fillAlpha=t,this.currentPath&&this.currentPath.shape.points.length<=2&&(this.currentPath.fill=this.filling,this.currentPath.fillColor=this.fillColor,this.currentPath.fillAlpha=this.fillAlpha),this},t.prototype.endFill=function(){return this.filling=!1,this.fillColor=null,this.fillAlpha=1,this},t.prototype.drawRect=function(e,t,n,o){return this.drawShape(new s.Rectangle(e,t,n,o)),this},t.prototype.drawRoundedRect=function(e,t,n,o,i){return this.drawShape(new s.RoundedRectangle(e,t,n,o,i)),this},t.prototype.drawCircle=function(e,t,n){return this.drawShape(new s.Circle(e,t,n)),this},t.prototype.drawEllipse=function(e,t,n,o){return this.drawShape(new s.Ellipse(e,t,n,o)),this},t.prototype.drawPolygon=function(e){var n,o,t=e,i=!0;if(t instanceof s.Polygon&&(i=t.closed,t=t.points),!Array.isArray(t)){t=new Array(arguments.length);for(n=0;n<t.length;++n)t[n]=arguments[n]}return o=new s.Polygon(t),o.closed=i,this.drawShape(o),this},t.prototype.clear=function(){return(this.lineWidth||this.filling||this.graphicsData.length>0)&&(this.lineWidth=0,this.filling=!1,this.boundsDirty=-1,this.dirty++,this.clearDirty++,this.graphicsData.length=0),this.currentPath=null,this._spriteRect=null,this},t.prototype.isFastRect=function(){return 1===this.graphicsData.length&&this.graphicsData[0].shape.type===i.SHAPES.RECT&&!this.graphicsData[0].lineWidth},t.prototype._renderWebGL=function(e){this.dirty!==this.fastRectDirty&&(this.fastRectDirty=this.dirty,this._fastRect=this.isFastRect()),this._fastRect?this._renderSpriteRect(e):(e.setObjectRenderer(e.plugins.graphics),e.plugins.graphics.render(this))},t.prototype._renderSpriteRect=function(e){if(n=this.graphicsData[0].shape,this._spriteRect||(t._SPRITE_TEXTURE||(t._SPRITE_TEXTURE=d.default.create(10,10),s=document.createElement("canvas"),s.width=10,s.height=10,a=s.getContext("2d"),a.fillStyle="white",a.fillRect(0,0,10,10),t._SPRITE_TEXTURE=h.default.fromCanvas(s)),this._spriteRect=new g.default(t._SPRITE_TEXTURE)),16777215===this.tint)this._spriteRect.tint=this.graphicsData[0].fillColor;else{var n,s,a,o=S,i=M;(0,l.hex2rgb)(this.graphicsData[0].fillColor,o),(0,l.hex2rgb)(this.tint,i),o[0]*=i[0],o[1]*=i[1],o[2]*=i[2],this._spriteRect.tint=(0,l.rgb2hex)(o)}this._spriteRect.alpha=this.graphicsData[0].fillAlpha,this._spriteRect.worldAlpha=this.worldAlpha*this._spriteRect.alpha,t._SPRITE_TEXTURE._frame.width=n.width,t._SPRITE_TEXTURE._frame.height=n.height,this._spriteRect.transform.worldTransform=this.transform.worldTransform,this._spriteRect.anchor.set(-n.x/n.width,-n.y/n.height),this._spriteRect._onAnchorUpdate(),this._spriteRect._renderWebGL(e)},t.prototype._renderCanvas=function(e){this.isMask!==!0&&e.plugins.graphics.render(this)},t.prototype._calculateBounds=function(){this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.updateLocalBounds(),this.cachedSpriteDirty=!0);var e=this._localBounds;this._bounds.addFrame(this.transform,e.minX,e.minY,e.maxX,e.maxY)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,a);for(var t,s=this.graphicsData,n=0;n<s.length;++n)if(t=s[n],t.fill&&t.shape&&t.shape.contains(a.x,a.y))return!0;return!1},t.prototype.updateLocalBounds=function(){var o=1/0,a=-(1/0),r=1/0,c=-(1/0);if(this.graphicsData.length)for(var l=0,e=0,t=0,n=0,s=0,_=0;_<this.graphicsData.length;_++){var x=this.graphicsData[_],y=x.type,d=x.lineWidth;if(l=x.shape,y===i.SHAPES.RECT||y===i.SHAPES.RREC)e=l.x-d/2,t=l.y-d/2,n=l.width+d,s=l.height+d,o=e<o?e:o,a=e+n>a?e+n:a,r=t<r?t:r,c=t+s>c?t+s:c;else if(y===i.SHAPES.CIRC)e=l.x,t=l.y,n=l.radius+d/2,s=l.radius+d/2,o=e-n<o?e-n:o,a=e+n>a?e+n:a,r=t-s<r?t-s:r,c=t+s>c?t+s:c;else if(y===i.SHAPES.ELIP)e=l.x,t=l.y,n=l.width+d/2,s=l.height+d/2,o=e-n<o?e-n:o,a=e+n>a?e+n:a,r=t-s<r?t-s:r,c=t+s>c?t+s:c;else for(var j,m=l.points,w=0,O=0,h=0,f=0,p=0,g=0,v=0,b=0,u=0;u+2<m.length;u+=2)e=m[u],t=m[u+1],w=m[u+2],O=m[u+3],h=Math.abs(w-e),f=Math.abs(O-t),s=d,n=Math.sqrt(h*h+f*f),n<1e-9||(p=(s/n*f+h)/2,g=(s/n*h+f)/2,v=(w+e)/2,b=(O+t)/2,o=v-p<o?v-p:o,a=v+p>a?v+p:a,r=b-g<r?b-g:r,c=b+g>c?b+g:c)}else o=0,a=0,r=0,c=0;j=this.boundsPadding,this._localBounds.minX=o-j,this._localBounds.maxX=a+2*j,this._localBounds.minY=r-j,this._localBounds.maxY=c+2*j},t.prototype.drawShape=function(e){this.currentPath&&this.currentPath.shape.points.length<=2&&this.graphicsData.pop(),this.currentPath=null;var t=new w.default(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.filling,e);return this.graphicsData.push(t),t.type===i.SHAPES.POLY&&(t.shape.closed=t.shape.closed||this.filling,this.currentPath=t),this.dirty++,t},t.prototype.generateCanvasTexture=function(e){var n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,t=this.getLocalBounds(),o=d.default.create(t.width,t.height,e,s);return c||(c=new C.default),r.tx=-t.x,r.ty=-t.y,c.render(this,o,!1,r),n=h.default.fromCanvas(o.baseTexture._canvasRenderTarget.canvas,e),n.baseTexture.resolution=s,n.baseTexture.update(),n},t.prototype.closePath=function(){var e=this.currentPath;return e&&e.shape&&e.shape.close(),this},t.prototype.addHole=function(){var e=this.graphicsData.pop();return this.currentPath=this.graphicsData[this.graphicsData.length-1],this.currentPath.addHole(e.shape),this.currentPath=null,this},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t);for(var n,o,s=0;s<this.graphicsData.length;++s)this.graphicsData[s].destroy();for(o in this._webgl)for(n=0;n<this._webgl[o].data.length;++n)this._webgl[o].data[n].destroy();this._spriteRect&&this._spriteRect.destroy(),this.graphicsData=null,this.currentPath=null,this._webgl=null,this._localBounds=null},t}(b.default);n.default=u,u._SPRITE_TEXTURE=null},{"../const":45,"../display/Bounds":46,"../display/Container":47,"../math":69,"../renderers/canvas/CanvasRenderer":76,"../sprites/Sprite":101,"../textures/RenderTexture":111,"../textures/Texture":112,"../utils":120,"./GraphicsData":53,"./utils/bezierCurveTo":55}],53:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(t,n,o,i,a,r,c){s(this,e),this.lineWidth=t,this.lineColor=n,this.lineAlpha=o,this._lineTint=n,this.fillColor=i,this.fillAlpha=a,this._fillTint=i,this.fill=r,this.holes=[],this.shape=c,this.type=c.type}return e.prototype.clone=function(){return new e(this.lineWidth,this.lineColor,this.lineAlpha,this.fillColor,this.fillAlpha,this.fill,this.shape)},e.prototype.addHole=function(e){this.holes.push(e)},e.prototype.destroy=function(){this.shape=null,this.holes=null},e}();n.default=o},{}],54:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=e("../../renderers/canvas/CanvasRenderer"),c=i(r),s=e("../../const"),o=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.render=function(e){var E=this.renderer,t=E.context,c=e.worldAlpha,f=e.transform.worldTransform,h=E.resolution;this._prevTint!==this.tint&&(this.dirty=!0),t.setTransform(f.a*h,f.b*h,f.c*h,f.d*h,f.tx*h,f.ty*h),e.dirty&&(this.updateGraphicsTint(e),e.dirty=!1),E.setBlendMode(e.blendMode);for(x=0;x<e.graphicsData.length;x++){var n=e.graphicsData[x],o=n.shape,g=n._fillTint,b=n._lineTint;if(t.lineWidth=n.lineWidth,n.type===s.SHAPES.POLY){t.beginPath(),this.renderPolygon(o.points,o.closed,t);for(O=0;O<n.holes.length;O++)this.renderPolygon(n.holes[O].points,!0,t);n.fill&&(t.globalAlpha=n.fillAlpha*c,t.fillStyle="#"+("00000"+(0|g).toString(16)).substr(-6),t.fill()),n.lineWidth&&(t.globalAlpha=n.lineAlpha*c,t.strokeStyle="#"+("00000"+(0|b).toString(16)).substr(-6),t.stroke())}else if(n.type===s.SHAPES.RECT)(n.fillColor||0===n.fillColor)&&(t.globalAlpha=n.fillAlpha*c,t.fillStyle="#"+("00000"+(0|g).toString(16)).substr(-6),t.fillRect(o.x,o.y,o.width,o.height)),n.lineWidth&&(t.globalAlpha=n.lineAlpha*c,t.strokeStyle="#"+("00000"+(0|b).toString(16)).substr(-6),t.strokeRect(o.x,o.y,o.width,o.height));else if(n.type===s.SHAPES.CIRC)t.beginPath(),t.arc(o.x,o.y,o.radius,0,2*Math.PI),t.closePath(),n.fill&&(t.globalAlpha=n.fillAlpha*c,t.fillStyle="#"+("00000"+(0|g).toString(16)).substr(-6),t.fill()),n.lineWidth&&(t.globalAlpha=n.lineAlpha*c,t.strokeStyle="#"+("00000"+(0|b).toString(16)).substr(-6),t.stroke());else if(n.type===s.SHAPES.ELIP){var w=2*o.width,j=2*o.height,m=o.x-w/2,v=o.y-j/2;t.beginPath();var O,x,A=.5522848,y=w/2*A,_=j/2*A,k=m+w,C=v+j,p=m+w/2,l=v+j/2;t.moveTo(m,l),t.bezierCurveTo(m,l-_,p-y,v,p,v),t.bezierCurveTo(p+y,v,k,l-_,k,l),t.bezierCurveTo(k,l+_,p+y,C,p,C),t.bezierCurveTo(p-y,C,m,l+_,m,l),t.closePath(),n.fill&&(t.globalAlpha=n.fillAlpha*c,t.fillStyle="#"+("00000"+(0|g).toString(16)).substr(-6),t.fill()),n.lineWidth&&(t.globalAlpha=n.lineAlpha*c,t.strokeStyle="#"+("00000"+(0|b).toString(16)).substr(-6),t.stroke())}else if(n.type===s.SHAPES.RREC){var a=o.x,i=o.y,d=o.width,u=o.height,r=o.radius,S=Math.min(d,u)/2|0,r=r>S?S:r;t.beginPath(),t.moveTo(a,i+r),t.lineTo(a,i+u-r),t.quadraticCurveTo(a,i+u,a+r,i+u),t.lineTo(a+d-r,i+u),t.quadraticCurveTo(a+d,i+u,a+d,i+u-r),t.lineTo(a+d,i+r),t.quadraticCurveTo(a+d,i,a+d-r,i),t.lineTo(a+r,i),t.quadraticCurveTo(a,i,a,i+r),t.closePath(),(n.fillColor||0===n.fillColor)&&(t.globalAlpha=n.fillAlpha*c,t.fillStyle="#"+("00000"+(0|g).toString(16)).substr(-6),t.fill()),n.lineWidth&&(t.globalAlpha=n.lineAlpha*c,t.strokeStyle="#"+("00000"+(0|b).toString(16)).substr(-6),t.stroke())}}},e.prototype.updateGraphicsTint=function(e){e._prevTint=e.tint;for(var i=(e.tint>>16&255)/255,a=(e.tint>>8&255)/255,r=(255&e.tint)/255,n=0;n<e.graphicsData.length;++n){var t=e.graphicsData[n],s=0|t.fillColor,o=0|t.lineColor;t._fillTint=((s>>16&255)/255*i*255<<16)+((s>>8&255)/255*a*255<<8)+(255&s)/255*r*255,t._lineTint=((o>>16&255)/255*i*255<<16)+((o>>8&255)/255*a*255<<8)+(255&o)/255*r*255}},e.prototype.renderPolygon=function(e,t,n){n.moveTo(e[0],e[1]);for(var s=1;s<e.length/2;++s)n.lineTo(e[2*s],e[2*s+1]);t&&n.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();n.default=o,c.default.registerPlugin("graphics",o)},{"../../const":45,"../../renderers/canvas/CanvasRenderer":76}],55:[function(e,t,n){"use strict";function s(e,t,n,s,o,i,a,r){var c,h,m=arguments.length>8&&void 0!==arguments[8]?arguments[8]:[],g=20,l=0,d=0,f=0,u=0,p=0;m.push(e,t);for(h=1,c=0;h<=g;++h)c=h/g,l=1-c,d=l*l,f=d*l,u=c*c,p=u*c,m.push(f*e+3*d*c*n+3*l*u*o+p*a,f*t+3*d*c*s+3*l*u*i+p*r);return m}n.__esModule=!0,n.default=s},{}],56:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function C(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function m(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var g=e("../../utils"),o=e("../../const"),l=e("../../renderers/webgl/utils/ObjectRenderer"),a=s(l),u=e("../../renderers/webgl/WebGLRenderer"),h=s(u),r=e("./WebGLGraphicsData"),f=s(r),p=e("./shaders/PrimitiveShader"),c=s(p),v=e("./utils/buildPoly"),b=s(v),j=e("./utils/buildRectangle"),y=s(j),_=e("./utils/buildRoundedRectangle"),w=s(_),O=e("./utils/buildCircle"),x=s(O),i=function(e){function t(n){C(this,t);var s=m(this,e.call(this,n));return s.graphicsDataPool=[],s.primitiveShader=null,s.gl=n.gl,s.CONTEXT_UID=0,s}return d(t,e),t.prototype.onContextChange=function(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.primitiveShader=new c.default(this.gl)},t.prototype.destroy=function(){a.default.prototype.destroy.call(this);for(var e=0;e<this.graphicsDataPool.length;++e)this.graphicsDataPool[e].destroy();this.graphicsDataPool=null},t.prototype.render=function(e){var o,i,a,r,t=this.renderer,c=t.gl,n=void 0,s=e._webGL[this.CONTEXT_UID];s&&e.dirty===s.dirty||(this.updateGraphics(e),s=e._webGL[this.CONTEXT_UID]),a=this.primitiveShader,t.bindShader(a),t.state.setBlendMode(e.blendMode);for(i=0,r=s.data.length;i<r;i++)n=s.data[i],o=n.shader,t.bindShader(o),o.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),o.uniforms.tint=(0,g.hex2rgb)(e.tint),o.uniforms.alpha=e.worldAlpha,t.bindVao(n.vao),n.vao.draw(c.TRIANGLE_STRIP,n.indices.length)},t.prototype.updateGraphics=function(e){var n,s,i,a,r,c=this.renderer.gl,t=e._webGL[this.CONTEXT_UID];if(t||(t=e._webGL[this.CONTEXT_UID]={lastIndex:0,data:[],gl:c,clearDirty:-1,dirty:-1}),t.dirty=e.dirty,e.clearDirty!==t.clearDirty){t.clearDirty=e.clearDirty;for(i=0;i<t.data.length;i++)this.graphicsDataPool.push(t.data[i]);t.data.length=0,t.lastIndex=0}for(s=void 0,a=t.lastIndex;a<e.graphicsData.length;a++)n=e.graphicsData[a],s=this.getWebGLData(t,0),n.type===o.SHAPES.POLY&&(0,b.default)(n,s),n.type===o.SHAPES.RECT?(0,y.default)(n,s):n.type===o.SHAPES.CIRC||n.type===o.SHAPES.ELIP?(0,x.default)(n,s):n.type===o.SHAPES.RREC&&(0,w.default)(n,s),t.lastIndex++;this.renderer.bindVao(null);for(r=0;r<t.data.length;r++)s=t.data[r],s.dirty&&s.upload()},t.prototype.getWebGLData=function(e,t){var n=e.data[e.data.length-1];return(!n||n.points.length>32e4)&&(n=this.graphicsDataPool.pop()||new f.default(this.renderer.gl,this.primitiveShader,this.renderer.state.attribsState),n.reset(t),e.data.push(n)),n.dirty=!0,n},t}(a.default);n.default=i,h.default.registerPlugin("graphics",i)},{"../../const":45,"../../renderers/webgl/WebGLRenderer":83,"../../renderers/webgl/utils/ObjectRenderer":93,"../../utils":120,"./WebGLGraphicsData":57,"./shaders/PrimitiveShader":58,"./utils/buildCircle":59,"./utils/buildPoly":61,"./utils/buildRectangle":62,"./utils/buildRoundedRectangle":63}],57:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("pixi-gl-core"),s=o(a),r=function(){function e(t,n,o){i(this,e),this.gl=t,this.color=[0,0,0],this.points=[],this.indices=[],this.buffer=s.default.GLBuffer.createVertexBuffer(t),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(t),this.dirty=!0,this.glPoints=null,this.glIndices=null,this.shader=n,this.vao=new s.default.VertexArrayObject(t,o).addIndex(this.indexBuffer).addAttribute(this.buffer,n.attributes.aVertexPosition,t.FLOAT,!1,24,0).addAttribute(this.buffer,n.attributes.aColor,t.FLOAT,!1,24,8)}return e.prototype.reset=function(){this.points.length=0,this.indices.length=0},e.prototype.upload=function(){this.glPoints=new Float32Array(this.points),this.buffer.upload(this.glPoints),this.glIndices=new Uint16Array(this.indices),this.indexBuffer.upload(this.glIndices),this.dirty=!1},e.prototype.destroy=function(){this.color=null,this.points=null,this.indices=null,this.vao.destroy(),this.buffer.destroy(),this.indexBuffer.destroy(),this.gl=null,this.buffer=null,this.indexBuffer=null,this.glPoints=null,this.glIndices=null},e}();n.default=r},{"pixi-gl-core":12}],58:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var r=e("../../../Shader"),c=s(r),l=function(e){function t(n){return o(this,t),i(this,e.call(this,n,["attribute vec2 aVertexPosition;","attribute vec4 aColor;","uniform mat3 translationMatrix;","uniform mat3 projectionMatrix;","uniform float alpha;","uniform vec3 tint;","varying vec4 vColor;","void main(void){","   gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vColor = aColor * vec4(tint * alpha, alpha);","}"].join(`
`),["varying vec4 vColor;","void main(void){","   gl_FragColor = vColor;","}"].join(`
`)))}return a(t,e),t}(c.default);n.default=l},{"../../../Shader":43}],59:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n=e.shape,b=n.x,v=n.y,h=void 0,d=void 0;if(e.type===r.SHAPES.CIRC?(h=n.radius,d=n.radius):(h=n.width,d=n.height),u=Math.floor(30*Math.sqrt(n.radius))||Math.floor(15*Math.sqrt(n.width+n.height)),s=2*Math.PI/u,e.fill){var s,o,i,u,w,f=(0,c.hex2rgb)(e.fillColor),l=e.fillAlpha,j=f[0]*l,y=f[1]*l,_=f[2]*l,p=t.points,g=t.indices,m=p.length/6;g.push(m);for(i=0;i<u+1;i++)p.push(b,v,j,y,_,l),p.push(b+Math.sin(s*i)*h,v+Math.cos(s*i)*d,j,y,_,l),g.push(m++,m++);g.push(m-1)}if(e.lineWidth){w=e.points,e.points=[];for(o=0;o<u+1;o++)e.points.push(b+Math.sin(s*o)*h,v+Math.cos(s*o)*d);(0,a.default)(e,t),e.points=w}}n.__esModule=!0,n.default=o;var i=e("./buildLine"),a=s(i),r=e("../../../const"),c=e("../../../utils")},{"../../../const":45,"../../../utils":120,"./buildLine":60}],60:[function(e,t,n){"use strict";function o(e,t){if(n=e.points,0!==n.length){C=new s.Point(n[0],n[1]),O=new s.Point(n[n.length-2],n[n.length-1]),C.x===O.x&&C.y===O.y&&(n=n.slice(),n.pop(),n.pop(),O=new s.Point(n[n.length-2],n[n.length-1]),L=O.x+.5*(C.x-O.x),N=O.y+.5*(C.y-O.y),n.unshift(L,N),n.push(L,N));var n,j,O,C,z,N,L,l=t.points,D=t.indices,x=n.length/2,$=n.length,T=l.length/6,h=e.lineWidth/2,F=(0,i.hex2rgb)(e.lineColor),u=e.lineAlpha,m=F[0]*u,f=F[1]*u,p=F[2]*u,y=n[0],b=n[1],c=n[2],r=n[3],E=0,S=0,o=-(b-r),a=y-c,g=0,v=0,w=0,_=0,d=Math.sqrt(o*o+a*a);o/=d,a/=d,o*=h,a*=h,l.push(y-o,b-a,m,f,p,u),l.push(y+o,b+a,m,f,p,u);for(j=1;j<x-1;++j){y=n[2*(j-1)],b=n[2*(j-1)+1],c=n[2*j],r=n[2*j+1],E=n[2*(j+1)],S=n[2*(j+1)+1],o=-(b-r),a=y-c,d=Math.sqrt(o*o+a*a),o/=d,a/=d,o*=h,a*=h,g=-(r-S),v=c-E,d=Math.sqrt(g*g+v*v),g/=d,v/=d,g*=h,v*=h;var V=-a+b-(-a+r),R=-o+c-(-o+y),B=(-o+y)*(-a+r)-(-o+c)*(-a+b),I=-v+S-(-v+r),P=-g+c-(-g+E),H=(-g+E)*(-v+r)-(-g+c)*(-v+S),k=V*P-I*R;if(Math.abs(k)<.1)k+=10.1,l.push(c-o,r-a,m,f,p,u),l.push(c+o,r+a,m,f,p,u);else{var M=(R*H-P*B)/k,A=(I*B-V*H)/k,W=(M-c)*(M-c)+(A-r)*(A-r);W>196*h*h?(w=o-g,_=a-v,d=Math.sqrt(w*w+_*_),w/=d,_/=d,w*=h,_*=h,l.push(c-w,r-_),l.push(m,f,p,u),l.push(c+w,r+_),l.push(m,f,p,u),l.push(c-w,r-_),l.push(m,f,p,u),$++):(l.push(M,A),l.push(m,f,p,u),l.push(c-(M-c),r-(A-r)),l.push(m,f,p,u))}}y=n[2*(x-2)],b=n[2*(x-2)+1],c=n[2*(x-1)],r=n[2*(x-1)+1],o=-(b-r),a=y-c,d=Math.sqrt(o*o+a*a),o/=d,a/=d,o*=h,a*=h,l.push(c-o,r-a),l.push(m,f,p,u),l.push(c+o,r+a),l.push(m,f,p,u),D.push(T);for(z=0;z<$;++z)D.push(T++);D.push(T-1)}}n.__esModule=!0,n.default=o;var s=e("../../../math"),i=e("../../../utils")},{"../../../math":69,"../../../utils":120}],61:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(e.points=e.shape.points.slice(),n=e.points,e.fill&&n.length>=6){for(var v=[],g=e.holes,h=0;h<g.length;h++)f=g[h],v.push(n.length/2),n=n.concat(f.points);var n,s,i,c,f,p=t.points,d=t.indices,_=n.length/2,m=(0,r.hex2rgb)(e.fillColor),u=e.fillAlpha,b=m[0]*u,j=m[1]*u,y=m[2]*u,o=(0,l.default)(n,v,2);if(!o)return;for(i=p.length/6,s=0;s<o.length;s+=3)d.push(o[s]+i),d.push(o[s]+i),d.push(o[s+1]+i),d.push(o[s+2]+i),d.push(o[s+2]+i);for(c=0;c<_;c++)p.push(n[2*c],n[2*c+1],b,j,y,u)}e.lineWidth>0&&(0,a.default)(e,t)}n.__esModule=!0,n.default=o;var i=e("./buildLine"),a=s(i),r=e("../../../utils"),c=e("earcut"),l=s(c)},{"../../../utils":120,"./buildLine":60,earcut:2}],62:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var f=e.shape,n=f.x,s=f.y,l=f.width,m=f.height;if(e.fill){var g,p=(0,r.hex2rgb)(e.fillColor),i=e.fillAlpha,d=p[0]*i,u=p[1]*i,h=p[2]*i,o=t.points,v=t.indices,c=o.length/6;o.push(n,s),o.push(d,u,h,i),o.push(n+l,s),o.push(d,u,h,i),o.push(n,s+m),o.push(d,u,h,i),o.push(n+l,s+m),o.push(d,u,h,i),v.push(c,c,c+1,c+2,c+3,c+3)}e.lineWidth&&(g=e.points,e.points=[n,s,n+l,s,n+l,s+m,n,s+m,n,s],(0,a.default)(e,t),e.points=g)}n.__esModule=!0,n.default=o;var i=e("./buildLine"),a=s(i),r=e("../../../utils")},{"../../../utils":120,"./buildLine":60}],63:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var g=e.shape,n=g.x,o=g.y,h=g.width,m=g.height,a=g.radius,i=[];if(i.push(n,o+a),s(n,o+m-a,n,o+m,n+a,o+m,i),s(n+h-a,o+m,n+h,o+m,n+h,o+m-a,i),s(n+h,o+a,n+h,o,n+h-a,o,i),s(n+a,o,n,o,n,o+a+1e-10,i),e.fill){for(var p,_,w,j=(0,d.hex2rgb)(e.fillColor),b=e.fillAlpha,E=j[0]*b,x=j[1]*b,O=j[2]*b,y=t.points,v=t.indices,f=y.length/6,u=(0,r.default)(i,null,2),c=0,C=u.length;c<C;c+=3)v.push(u[c]+f),v.push(u[c]+f),v.push(u[c+1]+f),v.push(u[c+2]+f),v.push(u[c+2]+f);for(p=0,_=i.length;p<_;p++)y.push(i[p],i[++p],E,x,O,b)}e.lineWidth&&(w=e.points,e.points=i,(0,l.default)(e,t),e.points=w)}function s(e,t,n,s,o,i){function r(e,t,n){var s=t-e;return e+s*n}for(var v=arguments.length>6&&void 0!==arguments[6]?arguments[6]:[],l=20,d=v,u=0,h=0,m=0,f=0,p=0,g=0,c=0,a=0;c<=l;++c)a=c/l,u=r(e,n,a),h=r(t,s,a),m=r(n,o,a),f=r(s,i,a),p=r(u,m,a),g=r(h,f,a),d.push(p,g);return d}n.__esModule=!0,n.default=i;var a=e("earcut"),r=o(a),c=e("./buildLine"),l=o(c),d=e("../../../utils")},{"../../../utils":120,"./buildLine":60,earcut:2}],64:[function(e,t,n){"use strict";function C(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.autoDetectRenderer=n.Application=n.Filter=n.SpriteMaskFilter=n.Quad=n.RenderTarget=n.ObjectRenderer=n.WebGLManager=n.Shader=n.CanvasRenderTarget=n.TextureUvs=n.VideoBaseTexture=n.BaseRenderTexture=n.RenderTexture=n.BaseTexture=n.Texture=n.CanvasGraphicsRenderer=n.GraphicsRenderer=n.GraphicsData=n.Graphics=n.TextStyle=n.Text=n.SpriteRenderer=n.CanvasTinter=n.CanvasSpriteRenderer=n.Sprite=n.TransformBase=n.TransformStatic=n.Transform=n.Container=n.DisplayObject=n.Bounds=n.glCore=n.WebGLRenderer=n.CanvasRenderer=n.ticker=n.utils=n.settings=void 0,i=e("./const"),Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})}),o=e("./math"),Object.keys(o).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return o[e]}})}),k=e("pixi-gl-core"),Object.defineProperty(n,"glCore",{enumerable:!0,get:function(){return s(k).default}}),c=e("./display/Bounds"),Object.defineProperty(n,"Bounds",{enumerable:!0,get:function(){return s(c).default}}),r=e("./display/DisplayObject"),Object.defineProperty(n,"DisplayObject",{enumerable:!0,get:function(){return s(r).default}}),d=e("./display/Container"),Object.defineProperty(n,"Container",{enumerable:!0,get:function(){return s(d).default}}),u=e("./display/Transform"),Object.defineProperty(n,"Transform",{enumerable:!0,get:function(){return s(u).default}}),h=e("./display/TransformStatic"),Object.defineProperty(n,"TransformStatic",{enumerable:!0,get:function(){return s(h).default}}),m=e("./display/TransformBase"),Object.defineProperty(n,"TransformBase",{enumerable:!0,get:function(){return s(m).default}}),f=e("./sprites/Sprite"),Object.defineProperty(n,"Sprite",{enumerable:!0,get:function(){return s(f).default}}),p=e("./sprites/canvas/CanvasSpriteRenderer"),Object.defineProperty(n,"CanvasSpriteRenderer",{enumerable:!0,get:function(){return s(p).default}}),E=e("./sprites/canvas/CanvasTinter"),Object.defineProperty(n,"CanvasTinter",{enumerable:!0,get:function(){return s(E).default}}),v=e("./sprites/webgl/SpriteRenderer"),Object.defineProperty(n,"SpriteRenderer",{enumerable:!0,get:function(){return s(v).default}}),A=e("./text/Text"),Object.defineProperty(n,"Text",{enumerable:!0,get:function(){return s(A).default}}),j=e("./text/TextStyle"),Object.defineProperty(n,"TextStyle",{enumerable:!0,get:function(){return s(j).default}}),y=e("./graphics/Graphics"),Object.defineProperty(n,"Graphics",{enumerable:!0,get:function(){return s(y).default}}),_=e("./graphics/GraphicsData"),Object.defineProperty(n,"GraphicsData",{enumerable:!0,get:function(){return s(_).default}}),w=e("./graphics/webgl/GraphicsRenderer"),Object.defineProperty(n,"GraphicsRenderer",{enumerable:!0,get:function(){return s(w).default}}),O=e("./graphics/canvas/CanvasGraphicsRenderer"),Object.defineProperty(n,"CanvasGraphicsRenderer",{enumerable:!0,get:function(){return s(O).default}}),x=e("./textures/Texture"),Object.defineProperty(n,"Texture",{enumerable:!0,get:function(){return s(x).default}}),a=e("./textures/BaseTexture"),Object.defineProperty(n,"BaseTexture",{enumerable:!0,get:function(){return s(a).default}}),g=e("./textures/RenderTexture"),Object.defineProperty(n,"RenderTexture",{enumerable:!0,get:function(){return s(g).default}}),l=e("./textures/BaseRenderTexture"),Object.defineProperty(n,"BaseRenderTexture",{enumerable:!0,get:function(){return s(l).default}}),b=e("./textures/VideoBaseTexture"),Object.defineProperty(n,"VideoBaseTexture",{enumerable:!0,get:function(){return s(b).default}}),S=e("./textures/TextureUvs"),Object.defineProperty(n,"TextureUvs",{enumerable:!0,get:function(){return s(S).default}}),M=e("./renderers/canvas/utils/CanvasRenderTarget"),Object.defineProperty(n,"CanvasRenderTarget",{enumerable:!0,get:function(){return s(M).default}}),F=e("./Shader"),Object.defineProperty(n,"Shader",{enumerable:!0,get:function(){return s(F).default}}),T=e("./renderers/webgl/managers/WebGLManager"),Object.defineProperty(n,"WebGLManager",{enumerable:!0,get:function(){return s(T).default}}),z=e("./renderers/webgl/utils/ObjectRenderer"),Object.defineProperty(n,"ObjectRenderer",{enumerable:!0,get:function(){return s(z).default}}),D=e("./renderers/webgl/utils/RenderTarget"),Object.defineProperty(n,"RenderTarget",{enumerable:!0,get:function(){return s(D).default}}),N=e("./renderers/webgl/utils/Quad"),Object.defineProperty(n,"Quad",{enumerable:!0,get:function(){return s(N).default}}),L=e("./renderers/webgl/filters/spriteMask/SpriteMaskFilter"),Object.defineProperty(n,"SpriteMaskFilter",{enumerable:!0,get:function(){return s(L).default}}),R=e("./renderers/webgl/filters/Filter"),Object.defineProperty(n,"Filter",{enumerable:!0,get:function(){return s(R).default}}),P=e("./Application"),Object.defineProperty(n,"Application",{enumerable:!0,get:function(){return s(P).default}}),H=e("./autoDetectRenderer"),Object.defineProperty(n,"autoDetectRenderer",{enumerable:!0,get:function(){return H.autoDetectRenderer}});var o,i,a,r,c,l,d,u,h,m,f,p,g,v,b,j,y,_,w,O,x,E,k,A,S,M,F,T,z,D,N,L,R,P,H,I=e("./utils"),B=C(I),V=e("./ticker"),$=C(V),W=e("./settings"),U=s(W),K=e("./renderers/canvas/CanvasRenderer"),q=s(K),Y=e("./renderers/webgl/WebGLRenderer"),G=s(Y);n.settings=U.default,n.utils=B,n.ticker=$,n.CanvasRenderer=q.default,n.WebGLRenderer=G.default},{"./Application":42,"./Shader":43,"./autoDetectRenderer":44,"./const":45,"./display/Bounds":46,"./display/Container":47,"./display/DisplayObject":48,"./display/Transform":49,"./display/TransformBase":50,"./display/TransformStatic":51,"./graphics/Graphics":52,"./graphics/GraphicsData":53,"./graphics/canvas/CanvasGraphicsRenderer":54,"./graphics/webgl/GraphicsRenderer":56,"./math":69,"./renderers/canvas/CanvasRenderer":76,"./renderers/canvas/utils/CanvasRenderTarget":78,"./renderers/webgl/WebGLRenderer":83,"./renderers/webgl/filters/Filter":85,"./renderers/webgl/filters/spriteMask/SpriteMaskFilter":88,"./renderers/webgl/managers/WebGLManager":92,"./renderers/webgl/utils/ObjectRenderer":93,"./renderers/webgl/utils/Quad":94,"./renderers/webgl/utils/RenderTarget":95,"./settings":100,"./sprites/Sprite":101,"./sprites/canvas/CanvasSpriteRenderer":102,"./sprites/canvas/CanvasTinter":103,"./sprites/webgl/SpriteRenderer":105,"./text/Text":107,"./text/TextStyle":108,"./textures/BaseRenderTexture":109,"./textures/BaseTexture":110,"./textures/RenderTexture":111,"./textures/Texture":112,"./textures/TextureUvs":113,"./textures/VideoBaseTexture":114,"./ticker":116,"./utils":120,"pixi-gl-core":12}],65:[function(e,t,n){"use strict";function u(e){return e&&e.__esModule?e:{default:e}}function c(e){return e<0?-1:e>0?1:0}function h(){for(e=0;e<16;e++){u=[],l.push(u);for(t=0;t<16;t++)for(var e,t,s,u,h,m=c(o[e]*o[t]+a[e]*i[t]),p=c(i[e]*o[t]+r[e]*i[t]),g=c(o[e]*a[t]+a[e]*r[t]),v=c(i[e]*a[t]+r[e]*r[t]),n=0;n<16;n++)if(o[n]===m&&i[n]===p&&a[n]===g&&r[n]===v){u.push(n);break}}for(s=0;s<16;s++)h=new f.default,h.set(o[s],i[s],a[s],r[s],0,0),d.push(h)}n.__esModule=!0;var s,m=e("./Matrix"),f=u(m),o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],i=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],a=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],r=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],d=[],l=[];h(),s={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MIRROR_HORIZONTAL:12,uX:function(e){return o[e]},uY:function(e){return i[e]},vX:function(e){return a[e]},vY:function(e){return r[e]},inv:function(e){return 8&e?15&e:7&-e},add:function(e,t){return l[e][t]},sub:function(e,t){return l[e][s.inv(t)]},rotate180:function(e){return 4^e},isSwapWidthHeight:function(e){return 2===(3&e)},byDirection:function(e,t){return 2*Math.abs(e)<=Math.abs(t)?t>=0?s.S:s.N:2*Math.abs(t)<=Math.abs(e)?e>0?s.E:s.W:t>0?e>0?s.SE:s.SW:e>0?s.NE:s.NW},matrixAppendRotationInv:function(e,t){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,n=d[s.inv(t)];n.tx=o,n.ty=i,e.append(n)}},n.default=s},{"./Matrix":66}],66:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=e("./Point"),s=o(r),c=function(){function e(){i(this,e),this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this.array=null}return e.prototype.fromArray=function(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]},e.prototype.set=function(e,t,n,s,o,i){return this.a=e,this.b=t,this.c=n,this.d=s,this.tx=o,this.ty=i,this},e.prototype.toArray=function(e,t){this.array||(this.array=new Float32Array(9));var n=t||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n},e.prototype.apply=function(e,t){t=t||new s.default;var n=e.x,o=e.y;return t.x=this.a*n+this.c*o+this.tx,t.y=this.b*n+this.d*o+this.ty,t},e.prototype.applyInverse=function(e,t){t=t||new s.default;var n=1/(this.a*this.d+this.c*-this.b),o=e.x,i=e.y;return t.x=this.d*n*o+-this.c*n*i+(this.ty*this.c-this.tx*this.d)*n,t.y=this.a*n*i+-this.b*n*o+(-this.ty*this.a+this.tx*this.b)*n,t},e.prototype.translate=function(e,t){return this.tx+=e,this.ty+=t,this},e.prototype.scale=function(e,t){return this.a*=e,this.d*=t,this.c*=e,this.b*=t,this.tx*=e,this.ty*=t,this},e.prototype.rotate=function(e){var t=Math.cos(e),n=Math.sin(e),s=this.a,o=this.c,i=this.tx;return this.a=s*t-this.b*n,this.b=s*n+this.b*t,this.c=o*t-this.d*n,this.d=o*n+this.d*t,this.tx=i*t-this.ty*n,this.ty=i*n+this.ty*t,this},e.prototype.append=function(e){var t=this.a,n=this.b,s=this.c,o=this.d;return this.a=e.a*t+e.b*s,this.b=e.a*n+e.b*o,this.c=e.c*t+e.d*s,this.d=e.c*n+e.d*o,this.tx=e.tx*t+e.ty*s+this.tx,this.ty=e.tx*n+e.ty*o+this.ty,this},e.prototype.setTransform=function(e,t,n,s,o,i,a,r,c){var m=Math.sin(a),f=Math.cos(a),p=Math.cos(c),g=Math.sin(c),v=-Math.sin(r),b=Math.cos(r),l=f*o,d=m*o,u=-m*i,h=f*i;return this.a=p*l+g*u,this.b=p*d+g*h,this.c=v*l+b*u,this.d=v*d+b*h,this.tx=e+(n*l+s*u),this.ty=t+(n*d+s*h),this},e.prototype.prepend=function(e){if(t=this.tx,1!==e.a||0!==e.b||0!==e.c||1!==e.d){var t,n=this.a,s=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=s*e.a+this.d*e.c,this.d=s*e.b+this.d*e.d}return this.tx=t*e.a+this.ty*e.c+e.tx,this.ty=t*e.b+this.ty*e.d+e.ty,this},e.prototype.decompose=function(e){var t=this.a,s=this.b,o=this.c,n=this.d,a=-Math.atan2(-o,n),i=Math.atan2(s,t),r=Math.abs(a+i);return r<1e-5?(e.rotation=i,t<0&&n>=0&&(e.rotation+=e.rotation<=0?Math.PI:-Math.PI),e.skew.x=e.skew.y=0):(e.skew.x=a,e.skew.y=i),e.scale.x=Math.sqrt(t*t+s*s),e.scale.y=Math.sqrt(o*o+n*n),e.position.x=this.tx,e.position.y=this.ty,e},e.prototype.invert=function(){var t=this.a,n=this.b,s=this.c,o=this.d,i=this.tx,e=t*o-n*s;return this.a=o/e,this.b=-n/e,this.c=-s/e,this.d=t/e,this.tx=(s*this.ty-o*i)/e,this.ty=-(t*this.ty-n*i)/e,this},e.prototype.identity=function(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this},e.prototype.clone=function(){var t=new e;return t.a=this.a,t.b=this.b,t.c=this.c,t.d=this.d,t.tx=this.tx,t.ty=this.ty,t},e.prototype.copy=function(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e},a(e,null,[{key:"IDENTITY",get:function(){return new e}},{key:"TEMP_MATRIX",get:function(){return new e}}]),e}();n.default=c},{"./Point":68}],67:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=function(){function e(t,n){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;s(this,e),this._x=o,this._y=i,this.cb=t,this.scope=n}return e.prototype.set=function(e,t){var n=e||0,s=t||(0!==t?n:0);this._x===n&&this._y===s||(this._x=n,this._y=s,this.cb.call(this.scope))},e.prototype.copy=function(e){this._x===e.x&&this._y===e.y||(this._x=e.x,this._y=e.y,this.cb.call(this.scope))},o(e,[{key:"x",get:function(){return this._x},set:function(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}},{key:"y",get:function(){return this._y},set:function(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}]),e}();n.default=i},{}],68:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;s(this,e),this.x=t,this.y=n}return e.prototype.clone=function(){return new e(this.x,this.y)},e.prototype.copy=function(e){this.set(e.x,e.y)},e.prototype.equals=function(e){return e.x===this.x&&e.y===this.y},e.prototype.set=function(e,t){this.x=e||0,this.y=t||(0!==t?this.x:0)},e}();n.default=o},{}],69:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i,a,r,c,l,d,u,h=e("./Point");Object.defineProperty(n,"Point",{enumerable:!0,get:function(){return s(h).default}}),o=e("./ObservablePoint"),Object.defineProperty(n,"ObservablePoint",{enumerable:!0,get:function(){return s(o).default}}),i=e("./Matrix"),Object.defineProperty(n,"Matrix",{enumerable:!0,get:function(){return s(i).default}}),a=e("./GroupD8"),Object.defineProperty(n,"GroupD8",{enumerable:!0,get:function(){return s(a).default}}),r=e("./shapes/Circle"),Object.defineProperty(n,"Circle",{enumerable:!0,get:function(){return s(r).default}}),c=e("./shapes/Ellipse"),Object.defineProperty(n,"Ellipse",{enumerable:!0,get:function(){return s(c).default}}),l=e("./shapes/Polygon"),Object.defineProperty(n,"Polygon",{enumerable:!0,get:function(){return s(l).default}}),d=e("./shapes/Rectangle"),Object.defineProperty(n,"Rectangle",{enumerable:!0,get:function(){return s(d).default}}),u=e("./shapes/RoundedRectangle"),Object.defineProperty(n,"RoundedRectangle",{enumerable:!0,get:function(){return s(u).default}})},{"./GroupD8":65,"./Matrix":66,"./ObservablePoint":67,"./Point":68,"./shapes/Circle":70,"./shapes/Ellipse":71,"./shapes/Polygon":72,"./shapes/Rectangle":73,"./shapes/RoundedRectangle":74}],70:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=e("./Rectangle"),a=s(i),r=e("../../const"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;o(this,e),this.x=t,this.y=n,this.radius=s,this.type=r.SHAPES.CIRC}return e.prototype.clone=function(){return new e(this.x,this.y,this.radius)},e.prototype.contains=function(e,t){if(this.radius<=0)return!1;var o=this.radius*this.radius,n=this.x-e,s=this.y-t;return n*=n,s*=s,n+s<=o},e.prototype.getBounds=function(){return new a.default(this.x-this.radius,this.y-this.radius,2*this.radius,2*this.radius)},e}();n.default=c},{"../../const":45,"./Rectangle":73}],71:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=e("./Rectangle"),a=s(i),r=e("../../const"),c=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;o(this,e),this.x=t,this.y=n,this.width=s,this.height=i,this.type=r.SHAPES.ELIP}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;var n=(e-this.x)/this.width,s=(t-this.y)/this.height;return n*=n,s*=s,n+s<=1},e.prototype.getBounds=function(){return new a.default(this.x-this.width,this.y-this.height,this.width,this.height)},e}();n.default=c},{"../../const":45,"./Rectangle":73}],72:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=e("../Point"),a=s(i),r=e("../../const"),c=function(){function e(){for(var i=arguments.length,t=Array(i),n=0;n<i;n++)t[n]=arguments[n];if(o(this,e),Array.isArray(t[0])&&(t=t[0]),t[0]instanceof a.default){for(var c=[],s=0,l=t.length;s<l;s++)c.push(t[s].x,t[s].y);t=c}this.closed=!0,this.points=t,this.type=r.SHAPES.POLY}return e.prototype.clone=function(){return new e(this.points.slice())},e.prototype.close=function(){var e=this.points;e[0]===e[e.length-2]&&e[1]===e[e.length-1]||e.push(e[0],e[1])},e.prototype.contains=function(e,t){for(var s=!1,a=this.points.length/2,n=0,o=a-1;n<a;o=n++){var r=this.points[2*n],i=this.points[2*n+1],l=this.points[2*o],c=this.points[2*o+1],d=i>t!=c>t&&e<(l-r)*((t-i)/(c-i))+r;d&&(s=!s)}return s},e}();n.default=c},{"../../const":45,"../Point":68}],73:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=e("../../const"),a=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;s(this,e),this.x=t,this.y=n,this.width=o,this.height=a,this.type=i.SHAPES.RECT}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height)},e.prototype.copy=function(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this},e.prototype.contains=function(e,t){return!(this.width<=0||this.height<=0)&&e>=this.x&&e<this.x+this.width&&t>=this.y&&t<this.y+this.height},e.prototype.pad=function(e,t){e=e||0,t=t||(0!==t?e:0),this.x-=e,this.y-=t,this.width+=2*e,this.height+=2*t},e.prototype.fit=function(e){this.x<e.x&&(this.width+=this.x,this.width<0&&(this.width=0),this.x=e.x),this.y<e.y&&(this.height+=this.y,this.height<0&&(this.height=0),this.y=e.y),this.x+this.width>e.x+e.width&&(this.width=e.width-this.x,this.width<0&&(this.width=0)),this.y+this.height>e.y+e.height&&(this.height=e.height-this.y,this.height<0&&(this.height=0))},e.prototype.enlarge=function(e){var t=Math.min(this.x,e.x),s=Math.max(this.x+this.width,e.x+e.width),n=Math.min(this.y,e.y),o=Math.max(this.y+this.height,e.y+e.height);this.x=t,this.width=s-t,this.y=n,this.height=o-n},o(e,[{key:"left",get:function(){return this.x}},{key:"right",get:function(){return this.x+this.width}},{key:"top",get:function(){return this.y}},{key:"bottom",get:function(){return this.y+this.height}}],[{key:"EMPTY",get:function(){return new e(0,0,0,0)}}]),e}();n.default=a},{"../../const":45}],74:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=e("../../const"),i=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:20;s(this,e),this.x=t,this.y=n,this.width=i,this.height=a,this.radius=r,this.type=o.SHAPES.RREC}return e.prototype.clone=function(){return new e(this.x,this.y,this.width,this.height,this.radius)},e.prototype.contains=function(e,t){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&t>=this.y&&t<=this.y+this.height){if(t>=this.y+this.radius&&t<=this.y+this.height-this.radius||e>=this.x+this.radius&&e<=this.x+this.width-this.radius)return!0;var n=e-(this.x+this.radius),s=t-(this.y+this.radius),o=this.radius*this.radius;if(n*n+s*s<=o)return!0;if(n=e-(this.x+this.width-this.radius),n*n+s*s<=o)return!0;if(s=t-(this.y+this.height-this.radius),n*n+s*s<=o)return!0;if(n=e-(this.x+this.radius),n*n+s*s<=o)return!0}return!1},e}();n.default=i},{"../../const":45}],75:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var d=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),i=e("../utils"),l=e("../math"),r=e("../const"),c=e("../settings"),s=o(c),m=e("../display/Container"),f=o(m),p=e("../textures/RenderTexture"),g=o(p),v=e("eventemitter3"),b=o(v),a=new l.Matrix,y=function(e){function t(n,o,a,c){j(this,t);var d,l=h(this,e.call(this));if((0,i.sayHello)(n),c)for(d in s.default.RENDER_OPTIONS)"undefined"==typeof c[d]&&(c[d]=s.default.RENDER_OPTIONS[d]);else c=s.default.RENDER_OPTIONS;return l.type=r.RENDERER_TYPE.UNKNOWN,l.width=o||800,l.height=a||600,l.view=c.view||document.createElement("canvas"),l.resolution=c.resolution||s.default.RESOLUTION,l.transparent=c.transparent,l.autoResize=c.autoResize||!1,l.blendModes=null,l.preserveDrawingBuffer=c.preserveDrawingBuffer,l.clearBeforeRender=c.clearBeforeRender,l.roundPixels=c.roundPixels,l._backgroundColor=0,l._backgroundColorRgba=[0,0,0,0],l._backgroundColorString="#000000",l.backgroundColor=c.backgroundColor||l._backgroundColor,l._tempDisplayObjectParent=new f.default,l._lastObjectRendered=l._tempDisplayObjectParent,l}return u(t,e),t.prototype.resize=function(e,t){this.width=e*this.resolution,this.height=t*this.resolution,this.view.width=this.width,this.view.height=this.height,this.autoResize&&(this.view.style.width=this.width/this.resolution+"px",this.view.style.height=this.height/this.resolution+"px")},t.prototype.generateTexture=function(e,t,n){var s=e.getLocalBounds(),o=g.default.create(0|s.width,0|s.height,t,n);return a.tx=-s.x,a.ty=-s.y,this.render(e,o,!1,a,!0),o},t.prototype.destroy=function(e){e&&this.view.parentNode&&this.view.parentNode.removeChild(this.view),this.type=r.RENDERER_TYPE.UNKNOWN,this.width=0,this.height=0,this.view=null,this.resolution=0,this.transparent=!1,this.autoResize=!1,this.blendModes=null,this.preserveDrawingBuffer=!1,this.clearBeforeRender=!1,this.roundPixels=!1,this._backgroundColor=0,this._backgroundColorRgba=null,this._backgroundColorString=null,this.backgroundColor=0,this._tempDisplayObjectParent=null,this._lastObjectRendered=null},d(t,[{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(e){this._backgroundColor=e,this._backgroundColorString=(0,i.hex2string)(e),(0,i.hex2rgb)(e,this._backgroundColorRgba)}}]),t}(b.default);n.default=y},{"../const":45,"../display/Container":47,"../math":69,"../settings":100,"../textures/RenderTexture":111,"../utils":120,eventemitter3:3}],76:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function j(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var m=e("../SystemRenderer"),c=s(m),l=e("./utils/CanvasMaskManager"),d=s(l),a=e("./utils/CanvasRenderTarget"),h=s(a),r=e("./utils/mapCanvasBlendModesToPixi"),f=s(r),p=e("../../utils"),o=e("../../const"),v=e("../../settings"),b=s(v),i=function(e){function t(n,s){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j(this,t),i=g(this,e.call(this,"Canvas",n,s,a)),i.type=o.RENDERER_TYPE.CANVAS,i.rootContext=i.view.getContext("2d",{alpha:i.transparent}),i.refresh=!0,i.maskManager=new d.default(i),i.smoothProperty="imageSmoothingEnabled",i.rootContext.imageSmoothingEnabled||(i.rootContext.webkitImageSmoothingEnabled?i.smoothProperty="webkitImageSmoothingEnabled":i.rootContext.mozImageSmoothingEnabled?i.smoothProperty="mozImageSmoothingEnabled":i.rootContext.oImageSmoothingEnabled?i.smoothProperty="oImageSmoothingEnabled":i.rootContext.msImageSmoothingEnabled&&(i.smoothProperty="msImageSmoothingEnabled")),i.initPlugins(),i.blendModes=(0,f.default)(),i._activeBlendMode=null,i.context=null,i.renderingToScreen=!1,i.resize(n,s),i}return u(t,e),t.prototype.render=function(e,t,n,s,i){if(this.view){if(this.renderingToScreen=!t,this.emit("prerender"),r=this.resolution,t?(t=t.baseTexture||t,t._canvasRenderTarget||(t._canvasRenderTarget=new h.default(t.width,t.height,t.resolution),t.source=t._canvasRenderTarget.canvas,t.valid=!0),this.context=t._canvasRenderTarget.context,this.resolution=t._canvasRenderTarget.resolution):this.context=this.rootContext,a=this.context,t||(this._lastObjectRendered=e),!i){var a,r,l,d=e.parent,c=this._tempDisplayObjectParent.transform.worldTransform;s?s.copy(c):c.identity(),e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=d}a.setTransform(1,0,0,1,0,0),a.globalAlpha=1,a.globalCompositeOperation=this.blendModes[o.BLEND_MODES.NORMAL],navigator.isCocoonJS&&this.view.screencanvas&&(a.fillStyle="black",a.clear()),(void 0!==n?n:this.clearBeforeRender)&&this.renderingToScreen&&(this.transparent?a.clearRect(0,0,this.width,this.height):(a.fillStyle=this._backgroundColorString,a.fillRect(0,0,this.width,this.height))),l=this.context,this.context=a,e.renderCanvas(this),this.context=l,this.resolution=r,this.emit("postrender")}},t.prototype.clear=function(e){var t=this.context;e=e||this._backgroundColorString,!this.transparent&&e?(t.fillStyle=e,t.fillRect(0,0,this.width,this.height)):t.clearRect(0,0,this.width,this.height)},t.prototype.setBlendMode=function(e){this._activeBlendMode!==e&&(this._activeBlendMode=e,this.context.globalCompositeOperation=this.blendModes[e])},t.prototype.destroy=function(t){this.destroyPlugins(),e.prototype.destroy.call(this,t),this.context=null,this.refresh=!0,this.maskManager.destroy(),this.maskManager=null,this.smoothProperty=null},t.prototype.resize=function(t,n){e.prototype.resize.call(this,t,n),this.smoothProperty&&(this.rootContext[this.smoothProperty]=b.default.SCALE_MODE===o.SCALE_MODES.LINEAR)},t}(c.default);n.default=i,p.pluginTarget.mixin(i)},{"../../const":45,"../../settings":100,"../../utils":120,"../SystemRenderer":75,"./utils/CanvasMaskManager":77,"./utils/CanvasRenderTarget":78,"./utils/mapCanvasBlendModesToPixi":80}],77:[function(e,t,n){"use strict";function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var s=e("../../../const"),i=function(){function e(t){o(this,e),this.renderer=t}return e.prototype.pushMask=function(e){s=this.renderer,s.context.save();var s,o=e.alpha,t=e.transform.worldTransform,n=s.resolution;s.context.setTransform(t.a*n,t.b*n,t.c*n,t.d*n,t.tx*n,t.ty*n),e._texture||(this.renderGraphicsShape(e),s.context.clip()),e.worldAlpha=o},e.prototype.renderGraphicsShape=function(e){if(t=this.renderer.context,O=e.graphicsData.length,0!==O){t.beginPath();for(y=0;y<O;y++)if(l=e.graphicsData[y],n=l.shape,l.type===s.SHAPES.POLY){r=n.points,t.moveTo(r[0],r[1]);for(f=1;f<r.length/2;f++)t.lineTo(r[2*f],r[2*f+1]);r[0]===r[r.length-2]&&r[1]===r[r.length-1]&&t.closePath()}else if(l.type===s.SHAPES.RECT)t.rect(n.x,n.y,n.width,n.height),t.closePath();else if(l.type===s.SHAPES.CIRC)t.arc(n.x,n.y,n.radius,0,2*Math.PI),t.closePath();else if(l.type===s.SHAPES.ELIP){var t,n,r,l,f,y,O,j=2*n.width,b=2*n.height,m=n.x-j/2,p=n.y-b/2,x=.5522848,v=j/2*x,g=b/2*x,_=m+j,w=p+b,h=m+j/2,u=p+b/2;t.moveTo(m,u),t.bezierCurveTo(m,u-g,h-v,p,h,p),t.bezierCurveTo(h+v,p,_,u-g,_,u),t.bezierCurveTo(_,u+g,h+v,w,h,w),t.bezierCurveTo(h-v,w,m,u+g,m,u),t.closePath()}else if(l.type===s.SHAPES.RREC){var i=n.x,o=n.y,d=n.width,c=n.height,a=n.radius,C=Math.min(d,c)/2|0,a=a>C?C:a;t.moveTo(i,o+a),t.lineTo(i,o+c-a),t.quadraticCurveTo(i,o+c,i+a,o+c),t.lineTo(i+d-a,o+c),t.quadraticCurveTo(i+d,o+c,i+d,o+c-a),t.lineTo(i+d,o+a),t.quadraticCurveTo(i+d,o,i+d-a,o),t.lineTo(i+a,o),t.quadraticCurveTo(i,o,i,o+a),t.closePath()}}},e.prototype.popMask=function(e){e.context.restore()},e.prototype.destroy=function(){},e}();n.default=i},{"../../../const":45}],78:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=e("../../../settings"),r=s(a),c=r.default.RESOLUTION,l=function(){function e(t,n,s){o(this,e),this.canvas=document.createElement("canvas"),this.context=this.canvas.getContext("2d"),this.resolution=s||c,this.resize(t,n)}return e.prototype.clear=function(){this.context.setTransform(1,0,0,1,0,0),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},e.prototype.resize=function(e,t){this.canvas.width=e*this.resolution,this.canvas.height=t*this.resolution},e.prototype.destroy=function(){this.context=null,this.canvas=null},i(e,[{key:"width",get:function(){return this.canvas.width},set:function(e){this.canvas.width=e}},{key:"height",get:function(){return this.canvas.height},set:function(e){this.canvas.height=e}}]),e}();n.default=l},{"../../../settings":100}],79:[function(e,t,n){"use strict";function s(e){var n,t=document.createElement("canvas");return t.width=6,t.height=1,n=t.getContext("2d"),n.fillStyle=e,n.fillRect(0,0,6,1),t}function o(){if("undefined"==typeof document)return!1;var e,t,o,i=s("#ff00ff"),a=s("#ffff00"),n=document.createElement("canvas");return n.width=6,n.height=1,e=n.getContext("2d"),e.globalCompositeOperation="multiply",e.drawImage(i,0,0),e.drawImage(a,2,0),o=e.getImageData(2,0,1,1),!!o&&(t=o.data,255===t[0]&&0===t[1]&&0===t[2])}n.__esModule=!0,n.default=o},{}],80:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(0,r.default)()?(e[s.BLEND_MODES.NORMAL]="source-over",e[s.BLEND_MODES.ADD]="lighter",e[s.BLEND_MODES.MULTIPLY]="multiply",e[s.BLEND_MODES.SCREEN]="screen",e[s.BLEND_MODES.OVERLAY]="overlay",e[s.BLEND_MODES.DARKEN]="darken",e[s.BLEND_MODES.LIGHTEN]="lighten",e[s.BLEND_MODES.COLOR_DODGE]="color-dodge",e[s.BLEND_MODES.COLOR_BURN]="color-burn",e[s.BLEND_MODES.HARD_LIGHT]="hard-light",e[s.BLEND_MODES.SOFT_LIGHT]="soft-light",e[s.BLEND_MODES.DIFFERENCE]="difference",e[s.BLEND_MODES.EXCLUSION]="exclusion",e[s.BLEND_MODES.HUE]="hue",e[s.BLEND_MODES.SATURATION]="saturate",e[s.BLEND_MODES.COLOR]="color",e[s.BLEND_MODES.LUMINOSITY]="luminosity"):(e[s.BLEND_MODES.NORMAL]="source-over",e[s.BLEND_MODES.ADD]="lighter",e[s.BLEND_MODES.MULTIPLY]="source-over",e[s.BLEND_MODES.SCREEN]="source-over",e[s.BLEND_MODES.OVERLAY]="source-over",e[s.BLEND_MODES.DARKEN]="source-over",e[s.BLEND_MODES.LIGHTEN]="source-over",e[s.BLEND_MODES.COLOR_DODGE]="source-over",e[s.BLEND_MODES.COLOR_BURN]="source-over",e[s.BLEND_MODES.HARD_LIGHT]="source-over",e[s.BLEND_MODES.SOFT_LIGHT]="source-over",e[s.BLEND_MODES.DIFFERENCE]="source-over",e[s.BLEND_MODES.EXCLUSION]="source-over",e[s.BLEND_MODES.HUE]="source-over",e[s.BLEND_MODES.SATURATION]="source-over",e[s.BLEND_MODES.COLOR]="source-over",e[s.BLEND_MODES.LUMINOSITY]="source-over"),e}n.__esModule=!0,n.default=i;var s=e("../../../const"),a=e("./canUseNewCanvasBlendModes"),r=o(a)},{"../../../const":45,"./canUseNewCanvasBlendModes":79}],81:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../../const"),r=e("../../settings"),s=o(r),c=function(){function e(t){i(this,e),this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=s.default.GC_MAX_IDLE,this.checkCountMax=s.default.GC_MAX_CHECK_COUNT,this.mode=s.default.GC_MODE}return e.prototype.update=function(){this.count++,this.mode!==a.GC_MODES.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run()))},e.prototype.run=function(){for(var t,s,o,i=this.renderer.textureManager,e=i._managedTextures,a=!1,n=0;n<e.length;n++)s=e[n],!s._glRenderTargets&&this.count-s.touched>this.maxIdle&&(i.destroyTexture(s,!0),e[n]=null,a=!0);if(a){for(o=0,t=0;t<e.length;t++)null!==e[t]&&(e[o++]=e[t]);e.length=o}},e.prototype.unload=function(e){var t,n=this.renderer.textureManager;e._texture&&e._texture._glRenderTargets&&n.destroyTexture(e._texture,!0);for(t=e.children.length-1;t>=0;t--)this.unload(e.children[t])},e}();n.default=c},{"../../const":45,"../../settings":100}],82:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("pixi-gl-core"),s=e("../../const"),r=e("./utils/RenderTarget"),c=o(r),l=e("../../utils"),d=function(){function e(t){i(this,e),this.renderer=t,this.gl=t.gl,this._managedTextures=[]}return e.prototype.bindTexture=function(){},e.prototype.getTexture=function(){},e.prototype.updateTexture=function(e,t){var n,o,i,r,l=this.gl,d=!!e._glRenderTargets;if(!e.hasLoaded)return null;if(i=this.renderer.boundTextures,void 0===t){t=0;for(o=0;o<i.length;++o)if(i[o]===e){t=o;break}}return i[t]=e,l.activeTexture(l.TEXTURE0+t),n=e._glTextures[this.renderer.CONTEXT_UID],n?d?e._glRenderTargets[this.renderer.CONTEXT_UID].resize(e.width,e.height):n.upload(e.source):(d?(r=new c.default(this.gl,e.width,e.height,e.scaleMode,e.resolution),r.resize(e.width,e.height),e._glRenderTargets[this.renderer.CONTEXT_UID]=r,n=r.texture):(n=new a.GLTexture(this.gl,null,null,null,null),n.bind(t),n.premultiplyAlpha=!0,n.upload(e.source)),e._glTextures[this.renderer.CONTEXT_UID]=n,e.on("update",this.updateTexture,this),e.on("dispose",this.destroyTexture,this),this._managedTextures.push(e),e.isPowerOfTwo?(e.mipmap&&n.enableMipmap(),e.wrapMode===s.WRAP_MODES.CLAMP?n.enableWrapClamp():e.wrapMode===s.WRAP_MODES.REPEAT?n.enableWrapRepeat():n.enableWrapMirrorRepeat()):n.enableWrapClamp(),e.scaleMode===s.SCALE_MODES.NEAREST?n.enableNearestScaling():n.enableLinearScaling()),n},e.prototype.destroyTexture=function(e,t){if(e=e.baseTexture||e,e.hasLoaded&&e._glTextures[this.renderer.CONTEXT_UID]&&(this.renderer.unbindTexture(e),e._glTextures[this.renderer.CONTEXT_UID].destroy(),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.renderer.CONTEXT_UID],!t)){var n=this._managedTextures.indexOf(e);n!==-1&&(0,l.removeItems)(this._managedTextures,n,1)}},e.prototype.removeAll=function(){for(var t,e=0;e<this._managedTextures.length;++e)t=this._managedTextures[e],t._glTextures[this.renderer.CONTEXT_UID]&&delete t._glTextures[this.renderer.CONTEXT_UID]},e.prototype.destroy=function(){for(var e,t=0;t<this._managedTextures.length;++t)e=this._managedTextures[t],this.destroyTexture(e,!0),e.off("update",this.updateTexture,this),e.off("dispose",this.destroyTexture,this);this._managedTextures=null},e}();n.default=d},{"../../const":45,"../../utils":120,"./utils/RenderTarget":95,"pixi-gl-core":12}],83:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function L(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function z(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function j(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var w=e("../SystemRenderer"),i=s(w),l=e("./managers/MaskManager"),d=s(l),u=e("./managers/StencilManager"),h=s(u),m=e("./managers/FilterManager"),f=s(m),p=e("./utils/RenderTarget"),g=s(p),v=e("./utils/ObjectRenderer"),b=s(v),r=e("./TextureManager"),y=s(r),_=e("../../textures/BaseTexture"),c=s(_),O=e("./TextureGarbageCollector"),x=s(O),C=e("./WebGLState"),E=s(C),k=e("./utils/mapWebGLDrawModesToPixi"),A=s(k),S=e("./utils/validateContext"),M=s(S),F=e("../../utils"),T=e("pixi-gl-core"),o=s(T),D=e("../../const"),N=0,a=function(e){function t(n,s){var i,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L(this,t),i=z(this,e.call(this,"WebGL",n,s,a)),i.type=D.RENDERER_TYPE.WEBGL,i.handleContextLost=i.handleContextLost.bind(i),i.handleContextRestored=i.handleContextRestored.bind(i),i.view.addEventListener("webglcontextlost",i.handleContextLost,!1),i.view.addEventListener("webglcontextrestored",i.handleContextRestored,!1),i._contextOptions={alpha:i.transparent,antialias:a.antialias,premultipliedAlpha:i.transparent&&"notMultiplied"!==i.transparent,stencil:!0,preserveDrawingBuffer:a.preserveDrawingBuffer},i._backgroundColorRgba[3]=i.transparent?0:1,i.maskManager=new d.default(i),i.stencilManager=new h.default(i),i.emptyRenderer=new b.default(i),i.currentRenderer=i.emptyRenderer,i.initPlugins(),a.context&&(0,M.default)(a.context),i.gl=a.context||o.default.createContext(i.view,i._contextOptions),i.CONTEXT_UID=N++,i.state=new E.default(i.gl),i.renderingToScreen=!0,i.boundTextures=null,i._activeShader=null,i._activeVao=null,i._activeRenderTarget=null,i._initContext(),i.filterManager=new f.default(i),i.drawModes=(0,A.default)(i.gl),i._nextTextureLocation=0,i.setBlendMode(0),i}return j(t,e),t.prototype._initContext=function(){e=this.gl,e.isContextLost()&&e.getExtension("WEBGL_lose_context")&&e.getExtension("WEBGL_lose_context").restoreContext(),n=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),this.boundTextures=new Array(n),this.emptyTextures=new Array(n),this.textureManager=new y.default(this),this.textureGC=new x.default(this),this.state.resetToDefault(),this.rootRenderTarget=new g.default(e,this.width,this.height,null,this.resolution,!0),this.rootRenderTarget.clearColor=this._backgroundColorRgba,this.bindRenderTarget(this.rootRenderTarget);var e,t,n,s,a=new o.default.GLTexture.fromData(e,null,1,1),i={_glTextures:{}};i._glTextures[this.CONTEXT_UID]={};for(t=0;t<n;t++)s=new c.default,s._glTextures[this.CONTEXT_UID]=a,this.boundTextures[t]=i,this.emptyTextures[t]=s,this.bindTexture(null,t);this.emit("context",e),this.resize(this.width,this.height)},t.prototype.render=function(e,t,n,s,o){if(this.renderingToScreen=!t,this.emit("prerender"),this.gl&&!this.gl.isContextLost()){if(this._nextTextureLocation=0,t||(this._lastObjectRendered=e),!o){var i=e.parent;e.parent=this._tempDisplayObjectParent,e.updateTransform(),e.parent=i}this.bindRenderTexture(t,s),this.currentRenderer.start(),(void 0!==n?n:this.clearBeforeRender)&&this._activeRenderTarget.clear(),e.renderWebGL(this),this.currentRenderer.flush(),this.textureGC.update(),this.emit("postrender")}},t.prototype.setObjectRenderer=function(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())},t.prototype.flush=function(){this.setObjectRenderer(this.emptyRenderer)},t.prototype.resize=function(e,t){i.default.prototype.resize.call(this,e,t),this.rootRenderTarget.resize(e,t),this._activeRenderTarget===this.rootRenderTarget&&(this.rootRenderTarget.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=this.rootRenderTarget.projectionMatrix.toArray(!0)))},t.prototype.setBlendMode=function(e){this.state.setBlendMode(e)},t.prototype.clear=function(e){this._activeRenderTarget.clear(e)},t.prototype.setTransform=function(e){this._activeRenderTarget.transform=e},t.prototype.bindRenderTexture=function(e,t){var s,n=void 0;return e?(s=e.baseTexture,s._glRenderTargets[this.CONTEXT_UID]||this.textureManager.updateTexture(s,0),this.unbindTexture(s),n=s._glRenderTargets[this.CONTEXT_UID],n.setFrame(e.frame)):n=this.rootRenderTarget,n.transform=t,this.bindRenderTarget(n),this},t.prototype.bindRenderTarget=function(e){return e!==this._activeRenderTarget&&(this._activeRenderTarget=e,e.activate(),this._activeShader&&(this._activeShader.uniforms.projectionMatrix=e.projectionMatrix.toArray(!0)),this.stencilManager.setMaskStack(e.stencilMaskStack)),this},t.prototype.bindShader=function(e){return this._activeShader!==e&&(this._activeShader=e,e.bind(),e.uniforms.projectionMatrix=this._activeRenderTarget.projectionMatrix.toArray(!0)),this},t.prototype.bindTexture=function(e,t,n){if(e=e||this.emptyTextures[t],e=e.baseTexture||e,e.touched=this.textureGC.count,n)t=t||0;else{for(s=0;s<this.boundTextures.length;s++)if(this.boundTextures[s]===e)return s;void 0===t&&(this._nextTextureLocation++,this._nextTextureLocation%=this.boundTextures.length,t=this.boundTextures.length-this._nextTextureLocation-1)}var s,o=this.gl,i=e._glTextures[this.CONTEXT_UID];return i?(this.boundTextures[t]=e,o.activeTexture(o.TEXTURE0+t),o.bindTexture(o.TEXTURE_2D,i.texture)):this.textureManager.updateTexture(e,t),t},t.prototype.unbindTexture=function(e){var t,n=this.gl;e=e.baseTexture||e;for(t=0;t<this.boundTextures.length;t++)this.boundTextures[t]===e&&(this.boundTextures[t]=this.emptyTextures[t],n.activeTexture(n.TEXTURE0+t),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[t]._glTextures[this.CONTEXT_UID].texture));return this},t.prototype.createVao=function(){return new o.default.VertexArrayObject(this.gl,this.state.attribState)},t.prototype.bindVao=function(e){return this._activeVao===e?this:(e?e.bind():this._activeVao&&this._activeVao.unbind(),this._activeVao=e,this)},t.prototype.reset=function(){return this.setObjectRenderer(this.emptyRenderer),this._activeShader=null,this._activeRenderTarget=this.rootRenderTarget,this.rootRenderTarget.activate(),this.state.resetToDefault(),this},t.prototype.handleContextLost=function(e){e.preventDefault()},t.prototype.handleContextRestored=function(){this._initContext(),this.textureManager.removeAll()},t.prototype.destroy=function(t){this.destroyPlugins(),this.view.removeEventListener("webglcontextlost",this.handleContextLost),this.view.removeEventListener("webglcontextrestored",this.handleContextRestored),this.textureManager.destroy(),e.prototype.destroy.call(this,t),this.uid=0,this.maskManager.destroy(),this.stencilManager.destroy(),this.filterManager.destroy(),this.maskManager=null,this.filterManager=null,this.textureManager=null,this.currentRenderer=null,this.handleContextLost=null,this.handleContextRestored=null,this._contextOptions=null,this.gl.useProgram(null),this.gl.getExtension("WEBGL_lose_context")&&this.gl.getExtension("WEBGL_lose_context").loseContext(),this.gl=null},t}(i.default);n.default=a,F.pluginTarget.mixin(a)},{"../../const":45,"../../textures/BaseTexture":110,"../../utils":120,"../SystemRenderer":75,"./TextureGarbageCollector":81,"./TextureManager":82,"./WebGLState":84,"./managers/FilterManager":89,"./managers/MaskManager":90,"./managers/StencilManager":91,"./utils/ObjectRenderer":93,"./utils/RenderTarget":95,"./utils/mapWebGLDrawModesToPixi":98,"./utils/validateContext":99,"pixi-gl-core":12}],84:[function(e,t,n){"use strict";function c(e){return e&&e.__esModule?e:{default:e}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var d=e("./utils/mapWebGLBlendModesToPixi"),u=c(d),s=0,o=1,i=2,a=3,r=4,h=function(){function e(t){l(this,e),this.activeState=new Uint8Array(16),this.defaultState=new Uint8Array(16),this.defaultState[0]=1,this.stackIndex=0,this.stack=[],this.gl=t,this.maxAttribs=t.getParameter(t.MAX_VERTEX_ATTRIBS),this.attribState={tempAttribState:new Array(this.maxAttribs),attribState:new Array(this.maxAttribs)},this.blendModes=(0,u.default)(t),this.nativeVaoExtension=t.getExtension("OES_vertex_array_object")||t.getExtension("MOZ_OES_vertex_array_object")||t.getExtension("WEBKIT_OES_vertex_array_object")}return e.prototype.push=function(){var e,t=this.stack[++this.stackIndex];t||(t=this.stack[this.stackIndex]=new Uint8Array(16));for(e=0;e<this.activeState.length;e++)this.activeState[e]=t[e]},e.prototype.pop=function(){var e=this.stack[--this.stackIndex];this.setState(e)},e.prototype.setState=function(e){this.setBlend(e[s]),this.setDepthTest(e[o]),this.setFrontFace(e[i]),this.setCullFace(e[a]),this.setBlendMode(e[r])},e.prototype.setBlend=function(e){e=e?1:0,this.activeState[s]!==e&&(this.activeState[s]=e,this.gl[e?"enable":"disable"](this.gl.BLEND))},e.prototype.setBlendMode=function(e){e!==this.activeState[r]&&(this.activeState[r]=e,this.gl.blendFunc(this.blendModes[e][0],this.blendModes[e][1]))},e.prototype.setDepthTest=function(e){e=e?1:0,this.activeState[o]!==e&&(this.activeState[o]=e,this.gl[e?"enable":"disable"](this.gl.DEPTH_TEST))},e.prototype.setCullFace=function(e){e=e?1:0,this.activeState[a]!==e&&(this.activeState[a]=e,this.gl[e?"enable":"disable"](this.gl.CULL_FACE))},e.prototype.setFrontFace=function(e){e=e?1:0,this.activeState[i]!==e&&(this.activeState[i]=e,this.gl.frontFace(this.gl[e?"CW":"CCW"]))},e.prototype.resetAttributes=function(){for(var e,t,n=0;n<this.attribState.tempAttribState.length;n++)this.attribState.tempAttribState[n]=0;for(e=0;e<this.attribState.attribState.length;e++)this.attribState.attribState[e]=0;for(t=1;t<this.maxAttribs;t++)this.gl.disableVertexAttribArray(t)},e.prototype.resetToDefault=function(){this.nativeVaoExtension&&this.nativeVaoExtension.bindVertexArrayOES(null),this.resetAttributes();for(var e=0;e<this.activeState.length;++e)this.activeState[e]=32;this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.setState(this.defaultState)},e}();n.default=h},{"./utils/mapWebGLBlendModesToPixi":97}],85:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),r=e("./extractUniformsFromSrc"),c=o(r),l=e("../../../utils"),d=e("../../../const"),s={},u=function(){function e(t,n,o){i(this,e),this.vertexSrc=t||e.defaultVertexSrc,this.fragmentSrc=n||e.defaultFragmentSrc,this.blendMode=d.BLEND_MODES.NORMAL,this.uniformData=o||(0,c.default)(this.vertexSrc,this.fragmentSrc,"projectionMatrix|uSampler"),this.uniforms={};for(var a in this.uniformData)this.uniforms[a]=this.uniformData[a].value;this.glShaders={},s[this.vertexSrc+this.fragmentSrc]||(s[this.vertexSrc+this.fragmentSrc]=(0,l.uid)()),this.glShaderKey=s[this.vertexSrc+this.fragmentSrc],this.padding=4,this.resolution=1,this.enabled=!0}return e.prototype.apply=function(e,t,n,s){e.applyFilter(this,t,n,s)},a(e,null,[{key:"defaultVertexSrc",get:function(){return["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform mat3 projectionMatrix;","uniform mat3 filterMatrix;","varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","void main(void){","   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);","   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;","   vTextureCoord = aTextureCoord ;","}"].join(`
`)}},{key:"defaultFragmentSrc",get:function(){return["varying vec2 vTextureCoord;","varying vec2 vFilterCoord;","uniform sampler2D uSampler;","uniform sampler2D filterSampler;","void main(void){","   vec4 masky = texture2D(filterSampler, vFilterCoord);","   vec4 sample = texture2D(uSampler, vTextureCoord);","   vec4 color;","   if(mod(vFilterCoord.x, 1.0) > 0.5)","   {","     color = vec4(1.0, 0.0, 0.0, 1.0);","   }","   else","   {","     color = vec4(0.0, 1.0, 0.0, 1.0);","   }","   gl_FragColor = mix(sample, masky, 0.5);","   gl_FragColor *= sample.a;","}"].join(`
`)}}]),e}();n.default=u},{"../../../const":45,"../../../utils":120,"./extractUniformsFromSrc":86}],86:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var o=s(e,n),i=s(t,n);return Object.assign(o,i)}function s(e){for(var o,u=new RegExp("^(projectionMatrix|uSampler|filterArea)$"),i={},n=void 0,a=e.replace(/\s+/g," ").split(/\s*;\s*/),s=0;s<a.length;s++)if(o=a[s].trim(),o.indexOf("uniform")>-1){var r=o.split(" "),l=r[1],t=r[2],d=1;t.indexOf("[")>-1&&(n=t.split(/\[|]/),t=n[0],d*=Number(n[1])),t.match(u)||(i[t]={value:c(l,d),name:t,type:l})}return i}n.__esModule=!0,n.default=i;var a=e("pixi-gl-core"),r=o(a),c=r.default.shader.defaultValue},{"pixi-gl-core":12}],87:[function(e,t,n){"use strict";function s(e,t,n){var s=e.identity();return s.translate(t.x/n.width,t.y/n.height),s.scale(n.width,n.height),s}function o(e,t,n){s=e.identity(),s.translate(t.x/n.width,t.y/n.height);var s,o=n.width/t.width,i=n.height/t.height;return s.scale(o,i),s}function i(e,t,n,s){var c,d,i=s.worldTransform.copy(a.Matrix.TEMP_MATRIX),r=s._texture.baseTexture,o=e.identity(),l=n.height/n.width;return o.translate(t.x/n.width,t.y/n.height),o.scale(1,l),c=n.width/r.width,d=n.height/r.height,i.tx/=r.width*c,i.ty/=r.width*c,i.invert(),o.prepend(i),o.scale(1,1/l),o.scale(c,d),o.translate(s.anchor.x,s.anchor.y),o}n.__esModule=!0,n.calculateScreenSpaceMatrix=s,n.calculateNormalizedScreenSpaceMatrix=o,n.calculateSpriteMatrix=i;var a=e("../../../math")},{"../../../math":69}],88:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var r=e("../Filter"),c=s(r),l=e("../../../../math"),d=(e("path"),function(e){function t(n){o(this,t);var a=new l.Matrix,s=i(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`,`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float alpha;
uniform sampler2D mask;

void main(void)
{
    // check clip! this will stop the mask bleeding out from the edges
    vec2 text = abs( vMaskCoord - 0.5 );
    text = step(0.5, text);

    float clip = 1.0 - max(text.y, text.x);
    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);

    original *= (masky.r * masky.a * alpha * clip);

    gl_FragColor = original;
}
`));return n.renderable=!1,s.maskSprite=n,s.maskMatrix=a,s}return a(t,e),t.prototype.apply=function(e,t,n){var s=this.maskSprite;this.uniforms.mask=s._texture,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s),this.uniforms.alpha=s.worldAlpha,e.applyFilter(this,t,n)},t}(c.default));n.default=d},{"../../../../math":69,"../Filter":85,path:23}],89:[function(e,t,n){"use strict";function b(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(e){return e&&e.__esModule?e:{default:e}}function _(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var d=e("./WebGLManager"),g=s(d),f=e("../utils/RenderTarget"),u=s(f),h=e("../utils/Quad"),m=s(h),i=e("../../../math"),p=e("../../../Shader"),l=s(p),v=e("../filters/filterTransforms"),o=b(v),j=e("bit-twiddle"),r=s(j),a=function e(){c(this,e),this.renderTarget=null,this.sourceFrame=new i.Rectangle,this.destinationFrame=new i.Rectangle,this.filters=[],this.target=null,this.resolution=1},w=function(e){function t(n){c(this,t);var s=_(this,e.call(this,n));return s.gl=s.renderer.gl,s.quad=new m.default(s.gl,n.state.attribState),s.shaderCache={},s.pool={},s.filterData=null,s}return y(t,e),t.prototype.pushFilter=function(e,t){l=this.renderer,n=this.filterData,n||(n=this.renderer._activeRenderTarget.filterStack,r=new a,r.sourceFrame=r.destinationFrame=this.renderer._activeRenderTarget.size,r.renderTarget=l._activeRenderTarget,this.renderer._activeRenderTarget.filterData=n={index:0,stack:[r]},this.filterData=n),i=n.stack[++n.index],i||(i=n.stack[n.index]=new a);var n,i,r,c,l,o=t[0].resolution,h=0|t[0].padding,d=e.filterArea||e.getBounds(!0),s=i.sourceFrame,u=i.destinationFrame;s.x=(d.x*o|0)/o,s.y=(d.y*o|0)/o,s.width=(d.width*o|0)/o,s.height=(d.height*o|0)/o,n.stack[0].renderTarget.transform||s.fit(n.stack[0].destinationFrame),s.pad(h),u.width=s.width,u.height=s.height,c=this.getPotRenderTarget(l.gl,s.width,s.height,o),i.target=e,i.filters=t,i.resolution=o,i.renderTarget=c,c.setFrame(u,s),l.bindRenderTarget(c),c.clear()},t.prototype.popFilter=function(){var t,s,o,i,r,n=this.filterData,a=n.stack[n.index-1],e=n.stack[n.index];if(this.quad.map(e.renderTarget.size,e.sourceFrame).upload(),s=e.filters,1===s.length)s[0].apply(this,e.renderTarget,a.renderTarget,!1),this.freePotRenderTarget(e.renderTarget);else{o=e.renderTarget,t=this.getPotRenderTarget(this.renderer.gl,e.sourceFrame.width,e.sourceFrame.height,e.resolution),t.setFrame(e.destinationFrame,e.sourceFrame),t.clear(),i=0;for(i=0;i<s.length-1;++i)s[i].apply(this,o,t,!0),r=o,o=t,t=r;s[i].apply(this,o,a.renderTarget,!0),this.freePotRenderTarget(o),this.freePotRenderTarget(t)}n.index--,0===n.index&&(this.filterData=null)},t.prototype.applyFilter=function(e,t,n,s){var r,o=this.renderer,i=o.gl,a=e.glShaders[o.CONTEXT_UID];a||(e.glShaderKey?(a=this.shaderCache[e.glShaderKey],a||(a=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),e.glShaders[o.CONTEXT_UID]=this.shaderCache[e.glShaderKey]=a)):a=e.glShaders[o.CONTEXT_UID]=new l.default(this.gl,e.vertexSrc,e.fragmentSrc),o.bindVao(null),this.quad.initVao(a)),o.bindVao(this.quad.vao),o.bindRenderTarget(n),s&&(i.disable(i.SCISSOR_TEST),o.clear(),i.enable(i.SCISSOR_TEST)),n===o.maskManager.scissorRenderTarget&&o.maskManager.pushScissorMask(null,o.maskManager.scissorData),o.bindShader(a),r=this.renderer.emptyTextures[0],this.renderer.boundTextures[0]=r,this.syncUniforms(a,e),o.state.setBlendMode(e.blendMode),i.activeTexture(i.TEXTURE0),i.bindTexture(i.TEXTURE_2D,t.texture.texture),this.quad.vao.draw(this.renderer.gl.TRIANGLES,6,0),i.bindTexture(i.TEXTURE_2D,r._glTextures[this.renderer.CONTEXT_UID].texture)},t.prototype.syncUniforms=function(e,t){var n,r,c,l,d,i=t.uniformData,s=t.uniforms,a=1,o=void 0;e.uniforms.data.filterArea&&(o=this.filterData.stack[this.filterData.index],r=e.uniforms.filterArea,r[0]=o.renderTarget.size.width,r[1]=o.renderTarget.size.height,r[2]=o.sourceFrame.x,r[3]=o.sourceFrame.y,e.uniforms.filterArea=r),e.uniforms.data.filterClamp&&(o=this.filterData.stack[this.filterData.index],c=e.uniforms.filterClamp,c[0]=0,c[1]=0,c[2]=(o.sourceFrame.width-1)/o.renderTarget.size.width,c[3]=(o.sourceFrame.height-1)/o.renderTarget.size.height,e.uniforms.filterClamp=c);for(n in i)"sampler2D"===i[n].type&&0!==s[n]?(s[n].baseTexture?e.uniforms[n]=this.renderer.bindTexture(s[n].baseTexture,a):(e.uniforms[n]=a,d=this.renderer.gl,this.renderer.boundTextures[a]=this.renderer.emptyTextures[a],d.activeTexture(d.TEXTURE0+a),s[n].texture.bind()),a++):"mat3"===i[n].type?void 0!==s[n].a?e.uniforms[n]=s[n].toArray(!0):e.uniforms[n]=s[n]:"vec2"===i[n].type?void 0!==s[n].x?(l=e.uniforms[n]||new Float32Array(2),l[0]=s[n].x,l[1]=s[n].y,e.uniforms[n]=l):e.uniforms[n]=s[n]:"float"===i[n].type?e.uniforms.data[n].value!==i[n]&&(e.uniforms[n]=s[n]):e.uniforms[n]=s[n]},t.prototype.getRenderTarget=function(e,t){var n=this.filterData.stack[this.filterData.index],s=this.getPotRenderTarget(this.renderer.gl,n.sourceFrame.width,n.sourceFrame.height,t||n.resolution);return s.setFrame(n.destinationFrame,n.sourceFrame),s},t.prototype.returnRenderTarget=function(e){this.freePotRenderTarget(e)},t.prototype.calculateScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return o.calculateScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size)},t.prototype.calculateNormalizedScreenSpaceMatrix=function(e){var t=this.filterData.stack[this.filterData.index];return o.calculateNormalizedScreenSpaceMatrix(e,t.sourceFrame,t.renderTarget.size,t.destinationFrame)},t.prototype.calculateSpriteMatrix=function(e,t){var n=this.filterData.stack[this.filterData.index];return o.calculateSpriteMatrix(e,n.sourceFrame,n.renderTarget.size,t)},t.prototype.destroy=function(){this.shaderCache=[],this.emptyPool()},t.prototype.getPotRenderTarget=function(e,t,n,s){t=r.default.nextPow2(t*s),n=r.default.nextPow2(n*s);var o,a,i=(65535&t)<<16|65535&n;return this.pool[i]||(this.pool[i]=[]),o=this.pool[i].pop(),o||(a=this.renderer.boundTextures[0],e.activeTexture(e.TEXTURE0),o=new u.default(e,t,n,null,1),e.bindTexture(e.TEXTURE_2D,a._glTextures[this.renderer.CONTEXT_UID].texture)),o.resolution=s,o.defaultFrame.width=o.size.width=t/s,o.defaultFrame.height=o.size.height=n/s,o},t.prototype.emptyPool=function(){for(n in this.pool){var e,n,t=this.pool[n];if(t)for(e=0;e<t.length;e++)t[e].destroy(!0)}this.pool={}},t.prototype.freePotRenderTarget=function(e){var t=e.size.width*e.resolution,n=e.size.height*e.resolution,s=(65535&t)<<16|65535&n;this.pool[s].push(e)},t}(g.default);n.default=w},{"../../../Shader":43,"../../../math":69,"../filters/filterTransforms":87,"../utils/Quad":94,"../utils/RenderTarget":95,"./WebGLManager":92,"bit-twiddle":1}],90:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var r=e("./WebGLManager"),c=s(r),l=e("../filters/spriteMask/SpriteMaskFilter"),d=s(l),u=function(e){function t(n){o(this,t);var s=i(this,e.call(this,n));return s.scissor=!1,s.scissorData=null,s.scissorRenderTarget=null,s.enableScissor=!0,s.alphaMaskPool=[],s.alphaMaskIndex=0,s}return a(t,e),t.prototype.pushMask=function(e,t){if(t.texture)this.pushSpriteMask(e,t);else if(this.enableScissor&&!this.scissor&&this.renderer._activeRenderTarget.root&&!this.renderer.stencilManager.stencilMaskStack.length&&t.isFastRect()){var s=t.worldTransform,n=Math.atan2(s.b,s.a),n=Math.round(n*(180/Math.PI));n%90?this.pushStencilMask(t):this.pushScissorMask(e,t)}else this.pushStencilMask(t)},t.prototype.popMask=function(e,t){t.texture?this.popSpriteMask(e,t):this.enableScissor&&!this.renderer.stencilManager.stencilMaskStack.length?this.popScissorMask(e,t):this.popStencilMask(e,t)},t.prototype.pushSpriteMask=function(e,t){var n=this.alphaMaskPool[this.alphaMaskIndex];n||(n=this.alphaMaskPool[this.alphaMaskIndex]=[new d.default(t)]),n[0].resolution=this.renderer.resolution,n[0].maskSprite=t,e.filterArea=t.getBounds(!0),this.renderer.filterManager.pushFilter(e,n),this.alphaMaskIndex++},t.prototype.popSpriteMask=function(){this.renderer.filterManager.popFilter(),this.alphaMaskIndex--},t.prototype.pushStencilMask=function(e){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.pushStencil(e)},t.prototype.popStencilMask=function(){this.renderer.currentRenderer.stop(),this.renderer.stencilManager.popStencil()},t.prototype.pushScissorMask=function(e,t){t.renderable=!0;var s,o=this.renderer._activeRenderTarget,n=t.getBounds();n.fit(o.size),t.renderable=!1,this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),s=this.renderer.resolution,this.renderer.gl.scissor(n.x*s,(o.root?o.size.height-n.y-n.height:n.y)*s,n.width*s,n.height*s),this.scissorRenderTarget=o,this.scissorData=t,this.scissor=!0},t.prototype.popScissorMask=function(){this.scissorRenderTarget=null,this.scissorData=null,this.scissor=!1;var e=this.renderer.gl;e.disable(e.SCISSOR_TEST)},t}(c.default);n.default=u},{"../filters/spriteMask/SpriteMaskFilter":88,"./WebGLManager":92}],91:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=e("./WebGLManager"),s=o(c),l=function(e){function t(n){i(this,t);var s=a(this,e.call(this,n));return s.stencilMaskStack=null,s}return r(t,e),t.prototype.setMaskStack=function(e){this.stencilMaskStack=e;var t=this.renderer.gl;0===e.length?t.disable(t.STENCIL_TEST):t.enable(t.STENCIL_TEST)},t.prototype.pushStencil=function(e){this.renderer.setObjectRenderer(this.renderer.plugins.graphics),this.renderer._activeRenderTarget.attachStencilBuffer();var t=this.renderer.gl,n=this.stencilMaskStack;0===n.length&&(t.enable(t.STENCIL_TEST),t.clear(t.STENCIL_BUFFER_BIT),t.stencilFunc(t.ALWAYS,1,1)),n.push(e),t.colorMask(!1,!1,!1,!1),t.stencilOp(t.KEEP,t.KEEP,t.INCR),this.renderer.plugins.graphics.render(e),t.colorMask(!0,!0,!0,!0),t.stencilFunc(t.NOTEQUAL,0,n.length),t.stencilOp(t.KEEP,t.KEEP,t.KEEP)},t.prototype.popStencil=function(){this.renderer.setObjectRenderer(this.renderer.plugins.graphics);var e=this.renderer.gl,t=this.stencilMaskStack,n=t.pop();0===t.length?e.disable(e.STENCIL_TEST):(e.colorMask(!1,!1,!1,!1),e.stencilOp(e.KEEP,e.KEEP,e.DECR),this.renderer.plugins.graphics.render(n),e.colorMask(!0,!0,!0,!0),e.stencilFunc(e.NOTEQUAL,0,t.length),e.stencilOp(e.KEEP,e.KEEP,e.KEEP))},t.prototype.destroy=function(){s.default.prototype.destroy.call(this),this.stencilMaskStack.stencilStack=null},t}(s.default);n.default=l},{"./WebGLManager":92}],92:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(t){s(this,e),this.renderer=t,this.renderer.on("context",this.onContextChange,this)}return e.prototype.onContextChange=function(){},e.prototype.destroy=function(){this.renderer.off("context",this.onContextChange,this),this.renderer=null},e}();n.default=o},{}],93:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var r=e("../managers/WebGLManager"),c=s(r),l=function(e){function t(){return o(this,t),i(this,e.apply(this,arguments))}return a(t,e),t.prototype.start=function(){},t.prototype.stop=function(){this.flush()},t.prototype.flush=function(){},t.prototype.render=function(){},t}(c.default);n.default=l},{"../managers/WebGLManager":92}],94:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("pixi-gl-core"),s=o(a),r=e("../../../utils/createIndicesForQuads"),c=o(r),l=function(){function e(t,n){i(this,e),this.gl=t,this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.interleaved=new Float32Array(16);for(var o=0;o<4;o++)this.interleaved[4*o]=this.vertices[2*o],this.interleaved[4*o+1]=this.vertices[2*o+1],this.interleaved[4*o+2]=this.uvs[2*o],this.interleaved[4*o+3]=this.uvs[2*o+1];this.indices=(0,c.default)(1),this.vertexBuffer=s.default.GLBuffer.createVertexBuffer(t,this.interleaved,t.STATIC_DRAW),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(t,this.indices,t.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(t,n)}return e.prototype.initVao=function(e){this.vao.clear().addIndex(this.indexBuffer).addAttribute(this.vertexBuffer,e.attributes.aVertexPosition,this.gl.FLOAT,!1,16,0).addAttribute(this.vertexBuffer,e.attributes.aTextureCoord,this.gl.FLOAT,!1,16,8)},e.prototype.map=function(e,t){var n=0,s=0;return this.uvs[0]=n,this.uvs[1]=s,this.uvs[2]=n+t.width/e.width,this.uvs[3]=s,this.uvs[4]=n+t.width/e.width,this.uvs[5]=s+t.height/e.height,this.uvs[6]=n,this.uvs[7]=s+t.height/e.height,n=t.x,s=t.y,this.vertices[0]=n,this.vertices[1]=s,this.vertices[2]=n+t.width,this.vertices[3]=s,this.vertices[4]=n+t.width,this.vertices[5]=s+t.height,this.vertices[6]=n,this.vertices[7]=s+t.height,this},e.prototype.upload=function(){for(var e=0;e<4;e++)this.interleaved[4*e]=this.vertices[2*e],this.interleaved[4*e+1]=this.vertices[2*e+1],this.interleaved[4*e+2]=this.uvs[2*e],this.interleaved[4*e+3]=this.uvs[2*e+1];return this.vertexBuffer.upload(this.interleaved),this},e.prototype.destroy=function(){var e=this.gl;e.deleteBuffer(this.vertexBuffer),e.deleteBuffer(this.indexBuffer)},e}();n.default=l},{"../../../utils/createIndicesForQuads":118,"pixi-gl-core":12}],95:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var s=e("../../../math"),c=e("../../../const"),l=e("../../../settings"),o=a(l),i=e("pixi-gl-core"),d=function(){function e(t,n,a,l,d,u){r(this,e),this.gl=t,this.frameBuffer=null,this.texture=null,this.clearColor=[0,0,0,0],this.size=new s.Rectangle(0,0,1,1),this.resolution=d||o.default.RESOLUTION,this.projectionMatrix=new s.Matrix,this.transform=null,this.frame=null,this.defaultFrame=new s.Rectangle,this.destinationFrame=null,this.sourceFrame=null,this.stencilBuffer=null,this.stencilMaskStack=[],this.filterData=null,this.scaleMode=l||o.default.SCALE_MODE,this.root=u,this.root?(this.frameBuffer=new i.GLFramebuffer(t,100,100),this.frameBuffer.framebuffer=null):(this.frameBuffer=i.GLFramebuffer.createRGBA(t,100,100),this.scaleMode===c.SCALE_MODES.NEAREST?this.frameBuffer.texture.enableNearestScaling():this.frameBuffer.texture.enableLinearScaling(),this.texture=this.frameBuffer.texture),this.setFrame(),this.resize(n,a)}return e.prototype.clear=function(e){var t=e||this.clearColor;this.frameBuffer.clear(t[0],t[1],t[2],t[3])},e.prototype.attachStencilBuffer=function(){this.root||this.frameBuffer.enableStencil()},e.prototype.setFrame=function(e,t){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=t||this.sourceFrame||e},e.prototype.activate=function(){var e=this.gl;this.frameBuffer.bind(),this.calculateProjection(this.destinationFrame,this.sourceFrame),this.transform&&this.projectionMatrix.append(this.transform),this.destinationFrame!==this.sourceFrame?(e.enable(e.SCISSOR_TEST),e.scissor(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)):e.disable(e.SCISSOR_TEST),e.viewport(0|this.destinationFrame.x,0|this.destinationFrame.y,this.destinationFrame.width*this.resolution|0,this.destinationFrame.height*this.resolution|0)},e.prototype.calculateProjection=function(e,t){var n=this.projectionMatrix;t=t||e,n.identity(),this.root?(n.a=1/e.width*2,n.d=-1/e.height*2,n.tx=-1-t.x*n.a,n.ty=1-t.y*n.d):(n.a=1/e.width*2,n.d=1/e.height*2,n.tx=-1-t.x*n.a,n.ty=-1-t.y*n.d)},e.prototype.resize=function(e,t){if(e|=0,t|=0,this.size.width!==e||this.size.height!==t){this.size.width=e,this.size.height=t,this.defaultFrame.width=e,this.defaultFrame.height=t,this.frameBuffer.resize(e*this.resolution,t*this.resolution);var n=this.frame||this.size;this.calculateProjection(n)}},e.prototype.destroy=function(){this.frameBuffer.destroy(),this.frameBuffer=null,this.texture=null},e}();n.default=d},{"../../../const":45,"../../../math":69,"../../../settings":100,"pixi-gl-core":12}],96:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){var n,s,a,o=!t;o&&(n=document.createElement("canvas"),n.width=1,n.height=1,t=r.default.createContext(n));for(s=t.createShader(t.FRAGMENT_SHADER);;){if(a=c.replace(/%forloop%/gi,i(e)),t.shaderSource(s,a),t.compileShader(s),t.getShaderParameter(s,t.COMPILE_STATUS))break;e=e/2|0}return o&&t.getExtension("WEBGL_lose_context")&&t.getExtension("WEBGL_lose_context").loseContext(),e}function i(e){for(var n="",t=0;t<e;++t)t>0&&(n+=`
else `),t<e-1&&(n+="if(test == "+t+".0){}");return n}n.__esModule=!0,n.default=o;var a=e("pixi-gl-core"),r=s(a),c=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`)},{"pixi-gl-core":12}],97:[function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return t[s.BLEND_MODES.NORMAL]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.ADD]=[e.ONE,e.DST_ALPHA],t[s.BLEND_MODES.MULTIPLY]=[e.DST_COLOR,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.SCREEN]=[e.ONE,e.ONE_MINUS_SRC_COLOR],t[s.BLEND_MODES.OVERLAY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.DARKEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.LIGHTEN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.COLOR_DODGE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.COLOR_BURN]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.HARD_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.SOFT_LIGHT]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.DIFFERENCE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.EXCLUSION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.HUE]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.SATURATION]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.COLOR]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t[s.BLEND_MODES.LUMINOSITY]=[e.ONE,e.ONE_MINUS_SRC_ALPHA],t}n.__esModule=!0,n.default=o;var s=e("../../../const")},{"../../../const":45}],98:[function(e,t,n){"use strict";function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t[s.DRAW_MODES.POINTS]=e.POINTS,t[s.DRAW_MODES.LINES]=e.LINES,t[s.DRAW_MODES.LINE_LOOP]=e.LINE_LOOP,t[s.DRAW_MODES.LINE_STRIP]=e.LINE_STRIP,t[s.DRAW_MODES.TRIANGLES]=e.TRIANGLES,t[s.DRAW_MODES.TRIANGLE_STRIP]=e.TRIANGLE_STRIP,t[s.DRAW_MODES.TRIANGLE_FAN]=e.TRIANGLE_FAN,t}n.__esModule=!0,n.default=o;var s=e("../../../const")},{"../../../const":45}],99:[function(e,t,n){"use strict";function s(e){var t=e.getContextAttributes();t.stencil||console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly")}n.__esModule=!0,n.default=s},{}],100:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=e("./utils/maxRecommendedTextures"),i=s(o),a=e("./utils/canUploadSameBuffer"),r=s(a);n.default={TARGET_FPMS:.06,MIPMAP_TEXTURES:!0,RESOLUTION:1,FILTER_RESOLUTION:1,SPRITE_MAX_TEXTURES:(0,i.default)(32),SPRITE_BATCH_SIZE:4096,RETINA_PREFIX:/@(.+)x/,RENDER_OPTIONS:{view:null,antialias:!1,forceFXAA:!1,autoResize:!1,transparent:!1,backgroundColor:0,clearBeforeRender:!0,preserveDrawingBuffer:!1,roundPixels:!1},TRANSFORM_MODE:0,GC_MODE:0,GC_MAX_IDLE:3600,GC_MAX_CHECK_COUNT:600,WRAP_MODE:0,SCALE_MODE:0,PRECISION:"mediump",CAN_UPLOAD_SAME_BUFFER:(0,r.default)()}},{"./utils/canUploadSameBuffer":117,"./utils/maxRecommendedTextures":121}],101:[function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=e("../math"),s=e("../utils"),u=e("../const"),h=e("../textures/Texture"),i=r(h),m=e("../display/Container"),f=r(m),o=new a.Point,g=function(e){function t(n){p(this,t);var s=d(this,e.call(this));return s._anchor=new a.ObservablePoint(s._onAnchorUpdate,s),s._texture=null,s._width=0,s._height=0,s._tint=null,s._tintRGB=null,s.tint=16777215,s.blendMode=u.BLEND_MODES.NORMAL,s.shader=null,s.cachedTint=16777215,s.texture=n||i.default.EMPTY,s.vertexData=new Float32Array(8),s.vertexTrimmedData=null,s._transformID=-1,s._textureID=-1,s._transformTrimmedID=-1,s._textureTrimmedID=-1,s.pluginName="sprite",s}return c(t,e),t.prototype._onTextureUpdate=function(){this._textureID=-1,this._textureTrimmedID=-1,this._width&&(this.scale.x=(0,s.sign)(this.scale.x)*this._width/this.texture.orig.width),this._height&&(this.scale.y=(0,s.sign)(this.scale.y)*this._height/this.texture.orig.height)},t.prototype._onAnchorUpdate=function(){this._transformID=-1,this._transformTrimmedID=-1},t.prototype.calculateVertices=function(){if(this._transformID!==this.transform._worldID||this._textureID!==this._texture._updateID){this._transformID=this.transform._worldID,this._textureID=this._texture._updateID;var p=this._texture,r=this.transform.worldTransform,f=r.a,m=r.b,l=r.c,d=r.d,u=r.tx,h=r.ty,e=this.vertexData,c=p.trim,o=p.orig,i=this._anchor,s=0,n=0,a=0,t=0;c?(n=c.x-i._x*o.width,s=n+c.width,t=c.y-i._y*o.height,a=t+c.height):(s=o.width*(1-i._x),n=o.width*-i._x,a=o.height*(1-i._y),t=o.height*-i._y),e[0]=f*n+l*t+u,e[1]=d*t+m*n+h,e[2]=f*s+l*t+u,e[3]=d*t+m*s+h,e[4]=f*s+l*a+u,e[5]=d*a+m*s+h,e[6]=f*n+l*a+u,e[7]=d*a+m*n+h}},t.prototype.calculateTrimmedVertices=function(){if(this.vertexTrimmedData){if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return}else this.vertexTrimmedData=new Float32Array(8);this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;var f=this._texture,e=this.vertexTrimmedData,o=f.orig,s=this._anchor,t=this.transform.worldTransform,i=t.a,n=t.b,a=t.c,r=t.d,c=t.tx,l=t.ty,d=o.width*(1-s._x),u=o.width*-s._x,h=o.height*(1-s._y),m=o.height*-s._y;e[0]=i*u+a*m+c,e[1]=r*m+n*u+l,e[2]=i*d+a*m+c,e[3]=r*m+n*d+l,e[4]=i*d+a*h+c,e[5]=r*h+n*d+l,e[6]=i*u+a*h+c,e[7]=r*h+n*u+l},t.prototype._renderWebGL=function(e){this.calculateVertices(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){e.plugins[this.pluginName].render(this)},t.prototype._calculateBounds=function(){var e=this._texture.trim,t=this._texture.orig;!e||e.width===t.width&&e.height===t.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._texture.orig.width*-this._anchor._x,this._bounds.minY=this._texture.orig.height*-this._anchor._y,this._bounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._bounds.maxY=this._texture.orig.height*(1-this._anchor._x),t||(this._localBoundsRect||(this._localBoundsRect=new a.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,o);var n=this._texture.orig.width,s=this._texture.orig.height,i=-n*this.anchor.x,t=0;return o.x>i&&o.x<i+n&&(t=-s*this.anchor.y,o.y>t&&o.y<t+s)},t.prototype.destroy=function(t){e.prototype.destroy.call(this,t),this._anchor=null;var n,s="boolean"==typeof t?t:t&&t.texture;s&&(n="boolean"==typeof t?t:t&&t.baseTexture,this._texture.destroy(!!n)),this._texture=null,this.shader=null},t.from=function(e){return new t(i.default.from(e))},t.fromFrame=function(e){var n=s.TextureCache[e];if(!n)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return new t(n)},t.fromImage=function(e,n,s){return new t(i.default.fromImage(e,n,s))},l(t,[{key:"width",get:function(){return Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){var t=(0,s.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){var t=(0,s.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"anchor",get:function(){return this._anchor},set:function(e){this._anchor.copy(e)}},{key:"tint",get:function(){return this._tint},set:function(e){this._tint=e,this._tintRGB=(e>>16)+(65280&e)+((255&e)<<16)}},{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,this.cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}]),t}(f.default);n.default=g},{"../const":45,"../display/Container":47,"../math":69,"../textures/Texture":112,"../utils":120}],102:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var c=e("../../renderers/canvas/CanvasRenderer"),l=s(c),d=e("../../const"),o=e("../../math"),u=e("./CanvasTinter"),h=s(u),i=new o.Matrix,a=function(){function e(t){r(this,e),this.renderer=t}return e.prototype.render=function(e){var c,m,n=e._texture,t=this.renderer,l=n._frame.width,u=n._frame.height,s=e.transform.worldTransform,a=0,r=0;!(n.orig.width<=0||n.orig.height<=0)&&n.baseTexture.source&&(t.setBlendMode(e.blendMode),n.valid)&&(t.context.globalAlpha=e.worldAlpha,m=n.baseTexture.scaleMode===d.SCALE_MODES.LINEAR,t.smoothProperty&&t.context[t.smoothProperty]!==m&&(t.context[t.smoothProperty]=m),n.trim?(a=n.trim.width/2+n.trim.x-e.anchor.x*n.orig.width,r=n.trim.height/2+n.trim.y-e.anchor.y*n.orig.height):(a=(.5-e.anchor.x)*n.orig.width,r=(.5-e.anchor.y)*n.orig.height),n.rotate&&(s.copy(i),s=i,o.GroupD8.matrixAppendRotationInv(s,n.rotate,a,r),a=0,r=0),a-=l/2,r-=u/2,t.roundPixels?(t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution|0,s.ty*t.resolution|0),a|=0,r|=0):t.context.setTransform(s.a,s.b,s.c,s.d,s.tx*t.resolution,s.ty*t.resolution),c=n.baseTexture.resolution,16777215!==e.tint?(e.cachedTint!==e.tint&&(e.cachedTint=e.tint,e.tintedTexture=h.default.getTintedTexture(e,e.tint)),t.context.drawImage(e.tintedTexture,0,0,l*c,u*c,a*t.resolution,r*t.resolution,l*t.resolution,u*t.resolution)):t.context.drawImage(n.baseTexture.source,n._frame.x*c,n._frame.y*c,l*c,u*c,a*t.resolution,r*t.resolution,l*t.resolution,u*t.resolution))},e.prototype.destroy=function(){this.renderer=null},e}();n.default=a,l.default.registerPlugin("sprite",a)},{"../../const":45,"../../math":69,"../../renderers/canvas/CanvasRenderer":76,"./CanvasTinter":103}],103:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o=e("../../utils"),a=e("../../renderers/canvas/utils/canUseNewCanvasBlendModes"),r=i(a),s={getTintedTexture:function(e,t){var o,i,a,n=e.texture;return t=s.roundColor(t),o="#"+("00000"+(0|t).toString(16)).substr(-6),n.tintCache=n.tintCache||{},n.tintCache[o]?n.tintCache[o]:(i=s.canvas||document.createElement("canvas"),s.tintMethod(n,t,i),s.convertTintToImage?(a=new Image,a.src=i.toDataURL(),n.tintCache[o]=a):(n.tintCache[o]=i,s.canvas=null),i)},tintWithMultiply:function(e,t,n){var o=n.getContext("2d"),s=e._frame.clone(),i=e.baseTexture.resolution;s.x*=i,s.y*=i,s.width*=i,s.height*=i,n.width=s.width,n.height=s.height,o.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),o.fillRect(0,0,s.width,s.height),o.globalCompositeOperation="multiply",o.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height),o.globalCompositeOperation="destination-atop",o.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height)},tintWithOverlay:function(e,t,n){var o=n.getContext("2d"),s=e._frame.clone(),i=e.baseTexture.resolution;s.x*=i,s.y*=i,s.width*=i,s.height*=i,n.width=s.width,n.height=s.height,o.globalCompositeOperation="copy",o.fillStyle="#"+("00000"+(0|t).toString(16)).substr(-6),o.fillRect(0,0,s.width,s.height),o.globalCompositeOperation="destination-atop",o.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height)},tintWithPerPixel:function(e,t,n){var a=n.getContext("2d"),s=e._frame.clone(),r=e.baseTexture.resolution;s.x*=r,s.y*=r,s.width*=r,s.height*=r,n.width=s.width,n.height=s.height,a.globalCompositeOperation="copy",a.drawImage(e.baseTexture.source,s.x,s.y,s.width,s.height,0,0,s.width,s.height);for(var l=(0,o.hex2rgb)(t),u=l[0],h=l[1],m=l[2],d=a.getImageData(0,0,s.width,s.height),c=d.data,i=0;i<c.length;i+=4)c[i+0]*=u,c[i+1]*=h,c[i+2]*=m;a.putImageData(d,0,0)},roundColor:function(e){var n=s.cacheStepsPerColorChannel,t=(0,o.hex2rgb)(e);return t[0]=Math.min(255,t[0]/n*n),t[1]=Math.min(255,t[1]/n*n),t[2]=Math.min(255,t[2]/n*n),(0,o.rgb2hex)(t)},cacheStepsPerColorChannel:8,convertTintToImage:!1,canUseMultiply:(0,r.default)(),tintMethod:0};s.tintMethod=s.canUseMultiply?s.tintWithMultiply:s.tintWithPerPixel,n.default=s},{"../../renderers/canvas/utils/canUseNewCanvasBlendModes":79,"../../utils":120}],104:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(t){s(this,e),this.vertices=new ArrayBuffer(t),this.float32View=new Float32Array(this.vertices),this.uint32View=new Uint32Array(this.vertices)}return e.prototype.destroy=function(){this.vertices=null,this.positions=null,this.uvs=null,this.colors=null},e}();n.default=o},{}],105:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function E(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function C(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var x=e("../../renderers/webgl/utils/ObjectRenderer"),w=s(x),y=e("../../renderers/webgl/WebGLRenderer"),p=s(y),j=e("../../utils/createIndicesForQuads"),h=s(j),m=e("./generateMultiTextureShader"),f=s(m),d=e("../../renderers/webgl/utils/checkMaxIfStatmentsInShader"),g=s(d),v=e("./BatchBuffer"),b=s(v),u=e("../../settings"),i=s(u),_=e("pixi-gl-core"),r=s(_),O=e("bit-twiddle"),a=s(O),o=0,l=0,c=function(e){function t(n){k(this,t);var r,c,s=E(this,e.call(this,n));s.vertSize=5,s.vertByteSize=4*s.vertSize,s.size=i.default.SPRITE_BATCH_SIZE,s.buffers=[];for(r=1;r<=a.default.nextPow2(s.size);r*=2)s.buffers.push(new b.default(4*r*s.vertByteSize));s.indices=(0,h.default)(s.size),s.shader=null,s.currentIndex=0,o=0,s.groups=[];for(c=0;c<s.size;c++)s.groups[c]={textures:[],textureCount:0,ids:[],size:0,start:0,blend:0};return s.sprites=[],s.vertexBuffers=[],s.vaos=[],s.vaoMax=2,s.vertexCount=0,s.renderer.on("prerender",s.onPrerender,s),s}return C(t,e),t.prototype.onContextChange=function(){var t,n,e=this.renderer.gl;this.MAX_TEXTURES=Math.min(e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS),i.default.SPRITE_MAX_TEXTURES),this.MAX_TEXTURES=(0,g.default)(this.MAX_TEXTURES,e),n=this.shader=(0,f.default)(e,this.MAX_TEXTURES),this.indexBuffer=r.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.renderer.bindVao(null);for(t=0;t<this.vaoMax;t++)this.vertexBuffers[t]=r.default.GLBuffer.createVertexBuffer(e,null,e.STREAM_DRAW),this.vaos[t]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[t],n.attributes.aVertexPosition,e.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[t],n.attributes.aTextureCoord,e.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[t],n.attributes.aColor,e.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[t],n.attributes.aTextureId,e.FLOAT,!1,this.vertByteSize,16);this.vao=this.vaos[0],this.currentBlendMode=99999,this.boundTextures=new Array(this.MAX_TEXTURES)},t.prototype.onPrerender=function(){this.vertexCount=0},t.prototype.render=function(e){this.currentIndex>=this.size&&this.flush(),e._texture._uvs&&(this.sprites[this.currentIndex++]=e)},t.prototype.flush=function(){if(0!==this.currentIndex){var t,s,m,_,x,E,h=this.renderer.gl,v=this.MAX_TEXTURES,T=a.default.nextPow2(this.currentIndex),F=a.default.log2(T),w=this.buffers[F],S=this.sprites,k=this.groups,n=w.float32View,f=w.uint32View,C=this.boundTextures,A=this.renderer.boundTextures,D=this.renderer.textureGC.count,e=0,u=void 0,p=void 0,M=1,y=0,d=k[0],c=void 0,j=void 0,O=S[0].blendMode;d.textureCount=0,d.start=0,d.blend=O,o++,t=void 0;for(t=0;t<v;++t)C[t]=A[t],C[t]._virtalBoundId=t;for(t=0;t<this.currentIndex;++t){if(m=S[t],u=m._texture.baseTexture,O!==m.blendMode&&(O=m.blendMode,p=null,y=v,o++),p!==u&&(p=u,u._enabled!==o)){if(y===v&&(o++,d.size=t-d.start,y=0,d=k[M++],d.blend=O,d.textureCount=0,d.start=t),u.touched=D,u._virtalBoundId===-1)for(_=0;_<v;++_)if(x=(_+l)%v,E=C[x],E._enabled!==o){l++,E._virtalBoundId=-1,u._virtalBoundId=x,C[x]=u;break}u._enabled=o,d.textureCount++,d.ids[y]=u._virtalBoundId,d.textures[y++]=u}c=m.vertexData,j=m._texture._uvs.uvsUint32,this.renderer.roundPixels?(s=this.renderer.resolution,n[e]=(c[0]*s|0)/s,n[e+1]=(c[1]*s|0)/s,n[e+5]=(c[2]*s|0)/s,n[e+6]=(c[3]*s|0)/s,n[e+10]=(c[4]*s|0)/s,n[e+11]=(c[5]*s|0)/s,n[e+15]=(c[6]*s|0)/s,n[e+16]=(c[7]*s|0)/s):(n[e]=c[0],n[e+1]=c[1],n[e+5]=c[2],n[e+6]=c[3],n[e+10]=c[4],n[e+11]=c[5],n[e+15]=c[6],n[e+16]=c[7]),f[e+2]=j[0],f[e+7]=j[1],f[e+12]=j[2],f[e+17]=j[3],f[e+3]=f[e+8]=f[e+13]=f[e+18]=m._tintRGB+(255*Math.min(m.worldAlpha,1)<<24),n[e+4]=n[e+9]=n[e+14]=n[e+19]=u._virtalBoundId,e+=20}for(d.size=t-d.start,i.default.CAN_UPLOAD_SAME_BUFFER?this.vertexBuffers[this.vertexCount].upload(w.vertices,0,!0):(this.vaoMax<=this.vertexCount&&(this.vaoMax++,this.vertexBuffers[this.vertexCount]=r.default.GLBuffer.createVertexBuffer(h,null,h.STREAM_DRAW),this.vaos[this.vertexCount]=this.renderer.createVao().addIndex(this.indexBuffer).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aVertexPosition,h.FLOAT,!1,this.vertByteSize,0).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureCoord,h.UNSIGNED_SHORT,!0,this.vertByteSize,8).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aColor,h.UNSIGNED_BYTE,!0,this.vertByteSize,12).addAttribute(this.vertexBuffers[this.vertexCount],this.shader.attributes.aTextureId,h.FLOAT,!1,this.vertByteSize,16)),this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].upload(w.vertices,0,!1),this.vertexCount++),t=0;t<v;++t)A[t]._virtalBoundId=-1;for(t=0;t<M;++t){for(var g=k[t],z=g.textureCount,b=0;b<z;b++)p=g.textures[b],A[g.ids[b]]!==p&&this.renderer.bindTexture(p,g.ids[b],!0),p._virtalBoundId=-1;this.renderer.state.setBlendMode(g.blend),h.drawElements(h.TRIANGLES,6*g.size,h.UNSIGNED_SHORT,6*g.start*2)}this.currentIndex=0}},t.prototype.start=function(){this.renderer.bindShader(this.shader),i.default.CAN_UPLOAD_SAME_BUFFER&&(this.renderer.bindVao(this.vaos[this.vertexCount]),this.vertexBuffers[this.vertexCount].bind())},t.prototype.stop=function(){this.flush()},t.prototype.destroy=function(){for(var n,t=0;t<this.vaoMax;t++)this.vertexBuffers[t]&&this.vertexBuffers[t].destroy(),this.vaos[t]&&this.vaos[t].destroy();this.indexBuffer&&this.indexBuffer.destroy(),this.renderer.off("prerender",this.onPrerender,this),e.prototype.destroy.call(this),this.shader&&(this.shader.destroy(),this.shader=null),this.vertexBuffers=null,this.vaos=null,this.indexBuffer=null,this.indices=null,this.sprites=null;for(n=0;n<this.buffers.length;++n)this.buffers[n].destroy()},t}(w.default);n.default=c,p.default.registerPlugin("sprite",c)},{"../../renderers/webgl/WebGLRenderer":83,"../../renderers/webgl/utils/ObjectRenderer":93,"../../renderers/webgl/utils/checkMaxIfStatmentsInShader":96,"../../settings":100,"../../utils/createIndicesForQuads":118,"./BatchBuffer":104,"./generateMultiTextureShader":106,"bit-twiddle":1,"pixi-gl-core":12}],106:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){a=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = vec4(aColor.rgb * aColor.a, aColor.a);
}
`,n=c,n=n.replace(/%count%/gi,t),n=n.replace(/%forloop%/gi,i(t));for(var n,a,o=new r.default(e,a,n),l=[],s=0;s<t;s++)l[s]=s;return o.bind(),o.uniforms.uSamplers=l,o}function i(e){var n,t="";t+=`
`,t+=`
`;for(n=0;n<e;n++)n>0&&(t+=`
else `),n<e-1&&(t+="if(textureId == "+n+".0)"),t+=`
{`,t+=`
	color = texture2D(uSamplers[`+n+"], vTextureCoord);",t+=`
}`;return t+=`
`,t+=`
`}n.__esModule=!0,n.default=o;var a=e("../../Shader"),r=s(a),c=(e("path"),["varying vec2 vTextureCoord;","varying vec4 vColor;","varying float vTextureId;","uniform sampler2D uSamplers[%count%];","void main(void){","vec4 color;","float textureId = floor(vTextureId+0.5);","%forloop%","gl_FragColor = color * vColor;","}"].join(`
`))},{"../../Shader":43,path:23}],107:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var h=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=e("../sprites/Sprite"),l=o(u),d=e("../textures/Texture"),c=o(d),r=e("../math"),a=e("../utils"),f=e("../const"),p=e("../settings"),g=o(p),v=e("./TextStyle"),i=o(v),j={texture:!0,children:!1,baseTexture:!0},s=function(e){function t(n,s,o){y(this,t),o=o||document.createElement("canvas"),o.width=3,o.height=3;var i,a=c.default.fromCanvas(o);return a.orig=new r.Rectangle,a.trim=new r.Rectangle,i=b(this,e.call(this,a)),i.canvas=o,i.context=i.canvas.getContext("2d"),i.resolution=g.default.RESOLUTION,i._text=null,i._style=null,i._styleListener=null,i._font="",i.text=n,i.style=s,i.localStyleID=-1,i}return m(t,e),t.prototype.updateText=function(e){if(n=this._style,this.localStyleID!==n.styleID&&(this.dirty=!0,this.localStyleID=n.styleID),this.dirty||!e){this._font=t.getFontStyle(n),this.context.font=this._font;for(var n,o,i,a,d,m,f,p,b=n.wordWrap?this.wordWrap(this._text):this._text,s=b.split(/(?:\r\n|\r|\n)/),u=new Array(s.length),r=0,h=t.calculateFontProperties(this._font),l=0;l<s.length;l++)m=this.context.measureText(s[l]).width+(s[l].length-1)*n.letterSpacing,u[l]=m,r=Math.max(r,m);if(f=r+n.strokeThickness,n.dropShadow&&(f+=n.dropShadowDistance),this.canvas.width=Math.ceil((f+2*n.padding)*this.resolution),d=n.lineHeight||h.fontSize+n.strokeThickness,p=Math.max(d,h.fontSize+n.strokeThickness)+(s.length-1)*d,n.dropShadow&&(p+=n.dropShadowDistance),this.canvas.height=Math.ceil((p+2*n.padding)*this.resolution),this.context.scale(this.resolution,this.resolution),this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.context.font=this._font,this.context.strokeStyle=n.stroke,this.context.lineWidth=n.strokeThickness,this.context.textBaseline=n.textBaseline,this.context.lineJoin=n.lineJoin,this.context.miterLimit=n.miterLimit,o=void 0,a=void 0,n.dropShadow){n.dropShadowBlur>0?(this.context.shadowColor=n.dropShadowColor,this.context.shadowBlur=n.dropShadowBlur):this.context.fillStyle=n.dropShadowColor;for(var g=Math.cos(n.dropShadowAngle)*n.dropShadowDistance,v=Math.sin(n.dropShadowAngle)*n.dropShadowDistance,c=0;c<s.length;c++)o=n.strokeThickness/2,a=n.strokeThickness/2+c*d+h.ascent,"right"===n.align?o+=r-u[c]:"center"===n.align&&(o+=(r-u[c])/2),n.fill&&(this.drawLetterSpacing(s[c],o+g+n.padding,a+v+n.padding),n.stroke&&n.strokeThickness&&(this.context.strokeStyle=n.dropShadowColor,this.drawLetterSpacing(s[c],o+g+n.padding,a+v+n.padding,!0),this.context.strokeStyle=n.stroke))}this.context.fillStyle=this._generateFillStyle(n,s);for(i=0;i<s.length;i++)o=n.strokeThickness/2,a=n.strokeThickness/2+i*d+h.ascent,"right"===n.align?o+=r-u[i]:"center"===n.align&&(o+=(r-u[i])/2),n.stroke&&n.strokeThickness&&this.drawLetterSpacing(s[i],o+n.padding,a+n.padding,!0),n.fill&&this.drawLetterSpacing(s[i],o+n.padding,a+n.padding);this.updateTexture()}},t.prototype.drawLetterSpacing=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],c=this._style,a=c.letterSpacing;if(0===a)return void(i?this.context.strokeText(e,t,n):this.context.fillText(e,t,n));for(var l=String.prototype.split.call(e,""),o=t,r=0,s="";r<e.length;)s=l[r++],i?this.context.strokeText(s,o,n):this.context.fillText(s,o,n),o+=this.context.measureText(s).width+a},t.prototype.updateTexture=function(){var e=this._texture,t=this._style;e.baseTexture.hasLoaded=!0,e.baseTexture.resolution=this.resolution,e.baseTexture.realWidth=this.canvas.width,e.baseTexture.realHeight=this.canvas.height,e.baseTexture.width=this.canvas.width/this.resolution,e.baseTexture.height=this.canvas.height/this.resolution,e.trim.width=e._frame.width=this.canvas.width/this.resolution,e.trim.height=e._frame.height=this.canvas.height/this.resolution,e.trim.x=-t.padding,e.trim.y=-t.padding,e.orig.width=e._frame.width-2*t.padding,e.orig.height=e._frame.height-2*t.padding,this._onTextureUpdate(),e.baseTexture.emit("update",e.baseTexture),this.dirty=!1},t.prototype.renderWebGL=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype.renderWebGL.call(this,t)},t.prototype._renderCanvas=function(t){this.resolution!==t.resolution&&(this.resolution=t.resolution,this.dirty=!0),this.updateText(!0),e.prototype._renderCanvas.call(this,t)},t.prototype.wordWrap=function(e){for(var s,i,l,d,h,t="",m=this._style,u=e.split(`
`),c=m.wordWrapWidth,r=0;r<u.length;r++){for(var o=c,a=u[r].split(" "),n=0;n<a.length;n++)if(l=this.context.measureText(a[n]).width,m.breakWords&&l>c)for(i=a[n].split(""),s=0;s<i.length;s++)d=this.context.measureText(i[s]).width,d>o?(t+=`
`+i[s],o=c-d):(0===s&&(t+=" "),t+=i[s],o-=d);else h=l+this.context.measureText(" ").width,0===n||h>o?(n>0&&(t+=`
`),t+=a[n],o=c-l):(o-=h,t+=" "+a[n]);r<u.length-1&&(t+=`
`)}return t},t.prototype._calculateBounds=function(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)},t.prototype._onStyleChange=function(){this.dirty=!0},t.prototype._generateFillStyle=function(e,t){if(!Array.isArray(e.fill))return e.fill;if(navigator.isCocoonJS)return e.fill[0];var a,r,d,s=void 0,o=void 0,n=void 0,i=void 0,c=this.canvas.width/this.resolution,l=this.canvas.height/this.resolution;if(e.fillGradientType===f.TEXT_GRADIENT.LINEAR_VERTICAL){s=this.context.createLinearGradient(c/2,0,c/2,l),o=(e.fill.length+1)*t.length,n=0;for(d=0;d<t.length;d++){n+=1;for(a=0;a<e.fill.length;a++)i=n/o,s.addColorStop(i,e.fill[a]),n++}}else{s=this.context.createLinearGradient(0,l/2,c,l/2),o=e.fill.length+1,n=1;for(r=0;r<e.fill.length;r++)i=n/o,s.addColorStop(i,e.fill[r]),n++}return s},t.prototype.destroy=function(t){"boolean"==typeof t&&(t={children:t}),t=Object.assign({},j,t),e.prototype.destroy.call(this,t),this.context=null,this.canvas=null,this._style=null},t.getFontStyle=function(e){e=e||{},e instanceof i.default||(e=new i.default(e));var n,s,o="number"==typeof e.fontSize?e.fontSize+"px":e.fontSize,t=e.fontFamily;Array.isArray(e.fontFamily)||(t=e.fontFamily.split(","));for(n=t.length-1;n>=0;n--)s=t[n].trim(),/(["'])[^'"]+\1/.test(s)||(s='"'+s+'"'),t[n]=s;return e.fontStyle+" "+e.fontVariant+" "+e.fontWeight+" "+o+" "+t.join(",")},t.calculateFontProperties=function(e){if(t.fontPropertiesCache[e])return t.fontPropertiesCache[e];var i={},f=t.fontPropertiesCanvas,n=t.fontPropertiesContext;n.font=e;var l=Math.ceil(n.measureText("|Mq").width),s=Math.ceil(n.measureText("M").width),d=2*s,s=1.4*s|0;f.width=l,f.height=d,n.fillStyle="#f00",n.fillRect(0,0,l,d),n.font=e,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText("|Mq",0,s);var u,h,m=n.getImageData(0,0,l,d).data,p=m.length,a=4*l,o=0,c=0,r=!1;for(o=0;o<s;++o){for(u=0;u<a;u+=4)if(255!==m[c+u]){r=!0;break}if(r)break;c+=a}for(i.ascent=s-o,c=p-a,r=!1,o=d;o>s;--o){for(h=0;h<a;h+=4)if(255!==m[c+h]){r=!0;break}if(r)break;c-=a}return i.descent=o-s,i.fontSize=i.ascent+i.descent,t.fontPropertiesCache[e]=i,i},h(t,[{key:"width",get:function(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width},set:function(e){this.updateText(!0);var t=(0,a.sign)(this.scale.x)||1;this.scale.x=t*e/this._texture.orig.width,this._width=e}},{key:"height",get:function(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height},set:function(e){this.updateText(!0);var t=(0,a.sign)(this.scale.y)||1;this.scale.y=t*e/this._texture.orig.height,this._height=e}},{key:"style",get:function(){return this._style},set:function(e){e=e||{},e instanceof i.default?this._style=e:this._style=new i.default(e),this.localStyleID=-1,this.dirty=!0}},{key:"text",get:function(){return this._text},set:function(e){e=String(e||" "),this._text!==e&&(this._text=e,this.dirty=!0)}}]),t}(l.default);n.default=s,s.fontPropertiesCache={},s.fontPropertiesCanvas=document.createElement("canvas"),s.fontPropertiesContext=s.fontPropertiesCanvas.getContext("2d")},{"../const":45,"../math":69,"../settings":100,"../sprites/Sprite":101,"../textures/Texture":112,"../utils":120,"./TextStyle":108}],108:[function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return"number"==typeof e?(0,l.hex2string)(e):("string"==typeof e&&0===e.indexOf("0x")&&(e=e.replace("0x","#")),e)}function s(e){if(Array.isArray(e)){for(var t=0;t<e.length;++t)e[t]=i(e[t]);return e}return i(e)}n.__esModule=!0;var r=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),c=e("../const"),l=e("../utils"),o={align:"left",breakWords:!1,dropShadow:!1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"#000000",dropShadowDistance:5,fill:"black",fillGradientType:c.TEXT_GRADIENT.LINEAR_VERTICAL,fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",wordWrap:!1,wordWrapWidth:100},d=function(){function e(t){a(this,e),this.styleID=0,Object.assign(this,o,t)}return e.prototype.clone=function(){var n,t={};for(n in o)t[n]=this[n];return new e(t)},e.prototype.reset=function(){Object.assign(this,o)},r(e,[{key:"align",get:function(){return this._align},set:function(e){this._align!==e&&(this._align=e,this.styleID++)}},{key:"breakWords",get:function(){return this._breakWords},set:function(e){this._breakWords!==e&&(this._breakWords=e,this.styleID++)}},{key:"dropShadow",get:function(){return this._dropShadow},set:function(e){this._dropShadow!==e&&(this._dropShadow=e,this.styleID++)}},{key:"dropShadowAngle",get:function(){return this._dropShadowAngle},set:function(e){this._dropShadowAngle!==e&&(this._dropShadowAngle=e,this.styleID++)}},{key:"dropShadowBlur",get:function(){return this._dropShadowBlur},set:function(e){this._dropShadowBlur!==e&&(this._dropShadowBlur=e,this.styleID++)}},{key:"dropShadowColor",get:function(){return this._dropShadowColor},set:function(e){var t=s(e);this._dropShadowColor!==t&&(this._dropShadowColor=t,this.styleID++)}},{key:"dropShadowDistance",get:function(){return this._dropShadowDistance},set:function(e){this._dropShadowDistance!==e&&(this._dropShadowDistance=e,this.styleID++)}},{key:"fill",get:function(){return this._fill},set:function(e){var t=s(e);this._fill!==t&&(this._fill=t,this.styleID++)}},{key:"fillGradientType",get:function(){return this._fillGradientType},set:function(e){this._fillGradientType!==e&&(this._fillGradientType=e,this.styleID++)}},{key:"fontFamily",get:function(){return this._fontFamily},set:function(e){this.fontFamily!==e&&(this._fontFamily=e,this.styleID++)}},{key:"fontSize",get:function(){return this._fontSize},set:function(e){this._fontSize!==e&&(this._fontSize=e,this.styleID++)}},{key:"fontStyle",get:function(){return this._fontStyle},set:function(e){this._fontStyle!==e&&(this._fontStyle=e,this.styleID++)}},{key:"fontVariant",get:function(){return this._fontVariant},set:function(e){this._fontVariant!==e&&(this._fontVariant=e,this.styleID++)}},{key:"fontWeight",get:function(){return this._fontWeight},set:function(e){this._fontWeight!==e&&(this._fontWeight=e,this.styleID++)}},{key:"letterSpacing",get:function(){return this._letterSpacing},set:function(e){this._letterSpacing!==e&&(this._letterSpacing=e,this.styleID++)}},{key:"lineHeight",get:function(){return this._lineHeight},set:function(e){this._lineHeight!==e&&(this._lineHeight=e,this.styleID++)}},{key:"lineJoin",get:function(){return this._lineJoin},set:function(e){this._lineJoin!==e&&(this._lineJoin=e,this.styleID++)}},{key:"miterLimit",get:function(){return this._miterLimit},set:function(e){this._miterLimit!==e&&(this._miterLimit=e,this.styleID++)}},{key:"padding",get:function(){return this._padding},set:function(e){this._padding!==e&&(this._padding=e,this.styleID++)}},{key:"stroke",get:function(){return this._stroke},set:function(e){var t=s(e);this._stroke!==t&&(this._stroke=t,this.styleID++)}},{key:"strokeThickness",get:function(){return this._strokeThickness},set:function(e){this._strokeThickness!==e&&(this._strokeThickness=e,this.styleID++)}},{key:"textBaseline",get:function(){return this._textBaseline},set:function(e){this._textBaseline!==e&&(this._textBaseline=e,this.styleID++)}},{key:"wordWrap",get:function(){return this._wordWrap},set:function(e){this._wordWrap!==e&&(this._wordWrap=e,this.styleID++)}},{key:"wordWrapWidth",get:function(){return this._wordWrapWidth},set:function(e){this._wordWrapWidth!==e&&(this._wordWrapWidth=e,this.styleID++)}}]),e}();n.default=d},{"../const":45,"../utils":120}],109:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=e("./BaseTexture"),l=s(c),d=e("../settings"),o=s(d),u=o.default.RESOLUTION,h=o.default.SCALE_MODE,m=function(e){function t(){var n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments[2],c=arguments[3];return i(this,t),n=a(this,e.call(this,null,s)),n.resolution=c||u,n.width=o,n.height=r,n.realWidth=n.width*n.resolution,n.realHeight=n.height*n.resolution,n.scaleMode=s||h,n.hasLoaded=!0,n._glRenderTargets={},n._canvasRenderTarget=null,n.valid=!1,n}return r(t,e),t.prototype.resize=function(e,t){e===this.width&&t===this.height||(this.valid=e>0&&t>0,this.width=e,this.height=t,this.realWidth=this.width*this.resolution,this.realHeight=this.height*this.resolution,this.valid&&this.emit("update",this))},t.prototype.destroy=function(){e.prototype.destroy.call(this,!0),this.renderer=null},t}(l.default);n.default=m},{"../settings":100,"./BaseTexture":110}],110:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s=e("../utils"),r=e("../settings"),i=a(r),u=e("eventemitter3"),h=a(u),m=e("../utils/determineCrossOrigin"),f=a(m),p=e("bit-twiddle"),o=a(p),v=function(e){function t(n,o,a){g(this,t);var r=d(this,e.call(this));return r.uid=(0,s.uid)(),r.touched=0,r.resolution=a||i.default.RESOLUTION,r.width=100,r.height=100,r.realWidth=100,r.realHeight=100,r.scaleMode=o||i.default.SCALE_MODE,r.hasLoaded=!1,r.isLoading=!1,r.source=null,r.origSource=null,r.imageType=null,r.sourceScale=1,r.premultipliedAlpha=!0,r.imageUrl=null,r.isPowerOfTwo=!1,r.mipmap=i.default.MIPMAP_TEXTURES,r.wrapMode=i.default.WRAP_MODE,r._glTextures={},r._enabled=0,r._virtalBoundId=-1,n&&r.loadSource(n),r}return l(t,e),t.prototype.update=function(){"svg"!==this.imageType&&(this.realWidth=this.source.naturalWidth||this.source.videoWidth||this.source.width,this.realHeight=this.source.naturalHeight||this.source.videoHeight||this.source.height,this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=o.default.isPow2(this.realWidth)&&o.default.isPow2(this.realHeight)),this.emit("update",this)},t.prototype.loadSource=function(e){var n,o,t=this,s=this.isLoading;if(this.hasLoaded=!1,this.isLoading=!1,s&&this.source&&(this.source.onload=null,this.source.onerror=null),o=!this.source,this.source=e,(e.src&&e.complete||e.getContext)&&e.width&&e.height)this._updateImageType(),"svg"===this.imageType?this._loadSvgSource():this._sourceLoaded(),o&&this.emit("loaded",this);else if(!e.getContext&&(n=function(){t.isLoading=!0;var n=t;if(e.onload=function(){if(n._updateImageType(),e.onload=null,e.onerror=null,n.isLoading)return n.isLoading=!1,n._sourceLoaded(),"svg"===n.imageType?void n._loadSvgSource():void n.emit("loaded",n)},e.onerror=function(){e.onload=null,e.onerror=null,n.isLoading&&(n.isLoading=!1,n.emit("error",n))},e.complete&&e.src){if(e.onload=null,e.onerror=null,"svg"===n.imageType)return n._loadSvgSource(),{v:void 0};t.isLoading=!1,e.width&&e.height?(t._sourceLoaded(),s&&t.emit("loaded",t)):s&&t.emit("error",t)}}(),"object"===("undefined"==typeof n?"undefined":c(n))))return n.v},t.prototype._updateImageType=function(){if(this.imageUrl){var n,t=(0,s.decomposeDataUri)(this.imageUrl),e=void 0;if(t&&"image"===t.mediaType){if(n=t.subType.split("+")[0],e=(0,s.getUrlFileExtension)("."+n),!e)throw new Error("Invalid image type in data URI.")}else e=(0,s.getUrlFileExtension)(this.imageUrl),e||(e="png");this.imageType=e}},t.prototype._loadSvgSource=function(){if("svg"===this.imageType){var e=(0,s.decomposeDataUri)(this.imageUrl);e?this._loadSvgSourceUsingDataUri(e):this._loadSvgSourceUsingXhr()}},t.prototype._loadSvgSourceUsingDataUri=function(e){var t=void 0;if("base64"===e.encoding){if(!atob)throw new Error("Your browser doesn't support base64 conversions.");t=atob(e.data)}else t=e.data;this._loadSvgSourceUsingString(t)},t.prototype._loadSvgSourceUsingXhr=function(){var t=this,e=new XMLHttpRequest;e.onload=function(){if(e.readyState!==e.DONE||200!==e.status)throw new Error("Failed to load SVG using XHR.");t._loadSvgSourceUsingString(e.response)},e.onerror=function(){return t.emit("error",t)},e.open("GET",this.imageUrl,!0),e.send()},t.prototype._loadSvgSourceUsingString=function(e){var t,a=(0,s.getSvgSize)(e),n=a.width,i=a.height;if(!n||!i)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");this.realWidth=Math.round(n*this.sourceScale),this.realHeight=Math.round(i*this.sourceScale),this.width=this.realWidth/this.resolution,this.height=this.realHeight/this.resolution,this.isPowerOfTwo=o.default.isPow2(this.realWidth)&&o.default.isPow2(this.realHeight),t=document.createElement("canvas"),t.width=this.realWidth,t.height=this.realHeight,t._pixiId="canvas_"+(0,s.uid)(),t.getContext("2d").drawImage(this.source,0,0,n,i,0,0,this.realWidth,this.realHeight),this.origSource=this.source,this.source=t,s.BaseTextureCache[t._pixiId]=this,this.isLoading=!1,this._sourceLoaded(),this.emit("loaded",this)},t.prototype._sourceLoaded=function(){this.hasLoaded=!0,this.update()},t.prototype.destroy=function(){this.imageUrl&&(delete s.BaseTextureCache[this.imageUrl],delete s.TextureCache[this.imageUrl],this.imageUrl=null,navigator.isCocoonJS||(this.source.src="")),this.source&&this.source._pixiId&&delete s.BaseTextureCache[this.source._pixiId],this.source=null,this.dispose()},t.prototype.dispose=function(){this.emit("dispose",this)},t.prototype.updateSourceImage=function(e){this.source.src=e,this.loadSource(this.source)},t.fromImage=function(e,n,o,i){var r,a=s.BaseTextureCache[e];return a||(r=new Image,void 0===n&&0!==e.indexOf("data:")&&(r.crossOrigin=(0,f.default)(e)),a=new t(r,o),a.imageUrl=e,i&&(a.sourceScale=i),a.resolution=(0,s.getResolutionOfUrl)(e),r.src=e,s.BaseTextureCache[e]=a),a},t.fromCanvas=function(e,n){e._pixiId||(e._pixiId="canvas_"+(0,s.uid)());var o=s.BaseTextureCache[e._pixiId];return o||(o=new t(e,n),s.BaseTextureCache[e._pixiId]=o),o},t}(h.default);n.default=v},{"../settings":100,"../utils":120,"../utils/determineCrossOrigin":119,"bit-twiddle":1,eventemitter3:3}],111:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=e("./BaseRenderTexture"),s=o(c),l=e("./Texture"),d=o(l),u=function(e){function t(n,o){if(i(this,t),c=null,!(n instanceof s.default)){var r,c,l=arguments[1],d=arguments[2],u=arguments[3]||0,h=arguments[4]||1;console.warn("Please use RenderTexture.create("+l+", "+d+") instead of the ctor directly."),c=arguments[0],o=null,n=new s.default(l,d,u,h)}return r=a(this,e.call(this,n,o)),r.legacyRenderer=c,r.valid=!0,r._updateUvs(),r}return r(t,e),t.prototype.resize=function(e,t,n){this.valid=e>0&&t>0,this._frame.width=this.orig.width=e,this._frame.height=this.orig.height=t,n||this.baseTexture.resize(e,t),this._updateUvs()},t.create=function(e,n,o,i){return new t(new s.default(e,n,o,i))},t}(d.default);n.default=u},{"./BaseRenderTexture":109,"./Texture":112}],112:[function(e,t,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function b(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function v(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=e("./BaseTexture"),i=a(u),d=e("./VideoBaseTexture"),c=a(d),h=e("./TextureUvs"),m=a(h),f=e("eventemitter3"),p=a(f),r=e("../math"),s=e("../utils"),o=function(e){function t(n,s,o,i,a){b(this,t);var c=v(this,e.call(this));if(c.noFrame=!1,s||(c.noFrame=!0,s=new r.Rectangle(0,0,1,1)),n instanceof t&&(n=n.baseTexture),c.baseTexture=n,c._frame=s,c.trim=i,c.valid=!1,c.requiresUpdate=!1,c._uvs=null,c.orig=o||s,c._rotate=Number(a||0),a===!0)c._rotate=2;else if(c._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");return n.hasLoaded?(c.noFrame&&(s=new r.Rectangle(0,0,n.width,n.height),n.on("update",c.onBaseTextureUpdated,c)),c.frame=s):n.once("loaded",c.onBaseTextureLoaded,c),c._updateID=0,c.transform=null,c}return g(t,e),t.prototype.update=function(){this.baseTexture.update()},t.prototype.onBaseTextureLoaded=function(e){this._updateID++,this.noFrame?this.frame=new r.Rectangle(0,0,e.width,e.height):this.frame=this._frame,this.baseTexture.on("update",this.onBaseTextureUpdated,this),this.emit("update",this)},t.prototype.onBaseTextureUpdated=function(e){this._updateID++,this._frame.width=e.width,this._frame.height=e.height,this.emit("update",this)},t.prototype.destroy=function(e){this.baseTexture&&(e&&(s.TextureCache[this.baseTexture.imageUrl]&&delete s.TextureCache[this.baseTexture.imageUrl],this.baseTexture.destroy()),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture.off("loaded",this.onBaseTextureLoaded,this),this.baseTexture=null),this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,this.off("dispose",this.dispose,this),this.off("update",this.update,this)},t.prototype.clone=function(){return new t(this.baseTexture,this.frame,this.orig,this.trim,this.rotate)},t.prototype._updateUvs=function(){this._uvs||(this._uvs=new m.default),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++},t.fromImage=function(e,n,o,a){var r=s.TextureCache[e];return r||(r=new t(i.default.fromImage(e,n,o,a)),s.TextureCache[e]=r),r},t.fromFrame=function(e){var t=s.TextureCache[e];if(!t)throw new Error('The frameId "'+e+'" does not exist in the texture cache');return t},t.fromCanvas=function(e,n){return new t(i.default.fromCanvas(e,n))},t.fromVideo=function(e,n){return"string"==typeof e?t.fromVideoUrl(e,n):new t(c.default.fromVideo(e,n))},t.fromVideoUrl=function(e,n){return new t(c.default.fromUrl(e,n))},t.from=function(e){if("string"==typeof e){var o,n=s.TextureCache[e];return n||(o=null!==e.match(/\.(mp4|webm|ogg|h264|avi|mov)$/),o?t.fromVideoUrl(e):t.fromImage(e))}return e instanceof HTMLImageElement?new t(new i.default(e)):e instanceof HTMLCanvasElement?t.fromCanvas(e):e instanceof HTMLVideoElement?t.fromVideo(e):e instanceof i.default?new t(e):e},t.addTextureToCache=function(e,t){s.TextureCache[t]=e},t.removeTextureFromCache=function(e){var t=s.TextureCache[e];return delete s.TextureCache[e],delete s.BaseTextureCache[e],t},l(t,[{key:"frame",get:function(){return this._frame},set:function(e){if(this._frame=e,this.noFrame=!1,e.x+e.width>this.baseTexture.width||e.y+e.height>this.baseTexture.height)throw new Error("Texture Error: frame does not fit inside the base Texture dimensions "+this);this.valid=e&&e.width&&e.height&&this.baseTexture.hasLoaded,this.trim||this.rotate||(this.orig=e),this.valid&&this._updateUvs()}},{key:"rotate",get:function(){return this._rotate},set:function(e){this._rotate=e,this.valid&&this._updateUvs()}},{key:"width",get:function(){return this.orig.width}},{key:"height",get:function(){return this.orig.height}}]),t}(p.default);n.default=o,o.EMPTY=new o(new i.default),o.EMPTY.destroy=function(){},o.EMPTY.on=function(){},o.EMPTY.once=function(){},o.EMPTY.emit=function(){}},{"../math":69,"../utils":120,"./BaseTexture":110,"./TextureUvs":113,"./VideoBaseTexture":114,eventemitter3:3}],113:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("../math/GroupD8"),s=o(a),r=function(){function e(){i(this,e),this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsUint32=new Uint32Array(4)}return e.prototype.set=function(e,t,n){if(o=t.width,i=t.height,n){var o,i,a=e.width/2/o,r=e.height/2/i,c=e.x/o+a,l=e.y/i+r;n=s.default.add(n,s.default.NW),this.x0=c+a*s.default.uX(n),this.y0=l+r*s.default.uY(n),n=s.default.add(n,2),this.x1=c+a*s.default.uX(n),this.y1=l+r*s.default.uY(n),n=s.default.add(n,2),this.x2=c+a*s.default.uX(n),this.y2=l+r*s.default.uY(n),n=s.default.add(n,2),this.x3=c+a*s.default.uX(n),this.y3=l+r*s.default.uY(n)}else this.x0=e.x/o,this.y0=e.y/i,this.x1=(e.x+e.width)/o,this.y1=e.y/i,this.x2=(e.x+e.width)/o,this.y2=(e.y+e.height)/i,this.x3=e.x/o,this.y3=(e.y+e.height)/i;this.uvsUint32[0]=(65535*this.y0&65535)<<16|65535*this.x0&65535,this.uvsUint32[1]=(65535*this.y1&65535)<<16|65535*this.x1&65535,this.uvsUint32[2]=(65535*this.y2&65535)<<16|65535*this.x2&65535,this.uvsUint32[3]=(65535*this.y3&65535)<<16|65535*this.x3&65535},e}();n.default=r},{"../math/GroupD8":65}],114:[function(e,t,n){"use strict";function h(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function p(e){return e&&e.__esModule?e:{default:e}}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){t||(t="video/"+e.substr(e.lastIndexOf(".")+1));var n=document.createElement("source");return n.src=e,n.type=t,n}n.__esModule=!0;var l=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),d=e("./BaseTexture"),u=p(d),o=e("../utils"),m=e("../ticker"),s=h(m),i=function(e){function t(n,s){if(f(this,t),!n)throw new Error("No video source element specified.");(n.readyState===n.HAVE_ENOUGH_DATA||n.readyState===n.HAVE_FUTURE_DATA)&&n.width&&n.height&&(n.complete=!0);var o=r(this,e.call(this,n,s));return o.width=n.videoWidth,o.height=n.videoHeight,o._autoUpdate=!0,o._isAutoUpdating=!1,o.autoPlay=!0,o.update=o.update.bind(o),o._onCanPlay=o._onCanPlay.bind(o),n.addEventListener("play",o._onPlayStart.bind(o)),n.addEventListener("pause",o._onPlayStop.bind(o)),o.hasLoaded=!1,o.__loaded=!1,o._isSourceReady()?o._onCanPlay():(n.addEventListener("canplay",o._onCanPlay),n.addEventListener("canplaythrough",o._onCanPlay)),o}return c(t,e),t.prototype._isSourcePlaying=function(){var e=this.source;return e.currentTime>0&&e.paused===!1&&e.ended===!1&&e.readyState>2},t.prototype._isSourceReady=function(){return 3===this.source.readyState||4===this.source.readyState},t.prototype._onPlayStart=function(){this.hasLoaded||this._onCanPlay(),!this._isAutoUpdating&&this.autoUpdate&&(s.shared.add(this.update,this),this._isAutoUpdating=!0)},t.prototype._onPlayStop=function(){this._isAutoUpdating&&(s.shared.remove(this.update,this),this._isAutoUpdating=!1)},t.prototype._onCanPlay=function(){this.hasLoaded=!0,this.source&&(this.source.removeEventListener("canplay",this._onCanPlay),this.source.removeEventListener("canplaythrough",this._onCanPlay),this.width=this.source.videoWidth,this.height=this.source.videoHeight,this.__loaded||(this.__loaded=!0,this.emit("loaded",this)),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&this.source.play())},t.prototype.destroy=function(){this._isAutoUpdating&&s.shared.remove(this.update,this),this.source&&this.source._pixiId&&(delete o.BaseTextureCache[this.source._pixiId],delete this.source._pixiId),e.prototype.destroy.call(this)},t.fromVideo=function(e,n){e._pixiId||(e._pixiId="video_"+(0,o.uid)());var s=o.BaseTextureCache[e._pixiId];return s||(s=new t(e,n),o.BaseTextureCache[e._pixiId]=s),s},t.fromUrl=function(e,n){var o,s=document.createElement("video");if(s.setAttribute("webkit-playsinline",""),s.setAttribute("playsinline",""),Array.isArray(e))for(o=0;o<e.length;++o)s.appendChild(a(e[o].src||e[o],e[o].mime));else s.appendChild(a(e.src||e,e.mime));return s.load(),t.fromVideo(s,n)},l(t,[{key:"autoUpdate",get:function(){return this._autoUpdate},set:function(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isAutoUpdating?(s.shared.remove(this.update,this),this._isAutoUpdating=!1):this._autoUpdate&&!this._isAutoUpdating&&(s.shared.add(this.update,this),this._isAutoUpdating=!0))}}]),t}(u.default);n.default=i,i.fromUrls=i.fromUrl},{"../ticker":116,"../utils":120,"./BaseTexture":110}],115:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),c=e("../settings"),o=i(c),l=e("eventemitter3"),d=i(l),s="tick",u=function(){function e(){var t=this;a(this,e),this._emitter=new d.default,this._requestId=null,this._maxElapsedMS=100,this.autoStart=!1,this.deltaTime=1,this.elapsedMS=1/o.default.TARGET_FPMS,this.lastTime=0,this.speed=1,this.started=!1,this._tick=function(e){t._requestId=null,t.started&&(t.update(e),t.started&&null===t._requestId&&t._emitter.listeners(s,!0)&&(t._requestId=requestAnimationFrame(t._tick)))}}return e.prototype._requestIfNeeded=function(){null===this._requestId&&this._emitter.listeners(s,!0)&&(this.lastTime=performance.now(),this._requestId=requestAnimationFrame(this._tick))},e.prototype._cancelIfNeeded=function(){null!==this._requestId&&(cancelAnimationFrame(this._requestId),this._requestId=null)},e.prototype._startIfPossible=function(){this.started?this._requestIfNeeded():this.autoStart&&this.start()},e.prototype.add=function(e,t){return this._emitter.on(s,e,t),this._startIfPossible(),this},e.prototype.addOnce=function(e,t){return this._emitter.once(s,e,t),this._startIfPossible(),this},e.prototype.remove=function(e,t){return this._emitter.off(s,e,t),this._emitter.listeners(s,!0)||this._cancelIfNeeded(),this},e.prototype.start=function(){this.started||(this.started=!0,this._requestIfNeeded())},e.prototype.stop=function(){this.started&&(this.started=!1,this._cancelIfNeeded())},e.prototype.update=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:performance.now(),e=void 0;t>this.lastTime?(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),this.deltaTime=e*o.default.TARGET_FPMS*this.speed,this._emitter.emit(s,this.deltaTime)):this.deltaTime=this.elapsedMS=0,this.lastTime=t},r(e,[{key:"FPS",get:function(){return 1e3/this.elapsedMS}},{key:"minFPS",get:function(){return 1e3/this._maxElapsedMS},set:function(e){var t=Math.min(Math.max(0,e)/1e3,o.default.TARGET_FPMS);this._maxElapsedMS=1/t}}]),e}();n.default=u},{"../settings":100,eventemitter3:3}],116:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.Ticker=n.shared=void 0;var a=e("./Ticker"),s=i(a),o=new s.default;o.autoStart=!0,n.shared=o,n.Ticker=s.default},{"./Ticker":115}],117:[function(e,t,n){"use strict";function s(){var e=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform);return!e}n.__esModule=!0,n.default=s},{}],118:[function(e,t,n){"use strict";function s(e){for(var o=6*e,n=new Uint16Array(o),t=0,s=0;t<o;t+=6,s+=4)n[t+0]=s+0,n[t+1]=s+1,n[t+2]=s+2,n[t+3]=s+0,n[t+4]=s+2,n[t+5]=s+3;return n}n.__esModule=!0,n.default=s},{}],119:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){var n,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:window.location;return 0===e.indexOf("data:")?"":(t=t||window.location,s||(s=document.createElement("a")),s.href=e,e=r.default.parse(s.href),n=!e.port&&""===t.port||e.port===t.port,e.hostname===t.hostname&&n&&e.protocol===t.protocol?"":"anonymous")}n.__esModule=!0,n.default=i;var a=e("url"),r=o(a),s=void 0},{url:29}],120:[function(e,t,n){"use strict";function p(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e){return e&&e.__esModule?e:{default:e}}function A(){return++k}function b(e,t){return t=t||[],t[0]=(e>>16&255)/255,t[1]=(e>>8&255)/255,t[2]=(255&e)/255,t}function v(e){return e=e.toString(16),e="000000".substr(0,6-e.length)+e,"#"+e}function c(e){return(255*e[0]<<16)+(255*e[1]<<8)+255*e[2]}function l(e,t){var n=y.default.RETINA_PREFIX.exec(e);return n?parseFloat(n[1]):void 0!==t?t:1}function d(e){var t=s.DATA_URI.exec(e);if(t)return{mediaType:t[1]?t[1].toLowerCase():void 0,subType:t[2]?t[2].toLowerCase():void 0,encoding:t[3]?t[3].toLowerCase():void 0,data:t[4]}}function u(e){var t=s.URL_FILE_EXTENSION.exec(e);if(t)return t[1].toLowerCase()}function h(e){var t=s.SVG_SIZE.exec(e),n={};return t&&(n[t[1]]=Math.round(parseFloat(t[3])),n[t[5]]=Math.round(parseFloat(t[7]))),n}function m(){i=!0}function f(e){if(!i){if(navigator.userAgent.toLowerCase().indexOf("chrome")>-1){var t=[`
 %c %c %c Pixi.js `+s.VERSION+" -  "+e+`   %c  %c  http://www.pixijs.com/  %c %c %c%c 

`,"background: #ff66a5; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff66a5; background: #030307; padding:5px 0;","background: #ff66a5; padding:5px 0;","background: #ffc3dc; padding:5px 0;","background: #ff66a5; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;","color: #ff2424; background: #fff; padding:5px 0;"];window.console.log.apply(console,t)}else window.console&&window.console.log("Pixi.js "+s.VERSION+" - "+e+" - http://www.pixijs.com/");i=!0}}function a(){t={stencil:!0,failIfMajorPerformanceCaveat:!0};try{if(!window.WebGLRenderingContext)return!1;var t,n,s=document.createElement("canvas"),e=s.getContext("webgl",t)||s.getContext("experimental-webgl",t),o=!!e&&!!e.getContextAttributes().stencil;return e&&(n=e.getExtension("WEBGL_lose_context"),n&&n.loseContext()),e=null,o}catch{return!1}}function g(e){return 0===e?0:e<0?-1:1}function r(e,t,n){if(s=e.length,!(t>=s||0===n)){n=t+n>s?s-t:n;for(var s,i=s-n,o=t;o<i;++o)e[o]=e[o+n];e.length=i}}n.__esModule=!0,n.BaseTextureCache=n.TextureCache=n.pluginTarget=n.EventEmitter=n.isMobile=void 0,n.uid=A,n.hex2rgb=b,n.hex2string=v,n.rgb2hex=c,n.getResolutionOfUrl=l,n.decomposeDataUri=d,n.getUrlFileExtension=u,n.getSvgSize=h,n.skipHello=m,n.sayHello=f,n.isWebGLSupported=a,n.sign=g,n.removeItems=r;var s=e("../const"),j=e("../settings"),y=o(j),_=e("eventemitter3"),w=o(_),O=e("./pluginTarget"),x=o(O),C=e("ismobilejs"),E=p(C),k=0,i=!1;n.isMobile=E,n.EventEmitter=w.default,n.pluginTarget=x.default,n.TextureCache={},n.BaseTextureCache={}},{"../const":45,"../settings":100,"./pluginTarget":122,eventemitter3:3,ismobilejs:4}],121:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){return s.default.tablet||s.default.phone?4:e}n.__esModule=!0,n.default=i;var a=e("ismobilejs"),s=o(a)},{ismobilejs:4}],122:[function(e,t,n){"use strict";function s(e){e.__plugins={},e.registerPlugin=function(t,n){e.__plugins[t]=n},e.prototype.initPlugins=function(){this.plugins=this.plugins||{};for(var t in e.__plugins)this.plugins[t]=new e.__plugins[t](this)},e.prototype.destroyPlugins=function(){for(var e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null;this.plugins=null}}n.__esModule=!0,n.default={mixin:function(e){s(e)}}},{}],123:[function(e){"use strict";function i(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function s(){}var c,w=e("./core"),o=i(w),_=e("./mesh"),d=i(_),j=e("./particles"),f=i(j),m=e("./extras"),r=i(m),p=e("./filters"),g=i(p),v=e("./prepare"),u=i(v),b=e("./loaders"),a=i(b);o.SpriteBatch=function(){throw new ReferenceError("SpriteBatch does not exist any more, please use the new ParticleContainer instead.")},o.AssetLoader=function(){throw new ReferenceError("The loader system was overhauled in pixi v3, please see the new PIXI.loaders.Loader class.")},Object.defineProperties(o,{Stage:{enumerable:!0,get:function(){return s("You do not need to use a PIXI Stage any more, you can simply render any container."),o.Container}},DisplayObjectContainer:{enumerable:!0,get:function(){return s("DisplayObjectContainer has been shortened to Container, please use Container from now on."),o.Container}},Strip:{enumerable:!0,get:function(){return s("The Strip class has been renamed to Mesh and moved to mesh.Mesh, please use mesh.Mesh from now on."),d.Mesh}},Rope:{enumerable:!0,get:function(){return s("The Rope class has been moved to mesh.Rope, please use mesh.Rope from now on."),d.Rope}},ParticleContainer:{enumerable:!0,get:function(){return s("The ParticleContainer class has been moved to particles.ParticleContainer, please use particles.ParticleContainer from now on."),f.ParticleContainer}},MovieClip:{enumerable:!0,get:function(){return s("The MovieClip class has been moved to extras.AnimatedSprite, please use extras.AnimatedSprite."),r.AnimatedSprite}},TilingSprite:{enumerable:!0,get:function(){return s("The TilingSprite class has been moved to extras.TilingSprite, please use extras.TilingSprite from now on."),r.TilingSprite}},BitmapText:{enumerable:!0,get:function(){return s("The BitmapText class has been moved to extras.BitmapText, please use extras.BitmapText from now on."),r.BitmapText}},blendModes:{enumerable:!0,get:function(){return s("The blendModes has been moved to BLEND_MODES, please use BLEND_MODES from now on."),o.BLEND_MODES}},scaleModes:{enumerable:!0,get:function(){return s("The scaleModes has been moved to SCALE_MODES, please use SCALE_MODES from now on."),o.SCALE_MODES}},BaseTextureCache:{enumerable:!0,get:function(){return s("The BaseTextureCache class has been moved to utils.BaseTextureCache, please use utils.BaseTextureCache from now on."),o.utils.BaseTextureCache}},TextureCache:{enumerable:!0,get:function(){return s("The TextureCache class has been moved to utils.TextureCache, please use utils.TextureCache from now on."),o.utils.TextureCache}},math:{enumerable:!0,get:function(){return s("The math namespace is deprecated, please access members already accessible on PIXI."),o}},AbstractFilter:{enumerable:!0,get:function(){return s("AstractFilter has been renamed to Filter, please use PIXI.Filter"),o.Filter}},TransformManual:{enumerable:!0,get:function(){return s("TransformManual has been renamed to TransformBase, please update your pixi-spine"),o.TransformBase}},TARGET_FPMS:{enumerable:!0,get:function(){return s("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),o.settings.TARGET_FPMS},set:function(e){s("PIXI.TARGET_FPMS has been deprecated, please use PIXI.settings.TARGET_FPMS"),o.settings.TARGET_FPMS=e}},FILTER_RESOLUTION:{enumerable:!0,get:function(){return s("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),o.settings.FILTER_RESOLUTION},set:function(e){s("PIXI.FILTER_RESOLUTION has been deprecated, please use PIXI.settings.FILTER_RESOLUTION"),o.settings.FILTER_RESOLUTION=e}},RESOLUTION:{enumerable:!0,get:function(){return s("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),o.settings.RESOLUTION},set:function(e){s("PIXI.RESOLUTION has been deprecated, please use PIXI.settings.RESOLUTION"),o.settings.RESOLUTION=e}},MIPMAP_TEXTURES:{enumerable:!0,get:function(){return s("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),o.settings.MIPMAP_TEXTURES},set:function(e){s("PIXI.MIPMAP_TEXTURES has been deprecated, please use PIXI.settings.MIPMAP_TEXTURES"),o.settings.MIPMAP_TEXTURES=e}},SPRITE_BATCH_SIZE:{enumerable:!0,get:function(){return s("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),o.settings.SPRITE_BATCH_SIZE},set:function(e){s("PIXI.SPRITE_BATCH_SIZE has been deprecated, please use PIXI.settings.SPRITE_BATCH_SIZE"),o.settings.SPRITE_BATCH_SIZE=e}},SPRITE_MAX_TEXTURES:{enumerable:!0,get:function(){return s("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),o.settings.SPRITE_MAX_TEXTURES},set:function(e){s("PIXI.SPRITE_MAX_TEXTURES has been deprecated, please use PIXI.settings.SPRITE_MAX_TEXTURES"),o.settings.SPRITE_MAX_TEXTURES=e}},RETINA_PREFIX:{enumerable:!0,get:function(){return s("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),o.settings.RETINA_PREFIX},set:function(e){s("PIXI.RETINA_PREFIX has been deprecated, please use PIXI.settings.RETINA_PREFIX"),o.settings.RETINA_PREFIX=e}},DEFAULT_RENDER_OPTIONS:{enumerable:!0,get:function(){return s("PIXI.DEFAULT_RENDER_OPTIONS has been deprecated, please use PIXI.settings.DEFAULT_RENDER_OPTIONS"),o.settings.RENDER_OPTIONS}}});for(var h=[{parent:"TRANSFORM_MODE",target:"TRANSFORM_MODE"},{parent:"GC_MODES",target:"GC_MODE"},{parent:"WRAP_MODES",target:"WRAP_MODE"},{parent:"SCALE_MODES",target:"SCALE_MODE"},{parent:"PRECISION",target:"PRECISION"}],y=function(e){var t=h[e];Object.defineProperty(o[t.parent],"DEFAULT",{enumerable:!0,get:function(){return s("PIXI."+t.parent+".DEFAULT has been deprecated, please use PIXI.settings."+t.target),o.settings[t.target]},set:function(e){s("PIXI."+t.parent+".DEFAULT has been deprecated, please use PIXI.settings."+t.target),o.settings[t.target]=e}})},l=0;l<h.length;l++)y(l);Object.defineProperties(r,{MovieClip:{enumerable:!0,get:function(){return s("The MovieClip class has been renamed to AnimatedSprite, please use AnimatedSprite from now on."),r.AnimatedSprite}}}),o.DisplayObject.prototype.generateTexture=function(e,t,n){return s("generateTexture has moved to the renderer, please use renderer.generateTexture(displayObject)"),e.generateTexture(this,t,n)},o.Graphics.prototype.generateTexture=function(e,t){return s("graphics generate texture has moved to the renderer. Or to render a graphics to a texture using canvas please use generateCanvasTexture"),this.generateCanvasTexture(e,t)},o.RenderTexture.prototype.render=function(e,t,n,o){this.legacyRenderer.render(e,this,n,t,!o),s("RenderTexture.render is now deprecated, please use renderer.render(displayObject, renderTexture)")},o.RenderTexture.prototype.getImage=function(e){return s("RenderTexture.getImage is now deprecated, please use renderer.extract.image(target)"),this.legacyRenderer.extract.image(e)},o.RenderTexture.prototype.getBase64=function(e){return s("RenderTexture.getBase64 is now deprecated, please use renderer.extract.base64(target)"),this.legacyRenderer.extract.base64(e)},o.RenderTexture.prototype.getCanvas=function(e){return s("RenderTexture.getCanvas is now deprecated, please use renderer.extract.canvas(target)"),this.legacyRenderer.extract.canvas(e)},o.RenderTexture.prototype.getPixels=function(e){return s("RenderTexture.getPixels is now deprecated, please use renderer.extract.pixels(target)"),this.legacyRenderer.pixels(e)},o.Sprite.prototype.setTexture=function(e){this.texture=e,s("setTexture is now deprecated, please use the texture property, e.g : sprite.texture = texture;")},r.BitmapText.prototype.setText=function(e){this.text=e,s("setText is now deprecated, please use the text property, e.g : myBitmapText.text = 'my text';")},o.Text.prototype.setText=function(e){this.text=e,s("setText is now deprecated, please use the text property, e.g : myText.text = 'my text';")},o.Text.prototype.setStyle=function(e){this.style=e,s("setStyle is now deprecated, please use the style property, e.g : myText.style = style;")},o.Text.prototype.determineFontProperties=function(e){return s("determineFontProperties is now deprecated, please use the static calculateFontProperties method, e.g : Text.calculateFontProperties(fontStyle);"),Text.calculateFontProperties(e)},Object.defineProperties(o.TextStyle.prototype,{font:{get:function(){s("text style property 'font' is now deprecated, please use the 'fontFamily', 'fontSize', 'fontStyle', 'fontVariant' and 'fontWeight' properties from now on");var e="number"==typeof this._fontSize?this._fontSize+"px":this._fontSize;return this._fontStyle+" "+this._fontVariant+" "+this._fontWeight+" "+e+" "+this._fontFamily},set:function(e){s("text style property 'font' is now deprecated, please use the 'fontFamily','fontSize',fontStyle','fontVariant' and 'fontWeight' properties from now on"),e.indexOf("italic")>1?this._fontStyle="italic":e.indexOf("oblique")>-1?this._fontStyle="oblique":this._fontStyle="normal",e.indexOf("small-caps")>-1?this._fontVariant="small-caps":this._fontVariant="normal";var n,i,a,t=e.split(" "),o=-1;this._fontSize=26;for(n=0;n<t.length;++n)if(t[n].match(/(px|pt|em|%)/)){o=n,this._fontSize=t[n];break}this._fontWeight="normal";for(i=0;i<o;++i)if(t[i].match(/(bold|bolder|lighter|100|200|300|400|500|600|700|800|900)/)){this._fontWeight=t[i];break}if(o>-1&&o<t.length-1){this._fontFamily="";for(a=o+1;a<t.length;++a)this._fontFamily+=t[a]+" ";this._fontFamily=this._fontFamily.slice(0,-1)}else this._fontFamily="Arial";this.styleID++}}}),o.Texture.prototype.setFrame=function(e){this.frame=e,s("setFrame is now deprecated, please use the frame property, e.g: myTexture.frame = frame;")},Object.defineProperties(g,{AbstractFilter:{get:function(){return s("AstractFilter has been renamed to Filter, please use PIXI.Filter"),o.AbstractFilter}},SpriteMaskFilter:{get:function(){return s("filters.SpriteMaskFilter is an undocumented alias, please use SpriteMaskFilter from now on."),o.SpriteMaskFilter}}}),o.utils.uuid=function(){return s("utils.uuid() is deprecated, please use utils.uid() from now on."),o.utils.uid()},o.utils.canUseNewCanvasBlendModes=function(){return s("utils.canUseNewCanvasBlendModes() is deprecated, please use CanvasTinter.canUseMultiply from now on"),o.CanvasTinter.canUseMultiply},c=!0,Object.defineProperty(o.utils,"_saidHello",{set:function(e){e&&(s("PIXI.utils._saidHello is deprecated, please use PIXI.utils.skipHello()"),this.skipHello()),c=e},get:function(){return c}}),Object.defineProperty(u.canvas,"UPLOADS_PER_FRAME",{set:function(){s("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return s("PIXI.CanvasPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),Object.defineProperty(u.webgl,"UPLOADS_PER_FRAME",{set:function(){s("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please set renderer.plugins.prepare.limiter.maxItemsPerFrame on your renderer")},get:function(){return s("PIXI.WebGLPrepare.UPLOADS_PER_FRAME has been removed. Please use renderer.plugins.prepare.limiter"),NaN}}),Object.defineProperties(a.Resource.prototype,{isJson:{get:function(){return s("The isJson property is deprecated, please use `resource.type === Resource.TYPE.JSON`."),this.type===a.Loader.Resource.TYPE.JSON}},isXml:{get:function(){return s("The isXml property is deprecated, please use `resource.type === Resource.TYPE.XML`."),this.type===a.Loader.Resource.TYPE.XML}},isImage:{get:function(){return s("The isImage property is deprecated, please use `resource.type === Resource.TYPE.IMAGE`."),this.type===a.Loader.Resource.TYPE.IMAGE}},isAudio:{get:function(){return s("The isAudio property is deprecated, please use `resource.type === Resource.TYPE.AUDIO`."),this.type===a.Loader.Resource.TYPE.AUDIO}},isVideo:{get:function(){return s("The isVideo property is deprecated, please use `resource.type === Resource.TYPE.VIDEO`."),this.type===a.Loader.Resource.TYPE.VIDEO}}}),Object.defineProperties(a.Loader.prototype,{before:{get:function(){return s("The before() method is deprecated, please use pre()."),this.pre}},after:{get:function(){return s("The after() method is deprecated, please use use()."),this.use}}})},{"./core":64,"./extras":134,"./filters":145,"./loaders":154,"./mesh":163,"./particles":166,"./prepare":176}],124:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var c=e("../../core"),s=a(c),o=new s.Rectangle,i=function(){function e(t){r(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function e(t){var e=new Image;return e.src=this.base64(t),e},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var r=this.renderer,a=void 0,n=void 0,t=void 0,i=void 0;e&&(i=e instanceof s.RenderTexture?e:r.generateTexture(e)),i?(a=i.baseTexture._canvasRenderTarget.context,n=i.baseTexture._canvasRenderTarget.resolution,t=i.frame):(a=r.rootContext,t=o,t.width=this.renderer.width,t.height=this.renderer.height);var c=t.width*n,l=t.height*n,d=new s.CanvasRenderTarget(c,l),u=a.getImageData(t.x*n,t.y*n,c,l);return d.context.putImageData(u,0,0),d.canvas},e.prototype.pixels=function(e){var i=this.renderer,a=void 0,r=void 0,t=void 0,n=void 0;return e&&(n=e instanceof s.RenderTexture?e:i.generateTexture(e)),n?(a=n.baseTexture._canvasRenderTarget.context,r=n.baseTexture._canvasRenderTarget.resolution,t=n.frame):(a=i.rootContext,t=o,t.width=i.width,t.height=i.height),a.getImageData(0,0,t.width*r,t.height*r).data},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();n.default=i,s.CanvasRenderer.registerPlugin("extract",i)},{"../../core":64}],125:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i=e("./webgl/WebGLExtract");Object.defineProperty(n,"webgl",{enumerable:!0,get:function(){return s(i).default}}),o=e("./canvas/CanvasExtract"),Object.defineProperty(n,"canvas",{enumerable:!0,get:function(){return s(o).default}})},{"./canvas/CanvasExtract":124,"./webgl/WebGLExtract":126}],126:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var l=e("../../core"),s=r(l),o=new s.Rectangle,i=4,a=function(){function e(t){c(this,e),this.renderer=t,t.extract=this}return e.prototype.image=function e(t){var e=new Image;return e.src=this.base64(t),e},e.prototype.base64=function(e){return this.canvas(e).toDataURL()},e.prototype.canvas=function(e){var u,m,f,p=this.renderer,t=void 0,a=void 0,n=void 0,h=!1,l=void 0;e&&(l=e instanceof s.RenderTexture?e:this.renderer.generateTexture(e)),l?(t=l.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=t.resolution,n=l.frame,h=!1):(t=this.renderer.rootRenderTarget,a=t.resolution,h=!0,n=o,n.width=t.size.width,n.height=t.size.height);var d=n.width*a,c=n.height*a,r=new s.CanvasRenderTarget(d,c);return t&&(p.bindRenderTarget(t),m=new Uint8Array(i*d*c),u=p.gl,u.readPixels(n.x*a,n.y*a,d,c,u.RGBA,u.UNSIGNED_BYTE,m),f=r.context.getImageData(0,0,d,c),f.data.set(m),r.context.putImageData(f,0,0),h&&(r.context.scale(1,-1),r.context.drawImage(r.canvas,0,-c))),r.canvas},e.prototype.pixels=function(e){var c,l=this.renderer,t=void 0,a=void 0,n=void 0,r=void 0;e&&(r=e instanceof s.RenderTexture?e:this.renderer.generateTexture(e)),r?(t=r.baseTexture._glRenderTargets[this.renderer.CONTEXT_UID],a=t.resolution,n=r.frame):(t=this.renderer.rootRenderTarget,a=t.resolution,n=o,n.width=t.size.width,n.height=t.size.height);var d=n.width*a,u=n.height*a,h=new Uint8Array(i*d*u);return t&&(l.bindRenderTarget(t),c=l.gl,c.readPixels(n.x*a,n.y*a,d,u,c.RGBA,c.UNSIGNED_BYTE,h)),h},e.prototype.destroy=function(){this.renderer.extract=null,this.renderer=null},e}();n.default=a,s.WebGLRenderer.registerPlugin("extract",a)},{"../../core":64}],127:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=e("../core"),s=o(l),d=function(e){function t(n,o){i(this,t);var r=a(this,e.call(this,n[0]instanceof s.Texture?n[0]:n[0].texture));return r._textures=null,r._durations=null,r.textures=n,r._autoUpdate=o!==!1,r.animationSpeed=1,r.loop=!0,r.onComplete=null,r.onFrameChange=null,r._currentTime=0,r.playing=!1,r}return r(t,e),t.prototype.stop=function(){this.playing&&(this.playing=!1,this._autoUpdate&&s.ticker.shared.remove(this.update,this))},t.prototype.play=function(){this.playing||(this.playing=!0,this._autoUpdate&&s.ticker.shared.add(this.update,this))},t.prototype.gotoAndStop=function(e){this.stop();var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture()},t.prototype.gotoAndPlay=function(e){var t=this.currentFrame;this._currentTime=e,t!==this.currentFrame&&this.updateTexture(),this.play()},t.prototype.update=function(e){var t,n,s=this.animationSpeed*e,o=this.currentFrame;if(null!==this._durations){t=this._currentTime%1*this._durations[this.currentFrame];for(t+=s/60*1e3;t<0;)this._currentTime--,t+=this._durations[this.currentFrame];n=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);t>=this._durations[this.currentFrame];)t-=this._durations[this.currentFrame]*n,this._currentTime+=n;this._currentTime+=t/this._durations[this.currentFrame]}else this._currentTime+=s;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):o!==this.currentFrame&&this.updateTexture()},t.prototype.updateTexture=function(){this._texture=this._textures[this.currentFrame],this._textureID=-1,this.onFrameChange&&this.onFrameChange(this.currentFrame)},t.prototype.destroy=function(){this.stop(),e.prototype.destroy.call(this)},t.fromFrames=function(e){for(var o=[],n=0;n<e.length;++n)o.push(s.Texture.fromFrame(e[n]));return new t(o)},t.fromImages=function(e){for(var o=[],n=0;n<e.length;++n)o.push(s.Texture.fromImage(e[n]));return new t(o)},c(t,[{key:"totalFrames",get:function(){return this._textures.length}},{key:"textures",get:function(){return this._textures},set:function(e){if(e[0]instanceof s.Texture)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(var t=0;t<e.length;t++)this._textures.push(e[t].texture),this._durations.push(e[t].time)}}},{key:"currentFrame",get:function(){var e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}}]),t}(s.Sprite);n.default=d},{"../core":64}],128:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var d=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),u=e("../core"),s=a(u),h=e("../core/math/ObservablePoint"),m=i(h),o=function(e){function t(n){var s,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return r(this,t),s=c(this,e.call(this)),s._textWidth=0,s._textHeight=0,s._glyphs=[],s._font={tint:void 0!==o.tint?o.tint:16777215,align:o.align||"left",name:null,size:0},s.font=o.font,s._text=n,s.maxWidth=0,s.maxLineHeight=0,s._anchor=new m.default(function(){s.dirty=!0},s,0,0),s.dirty=!1,s.updateText(),s}return l(t,e),t.prototype.updateText=function(){for(var e,n,m,p,v,j,y,_,f=t.fonts[this._font.name],l=this._font.size/f.size,o=new s.Point,r=[],g=[],u=null,d=0,i=0,b=0,h=-1,x=0,O=0,a=0;a<this.text.length;a++)j=this.text.charCodeAt(a),/(\s)/.test(this.text.charAt(a))&&(h=a,x=d),/(?:\r\n|\r|\n)/.test(this.text.charAt(a))?(g.push(d),i=Math.max(i,d),b++,o.x=0,o.y+=f.lineHeight,u=null):h!==-1&&this.maxWidth>0&&o.x*l>this.maxWidth?(s.utils.removeItems(r,h,a-h),a=h,h=-1,g.push(x),i=Math.max(i,x),b++,o.x=0,o.y+=f.lineHeight,u=null):(n=f.chars[j],n&&(u&&n.kerning[u]&&(o.x+=n.kerning[u]),r.push({texture:n.texture,line:b,charCode:j,position:new s.Point(o.x+n.xOffset,o.y+n.yOffset)}),d=o.x+(n.texture.width+n.xOffset),o.x+=n.xAdvance,O=Math.max(O,n.yOffset+n.texture.height),u=j));g.push(d),i=Math.max(i,d);for(_=[],p=0;p<=b;p++)y=0,"right"===this._font.align?y=i-g[p]:"center"===this._font.align&&(y=(i-g[p])/2),_.push(y);for(var w=r.length,C=this.tint,c=0;c<w;c++)e=this._glyphs[c],e?e.texture=r[c].texture:(e=new s.Sprite(r[c].texture),this._glyphs.push(e)),e.position.x=(r[c].position.x+_[r[c].line])*l,e.position.y=r[c].position.y*l,e.scale.x=e.scale.y=l,e.tint=C,e.parent||this.addChild(e);for(v=w;v<this._glyphs.length;++v)this.removeChild(this._glyphs[v]);if(this._textWidth=i*l,this._textHeight=(o.y+f.lineHeight)*l,0!==this.anchor.x||0!==this.anchor.y)for(m=0;m<w;m++)this._glyphs[m].x-=this._textWidth*this.anchor.x,this._glyphs[m].y-=this._textHeight*this.anchor.y;this.maxLineHeight=O*l},t.prototype.updateTransform=function(){this.validate(),this.containerUpdateTransform()},t.prototype.getLocalBounds=function(){return this.validate(),e.prototype.getLocalBounds.call(this)},t.prototype.validate=function(){this.dirty&&(this.updateText(),this.dirty=!1)},d(t,[{key:"tint",get:function(){return this._font.tint},set:function(e){this._font.tint="number"==typeof e&&e>=0?e:16777215,this.dirty=!0}},{key:"align",get:function(){return this._font.align},set:function(e){this._font.align=e||"left",this.dirty=!0}},{key:"anchor",get:function(){return this._anchor},set:function(e){"number"==typeof e?this._anchor.set(e):this._anchor.copy(e)}},{key:"font",get:function(){return this._font},set:function(e){e&&("string"==typeof e?(e=e.split(" "),this._font.name=1===e.length?e[0]:e.slice(1).join(" "),this._font.size=e.length>=2?parseInt(e[0],10):t.fonts[this._font.name].size):(this._font.name=e.name,this._font.size="number"==typeof e.size?e.size:parseInt(e.size,10)),this.dirty=!0)}},{key:"text",get:function(){return this._text},set:function(e){e=e.toString()||" ",this._text!==e&&(this._text=e,this.dirty=!0)}},{key:"textWidth",get:function(){return this.validate(),this._textWidth}},{key:"textHeight",get:function(){return this.validate(),this._textHeight}}]),t}(s.Container);n.default=o,o.fonts={}},{"../core":64,"../core/math/ObservablePoint":67}],129:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),c=e("../core/math/Matrix"),s=i(c),o=new s.default,l=function(){function e(t,n){a(this,e),this._texture=t,this.mapCoord=new s.default,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._lastTextureID=-1,this.clampOffset=0,this.clampMargin="undefined"==typeof n?.5:n}return e.prototype.update=function(e){if(t=this._texture,t&&t.valid&&(e||this._lastTextureID!==t._updateID)){this._lastTextureID=t._updateID,n=t._uvs,this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0),l=t.orig,s=t.trim,s&&(o.set(l.width/s.width,0,0,l.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(o));var t,n,s,l,i=t.baseTexture,r=this.uClampFrame,c=this.clampMargin/i.resolution,a=this.clampOffset;r[0]=(t._frame.x+c+a)/i.width,r[1]=(t._frame.y+c+a)/i.height,r[2]=(t._frame.x+t._frame.width-c+a)/i.width,r[3]=(t._frame.y+t._frame.height-c+a)/i.height,this.uClampOffset[0]=a/i.realWidth,this.uClampOffset[1]=a/i.realHeight}},r(e,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture=e,this._lastTextureID=-1}}]),e}();n.default=l},{"../core/math/Matrix":66}],130:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),a=e("../core"),s=p(a),u=e("../core/sprites/canvas/CanvasTinter"),h=i(u),m=e("./TextureTransform"),f=i(m),o=new s.Point,g=function(e){function t(n){var o,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100;return d(this,t),o=l(this,e.call(this,n)),o.tileTransform=new s.TransformStatic,o._width=i,o._height=a,o._canvasPattern=null,o.uvTransform=n.transform||new f.default(n),o.pluginName="tilingSprite",o.uvRespectAnchor=!1,o}return r(t,e),t.prototype._onTextureUpdate=function(){this.uvTransform&&(this.uvTransform.texture=this._texture)},t.prototype._renderWebGL=function(e){var t=this._texture;t&&t.valid&&(this.tileTransform.updateLocalTransform(),this.uvTransform.update(),e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))},t.prototype._renderCanvas=function(e){if(t=this._texture,t.baseTexture.hasLoaded){var t,r,n=e.context,o=this.worldTransform,i=e.resolution,d=t.baseTexture,a=t.baseTexture.resolution,c=this.tilePosition.x/this.tileScale.x%t._frame.width,l=this.tilePosition.y/this.tileScale.y%t._frame.height;this._canvasPattern||(r=new s.CanvasRenderTarget(t._frame.width,t._frame.height,a),16777215!==this.tint?(this.cachedTint!==this.tint&&(this.cachedTint=this.tint,this.tintedTexture=h.default.getTintedTexture(this,this.tint)),r.context.drawImage(this.tintedTexture,0,0)):r.context.drawImage(d.source,-t._frame.x,-t._frame.y),this._canvasPattern=r.context.createPattern(r.canvas,"repeat")),n.globalAlpha=this.worldAlpha,n.setTransform(o.a*i,o.b*i,o.c*i,o.d*i,o.tx*i,o.ty*i),n.scale(this.tileScale.x/a,this.tileScale.y/a),n.translate(c+this.anchor.x*-this._width,l+this.anchor.y*-this._height),e.setBlendMode(this.blendMode),n.fillStyle=this._canvasPattern,n.fillRect(-c,-l,this._width/this.tileScale.x*a,this._height/this.tileScale.y*a)}},t.prototype._calculateBounds=function(){var e=this._width*-this._anchor._x,t=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),s=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,t,n,s)},t.prototype.getLocalBounds=function(t){return 0===this.children.length?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._x),t||(this._localBoundsRect||(this._localBoundsRect=new s.Rectangle),t=this._localBoundsRect),this._bounds.getRectangle(t)):e.prototype.getLocalBounds.call(this,t)},t.prototype.containsPoint=function(e){this.worldTransform.applyInverse(e,o);var t,n=this._width,s=this._height,i=-n*this.anchor._x;return!!(o.x>i&&o.x<i+n&&(t=-s*this.anchor._y,o.y>t&&o.y<t+s))},t.prototype.destroy=function(){e.prototype.destroy.call(this),this.tileTransform=null,this.uvTransform=null},t.from=function(e,n,o){return new t(s.Texture.from(e),n,o)},t.fromFrame=function(e,n,o){var i=s.utils.TextureCache[e];if(!i)throw new Error('The frameId "'+e+'" does not exist in the texture cache '+this);return new t(i,n,o)},t.fromImage=function(e,n,o,i,a){return new t(s.Texture.fromImage(e,i,a),n,o)},c(t,[{key:"clampMargin",get:function(){return this.uvTransform.clampMargin},set:function(e){this.uvTransform.clampMargin=e,this.uvTransform.update(!0)}},{key:"tileScale",get:function(){return this.tileTransform.scale},set:function(e){this.tileTransform.scale.copy(e)}},{key:"tilePosition",get:function(){return this.tileTransform.position},set:function(e){this.tileTransform.position.copy(e)}},{key:"width",get:function(){return this._width},set:function(e){this._width=e}},{key:"height",get:function(){return this._height},set:function(e){this._height=e}}]),t}(s.Sprite);n.default=g},{"../core":64,"../core/sprites/canvas/CanvasTinter":103,"./TextureTransform":129}],131:[function(e){"use strict";function r(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var a,l=e("../core"),o=r(l),s=o.DisplayObject,i=new o.Matrix;s.prototype._cacheAsBitmap=!1,s.prototype._cacheData=!1,a=function e(){c(this,e),this.originalRenderWebGL=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalHitTest=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.sprite=null},Object.defineProperties(s.prototype,{cacheAsBitmap:{get:function(){return this._cacheAsBitmap},set:function(e){if(this._cacheAsBitmap!==e){this._cacheAsBitmap=e;var t=void 0;e?(this._cacheData||(this._cacheData=new a),t=this._cacheData,t.originalRenderWebGL=this.renderWebGL,t.originalRenderCanvas=this.renderCanvas,t.originalUpdateTransform=this.updateTransform,t.originalCalculateBounds=this._calculateBounds,t.originalGetLocalBounds=this.getLocalBounds,t.originalDestroy=this.destroy,t.originalContainsPoint=this.containsPoint,t.originalMask=this._mask,t.originalFilterArea=this.filterArea,this.renderWebGL=this._renderCachedWebGL,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(t=this._cacheData,t.sprite&&this._destroyCachedDisplayObject(),this.renderWebGL=t.originalRenderWebGL,this.renderCanvas=t.originalRenderCanvas,this._calculateBounds=t.originalCalculateBounds,this.getLocalBounds=t.originalGetLocalBounds,this.destroy=t.originalDestroy,this.updateTransform=t.originalUpdateTransform,this.containsPoint=t.originalContainsPoint,this._mask=t.originalMask,this.filterArea=t.originalFilterArea)}}}}),s.prototype._renderCachedWebGL=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(e),this._cacheData.sprite._transformID=-1,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderWebGL(e))},s.prototype._initCachedDisplayObject=function(e){if(!this._cacheData||!this._cacheData.sprite){a=this.alpha,this.alpha=1,e.currentRenderer.flush(),t=this.getLocalBounds().clone(),this._filters&&(r=this._filters[0].padding,t.pad(r));var t,n,a,r,l=e._activeRenderTarget,d=e.filterManager.filterStack,c=o.RenderTexture.create(0|t.width,0|t.height),s=i;s.tx=-t.x,s.ty=-t.y,this.transform.worldTransform.identity(),this.renderWebGL=this._cacheData.originalRenderWebGL,e.render(this,c,!0,s,!0),e.bindRenderTarget(l),e.filterManager.filterStack=d,this.renderWebGL=this._renderCachedWebGL,this.updateTransform=this.displayObjectUpdateTransform,this._mask=null,this.filterArea=null,n=new o.Sprite(c),n.transform.worldTransform=this.transform.worldTransform,n.anchor.x=-(t.x/t.width),n.anchor.y=-(t.y/t.height),n.alpha=a,n._bounds=this._bounds,this._calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._cacheData.sprite=n,this.transform._parentID=-1,this.updateTransform(),this.containsPoint=n.containsPoint.bind(n)}},s.prototype._renderCachedCanvas=function(e){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(e),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite.renderCanvas(e))},s.prototype._initCachedDisplayObjectCanvas=function(e){if(!this._cacheData||!this._cacheData.sprite){t=this.getLocalBounds(),a=this.alpha,this.alpha=1;var t,n,a,c=e.context,r=o.RenderTexture.create(0|t.width,0|t.height),s=i;this.transform.localTransform.copy(s),s.invert(),s.tx-=t.x,s.ty-=t.y,this.renderCanvas=this._cacheData.originalRenderCanvas,e.render(this,r,!0,s,!1),e.context=c,this.renderCanvas=this._renderCachedCanvas,this._calculateBounds=this._calculateCachedBounds,this._mask=null,this.filterArea=null,n=new o.Sprite(r),n.transform.worldTransform=this.transform.worldTransform,n.anchor.x=-(t.x/t.width),n.anchor.y=-(t.y/t.height),n._bounds=this._bounds,n.alpha=a,this.updateTransform(),this.updateTransform=this.displayObjectUpdateTransform,this._cacheData.sprite=n,this.containsPoint=n.containsPoint.bind(n)}},s.prototype._calculateCachedBounds=function(){this._cacheData.sprite._calculateBounds()},s.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds()},s.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null},s.prototype._cacheAsBitmapDestroy=function(){this.cacheAsBitmap=!1,this.destroy()}},{"../core":64}],132:[function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i=e("../core"),s=o(i);s.DisplayObject.prototype.name=null,s.Container.prototype.getChildByName=function(e){for(var t=0;t<this.children.length;t++)if(this.children[t].name===e)return this.children[t];return null}},{"../core":64}],133:[function(e){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}var i=e("../core"),s=o(i);s.DisplayObject.prototype.getGlobalPosition=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:new s.Point,t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return this.parent?this.parent.toGlobal(this.position,e,t):(e.x=this.position.x,e.y=this.position.y),e}},{"../core":64}],134:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.BitmapText=n.TilingSpriteRenderer=n.TilingSprite=n.AnimatedSprite=n.TextureTransform=void 0;var o,i,a,r,c=e("./TextureTransform");Object.defineProperty(n,"TextureTransform",{enumerable:!0,get:function(){return s(c).default}}),o=e("./AnimatedSprite"),Object.defineProperty(n,"AnimatedSprite",{enumerable:!0,get:function(){return s(o).default}}),i=e("./TilingSprite"),Object.defineProperty(n,"TilingSprite",{enumerable:!0,get:function(){return s(i).default}}),a=e("./webgl/TilingSpriteRenderer"),Object.defineProperty(n,"TilingSpriteRenderer",{enumerable:!0,get:function(){return s(a).default}}),r=e("./BitmapText"),Object.defineProperty(n,"BitmapText",{enumerable:!0,get:function(){return s(r).default}}),e("./cacheAsBitmap"),e("./getChildByName"),e("./getGlobalPosition")},{"./AnimatedSprite":127,"./BitmapText":128,"./TextureTransform":129,"./TilingSprite":130,"./cacheAsBitmap":131,"./getChildByName":132,"./getGlobalPosition":133,"./webgl/TilingSpriteRenderer":135}],135:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e("../../core"),s=r(u),i=e("../../core/const"),o=(e("path"),new s.Matrix),h=new Float32Array(4),a=function(e){function t(n){c(this,t);var s=l(this,e.call(this,n));return s.shader=null,s.simpleShader=null,s.quad=null,s}return d(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new s.Shader(e,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = mod(vTextureCoord - uClampOffset, vec2(1.0, 1.0)) + uClampOffset;
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 sample = texture2D(uSampler, coord);
    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);

    gl_FragColor = sample * color ;
}
`),this.simpleShader=new s.Shader(e,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 sample = texture2D(uSampler, vTextureCoord);
    vec4 color = vec4(uColor.rgb * uColor.a, uColor.a);
    gl_FragColor = sample * color;
}
`),this.renderer.bindVao(null),this.quad=new s.Quad(e,this.renderer.state.attribState),this.quad.initVao(this.shader)},t.prototype.render=function(e){d=this.renderer,r=this.quad,d.bindVao(r.vao),t=r.vertices,t[0]=t[6]=e._width*-e.anchor.x,t[1]=t[3]=e._height*-e.anchor.y,t[2]=t[4]=e._width*(1-e.anchor.x),t[5]=t[7]=e._height*(1-e.anchor.y),e.uvRespectAnchor&&(t=r.uvs,t[0]=t[6]=-e.anchor.x,t[1]=t[3]=-e.anchor.y,t[2]=t[4]=1-e.anchor.x,t[5]=t[7]=1-e.anchor.y),r.upload();var t,n,r,d,f,c=e._texture,a=c.baseTexture,l=e.tileTransform.localTransform,u=e.uvTransform,m=a.isPowerOfTwo&&c.frame.width===a.width&&c.frame.height===a.height;m&&(a._glTextures[d.CONTEXT_UID]?m=a.wrapMode!==i.WRAP_MODES.CLAMP:a.wrapMode===i.WRAP_MODES.CLAMP&&(a.wrapMode=i.WRAP_MODES.REPEAT)),n=m?this.simpleShader:this.shader,d.bindShader(n);var v=c.width,b=c.height,p=e._width,g=e._height;o.set(l.a*v/p,l.b*v/g,l.c*b/p,l.d*b/g,l.tx/p,l.ty/g),o.invert(),m?o.append(u.mapCoord):(n.uniforms.uMapCoord=u.mapCoord.toArray(!0),n.uniforms.uClampFrame=u.uClampFrame,n.uniforms.uClampOffset=u.uClampOffset),n.uniforms.uTransform=o.toArray(!0),f=h,s.utils.hex2rgb(e.tint,f),f[3]=e.worldAlpha,n.uniforms.uColor=f,n.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),n.uniforms.uSampler=d.bindTexture(c),d.setBlendMode(e.blendMode),r.vao.draw(this.renderer.gl.TRIANGLES,6,0)},t}(s.ObjectRenderer);n.default=a,s.WebGLRenderer.registerPlugin("tilingSprite",a)},{"../../core":64,"../../core/const":45,path:23}],136:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=e("../../core"),d=o(l),u=e("./BlurXFilter"),h=s(u),m=e("./BlurYFilter"),f=s(m),p=function(e){function t(n,s,o,r){i(this,t);var c=a(this,e.call(this));return c.blurXFilter=new h.default(n,s,o,r),c.blurYFilter=new f.default(n,s,o,r),c.resolution=1,c.padding=0,c.resolution=o||1,c.quality=s||4,c.blur=n||8,c}return r(t,e),t.prototype.apply=function(e,t,n){var s=e.getRenderTarget(!0);this.blurXFilter.apply(e,t,s,!0),this.blurYFilter.apply(e,s,n,!1),e.returnRenderTarget(s)},c(t,[{key:"blur",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"quality",get:function(){return this.blurXFilter.quality},set:function(e){this.blurXFilter.quality=this.blurYFilter.quality=e}},{key:"blurX",get:function(){return this.blurXFilter.blur},set:function(e){this.blurXFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}},{key:"blurY",get:function(){return this.blurYFilter.blur},set:function(e){this.blurYFilter.blur=e,this.padding=2*Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))}}]),t}(d.Filter);n.default=p},{"../../core":64,"./BlurXFilter":137,"./BlurYFilter":138}],137:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=e("../../core"),d=f(l),u=e("./generateBlurVertSource"),i=s(u),m=e("./generateBlurFragSource"),o=s(m),p=e("./getMaxBlurKernelSize"),g=s(p),v=function(e){function t(n,s,r,c){h(this,t),c=c||5;var d=(0,i.default)(c,!0),u=(0,o.default)(c),l=a(this,e.call(this,d,u));return l.resolution=r||1,l._quality=0,l.quality=s||4,l.strength=n||8,l.firstRun=!0,l}return r(t,e),t.prototype.apply=function(e,t,n,s){if(this.firstRun&&(l=e.renderer.gl,r=(0,g.default)(l),this.vertexSrc=(0,i.default)(r,!0),this.fragmentSrc=(0,o.default)(r),this.firstRun=!1),this.uniforms.strength=1/n.size.width*(n.size.width/t.size.width),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,s);else{for(var r,l,h,d=e.getRenderTarget(!0),a=t,c=d,u=0;u<this.passes-1;u++)e.applyFilter(this,a,c,!0),h=c,c=a,a=h;e.applyFilter(this,a,n,s),e.returnRenderTarget(d)}},c(t,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(d.Filter);n.default=v},{"../../core":64,"./generateBlurFragSource":139,"./generateBlurVertSource":140,"./getMaxBlurKernelSize":141}],138:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function f(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function h(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=e("../../core"),d=f(l),u=e("./generateBlurVertSource"),i=s(u),m=e("./generateBlurFragSource"),o=s(m),p=e("./getMaxBlurKernelSize"),g=s(p),v=function(e){function t(n,s,r,c){h(this,t),c=c||5;var d=(0,i.default)(c,!1),u=(0,o.default)(c),l=a(this,e.call(this,d,u));return l.resolution=r||1,l._quality=0,l.quality=s||4,l.strength=n||8,l.firstRun=!0,l}return r(t,e),t.prototype.apply=function(e,t,n,s){if(this.firstRun&&(l=e.renderer.gl,r=(0,g.default)(l),this.vertexSrc=(0,i.default)(r,!1),this.fragmentSrc=(0,o.default)(r),this.firstRun=!1),this.uniforms.strength=1/n.size.height*(n.size.height/t.size.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,1===this.passes)e.applyFilter(this,t,n,s);else{for(var r,l,h,d=e.getRenderTarget(!0),a=t,c=d,u=0;u<this.passes-1;u++)e.applyFilter(this,a,c,!0),h=c,c=a,a=h;e.applyFilter(this,a,n,s),e.returnRenderTarget(d)}},c(t,[{key:"blur",get:function(){return this.strength},set:function(e){this.padding=2*Math.abs(e),this.strength=e}},{key:"quality",get:function(){return this._quality},set:function(e){this._quality=e,this.passes=e}}]),t}(d.Filter);n.default=v},{"../../core":64,"./generateBlurFragSource":139,"./generateBlurVertSource":140,"./getMaxBlurKernelSize":141}],139:[function(e,t,n){"use strict";function s(e){for(var s,c=o[e],l=c.length,n=i,a="",d="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;",r=void 0,t=0;t<e;t++)s=d.replace("%index%",t),r=t,t>=l&&(r=e-t-1),s=s.replace("%value%",c[r]),a+=s,a+=`
`;return n=n.replace("%blur%",a),n=n.replace("%size%",e)}n.__esModule=!0,n.default=s;var o={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},i=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`)},{}],140:[function(e,t,n){"use strict";function s(e,t){for(var i,c=Math.ceil(e/2),n=o,a="",r=void 0,r=t?"vBlurTexCoords[%index%] = aTextureCoord + vec2(%sampleIndex% * strength, 0.0);":"vBlurTexCoords[%index%] = aTextureCoord + vec2(0.0, %sampleIndex% * strength);",s=0;s<e;s++)i=r.replace("%index%",s),i=i.replace("%sampleIndex%",s-(c-1)+".0"),a+=i,a+=`
`;return n=n.replace("%blur%",a),n=n.replace("%size%",e)}n.__esModule=!0,n.default=s;var o=["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","uniform float strength;","uniform mat3 projectionMatrix;","varying vec2 vBlurTexCoords[%size%];","void main(void)","{","gl_Position = vec4((projectionMatrix * vec3((aVertexPosition), 1.0)).xy, 0.0, 1.0);","%blur%","}"].join(`
`)},{}],141:[function(e,t,n){"use strict";function s(e){for(var n=e.getParameter(e.MAX_VARYING_VECTORS),t=15;t>n;)t-=2;return t}n.__esModule=!0,n.default=s},{}],142:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=e("../../core"),d=o(l),s=(e("path"),function(e){function t(){i(this,t);var n=a(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];

void main(void)
{

    vec4 c = texture2D(uSampler, vTextureCoord);

    gl_FragColor.r = (m[0] * c.r);
        gl_FragColor.r += (m[1] * c.g);
        gl_FragColor.r += (m[2] * c.b);
        gl_FragColor.r += (m[3] * c.a);
        gl_FragColor.r += m[4] * c.a;

    gl_FragColor.g = (m[5] * c.r);
        gl_FragColor.g += (m[6] * c.g);
        gl_FragColor.g += (m[7] * c.b);
        gl_FragColor.g += (m[8] * c.a);
        gl_FragColor.g += m[9] * c.a;

     gl_FragColor.b = (m[10] * c.r);
        gl_FragColor.b += (m[11] * c.g);
        gl_FragColor.b += (m[12] * c.b);
        gl_FragColor.b += (m[13] * c.a);
        gl_FragColor.b += m[14] * c.a;

     gl_FragColor.a = (m[15] * c.r);
        gl_FragColor.a += (m[16] * c.g);
        gl_FragColor.a += (m[17] * c.b);
        gl_FragColor.a += (m[18] * c.a);
        gl_FragColor.a += m[19] * c.a;

//    gl_FragColor = vec4(m[0]);
}
`));return n.uniforms.m=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],n}return r(t,e),t.prototype._loadMatrix=function(e){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=e;n&&(this._multiply(t,this.uniforms.m,e),t=this._colorMatrix(t)),this.uniforms.m=t},t.prototype._multiply=function(e,t,n){return e[0]=t[0]*n[0]+t[1]*n[5]+t[2]*n[10]+t[3]*n[15],e[1]=t[0]*n[1]+t[1]*n[6]+t[2]*n[11]+t[3]*n[16],e[2]=t[0]*n[2]+t[1]*n[7]+t[2]*n[12]+t[3]*n[17],e[3]=t[0]*n[3]+t[1]*n[8]+t[2]*n[13]+t[3]*n[18],e[4]=t[0]*n[4]+t[1]*n[9]+t[2]*n[14]+t[3]*n[19],e[5]=t[5]*n[0]+t[6]*n[5]+t[7]*n[10]+t[8]*n[15],e[6]=t[5]*n[1]+t[6]*n[6]+t[7]*n[11]+t[8]*n[16],e[7]=t[5]*n[2]+t[6]*n[7]+t[7]*n[12]+t[8]*n[17],e[8]=t[5]*n[3]+t[6]*n[8]+t[7]*n[13]+t[8]*n[18],e[9]=t[5]*n[4]+t[6]*n[9]+t[7]*n[14]+t[8]*n[19],e[10]=t[10]*n[0]+t[11]*n[5]+t[12]*n[10]+t[13]*n[15],e[11]=t[10]*n[1]+t[11]*n[6]+t[12]*n[11]+t[13]*n[16],e[12]=t[10]*n[2]+t[11]*n[7]+t[12]*n[12]+t[13]*n[17],e[13]=t[10]*n[3]+t[11]*n[8]+t[12]*n[13]+t[13]*n[18],e[14]=t[10]*n[4]+t[11]*n[9]+t[12]*n[14]+t[13]*n[19],e[15]=t[15]*n[0]+t[16]*n[5]+t[17]*n[10]+t[18]*n[15],e[16]=t[15]*n[1]+t[16]*n[6]+t[17]*n[11]+t[18]*n[16],e[17]=t[15]*n[2]+t[16]*n[7]+t[17]*n[12]+t[18]*n[17],e[18]=t[15]*n[3]+t[16]*n[8]+t[17]*n[13]+t[18]*n[18],e[19]=t[15]*n[4]+t[16]*n[9]+t[17]*n[14]+t[18]*n[19],e},t.prototype._colorMatrix=function(e){var t=new Float32Array(e);return t[4]/=255,t[9]/=255,t[14]/=255,t[19]/=255,t},t.prototype.brightness=function(e,t){var n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.greyscale=function(e,t){var n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.blackAndWhite=function(e){var t=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.hue=function(e,t){e=(e||0)/180*Math.PI;var n=Math.cos(e),i=Math.sin(e),c=Math.sqrt,s=1/3,o=c(s),r=n+(1-n)*s,a=s*(1-n)-o*i,l=s*(1-n)+o*i,d=s*(1-n)+o*i,u=n+s*(1-n),h=s*(1-n)-o*i,m=s*(1-n)-o*i,f=s*(1-n)+o*i,p=n+s*(1-n),g=[r,a,l,0,0,d,u,h,0,0,m,f,p,0,0,0,0,0,1,0];this._loadMatrix(g,t)},t.prototype.contrast=function(e,t){var n=(e||0)+1,s=-128*(n-1),o=[n,0,0,0,s,0,n,0,0,s,0,0,n,0,s,0,0,0,1,0];this._loadMatrix(o,t)},t.prototype.saturate=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,s=arguments[1],t=2*n/3+1,e=(t-1)*-.5,o=[t,e,e,0,0,e,t,e,0,0,e,e,t,0,0,0,0,0,1,0];this._loadMatrix(o,s)},t.prototype.desaturate=function(){this.saturate(-1)},t.prototype.negative=function(e){var t=[0,1,1,0,0,1,0,1,0,0,1,1,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.sepia=function(e){var t=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.technicolor=function(e){var t=[1.9125277891456083,-.8545344976951645,-.09155508482755585,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491138,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.polaroid=function(e){var t=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.toBGR=function(e){var t=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.kodachrome=function(e){var t=[1.1285582396593525,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964943,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.browni=function(e){var t=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.037703249837783157,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.vintage=function(e){var t=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.colorTone=function(e,t,n,s,o){e=e||.2,t=t||.15,n=n||16770432,s=s||3375104;var i=(n>>16&255)/255,a=(n>>8&255)/255,r=(255&n)/255,c=(s>>16&255)/255,l=(s>>8&255)/255,d=(255&s)/255,u=[.3,.59,.11,0,0,i,a,r,e,0,c,l,d,t,0,i-c,a-l,r-d,0,0];this._loadMatrix(u,o)},t.prototype.night=function(e,t){e=e||.1;var n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,2*e,0,0,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.predator=function(e,t){var n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,t)},t.prototype.lsd=function(e){var t=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(t,e)},t.prototype.reset=function(){var e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)},c(t,[{key:"matrix",get:function(){return this.uniforms.m},set:function(e){this.uniforms.m=e}}]),t}(d.Filter));n.default=s,s.prototype.grayscale=s.prototype.greyscale},{"../../core":64,path:23}],143:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=e("../../core"),s=o(l),d=(e("path"),function(e){function t(n,o){i(this,t);var r,c=new s.Matrix;return n.renderable=!1,r=a(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

void main(void)
{
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vFilterCoord = ( filterMatrix * vec3( aTextureCoord, 1.0)  ).xy;
   vTextureCoord = aTextureCoord;
}`,`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;

uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform vec4 filterClamp;

void main(void)
{
   vec4 map =  texture2D(mapSampler, vFilterCoord);

   map -= 0.5;
   map.xy *= scale;

   gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), filterClamp.xy, filterClamp.zw));
}
`)),r.maskSprite=n,r.maskMatrix=c,r.uniforms.mapSampler=n.texture,r.uniforms.filterMatrix=c.toArray(!0),r.uniforms.scale={x:1,y:1},o!=null||(o=20),r.scale=new s.Point(o,o),r}return r(t,e),t.prototype.apply=function(e,t,n){var s=1/n.destinationFrame.width*(n.size.width/t.size.width);this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x*s,this.uniforms.scale.y=this.scale.y*s,e.applyFilter(this,t,n)},c(t,[{key:"map",get:function(){return this.uniforms.mapSampler},set:function(e){this.uniforms.mapSampler=e}}]),t}(s.Filter));n.default=d},{"../../core":64,path:23}],144:[function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var r=e("../../core"),c=s(r),l=(e("path"),function(e){function t(){return o(this,t),i(this,e.call(this,`
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

uniform vec4 filterArea;

varying vec2 vTextureCoord;

vec2 mapCoord( vec2 coord )
{
    coord *= filterArea.xy;
    coord += filterArea.zw;

    return coord;
}

vec2 unmapCoord( vec2 coord )
{
    coord -= filterArea.zw;
    coord /= filterArea.xy;

    return coord;
}

void texcoords(vec2 fragCoord, vec2 resolution,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    vec2 inverseVP = 1.0 / resolution.xy;
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

   vTextureCoord = aTextureCoord;

   vec2 fragCoord = vTextureCoord * filterArea.xy;

   texcoords(fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}`,`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform vec4 filterArea;

/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.
 
 --
 
 From:
 https://github.com/mitsuhiko/webgl-meincraft
 
 Copyright (c) 2011 by Armin Ronacher.
 
 Some rights reserved.
 
 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:
 
 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.
 
 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.
 
 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.
 
 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 resolution,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    mediump vec2 inverseVP = vec2(1.0 / resolution.x, 1.0 / resolution.y);
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));
    
    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));
    
    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);
    
    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;
    
    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);
    
    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec2 fragCoord = vTextureCoord * filterArea.xy;

      vec4 color;

    color = fxaa(uSampler, fragCoord, filterArea.xy, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`))}return a(t,e),t}(c.Filter));n.default=l},{"../../core":64,path:23}],145:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i,a,r,c,l,d,u=e("./fxaa/FXAAFilter");Object.defineProperty(n,"FXAAFilter",{enumerable:!0,get:function(){return s(u).default}}),o=e("./noise/NoiseFilter"),Object.defineProperty(n,"NoiseFilter",{enumerable:!0,get:function(){return s(o).default}}),i=e("./displacement/DisplacementFilter"),Object.defineProperty(n,"DisplacementFilter",{enumerable:!0,get:function(){return s(i).default}}),a=e("./blur/BlurFilter"),Object.defineProperty(n,"BlurFilter",{enumerable:!0,get:function(){return s(a).default}}),r=e("./blur/BlurXFilter"),Object.defineProperty(n,"BlurXFilter",{enumerable:!0,get:function(){return s(r).default}}),c=e("./blur/BlurYFilter"),Object.defineProperty(n,"BlurYFilter",{enumerable:!0,get:function(){return s(c).default}}),l=e("./colormatrix/ColorMatrixFilter"),Object.defineProperty(n,"ColorMatrixFilter",{enumerable:!0,get:function(){return s(l).default}}),d=e("./void/VoidFilter"),Object.defineProperty(n,"VoidFilter",{enumerable:!0,get:function(){return s(d).default}})},{"./blur/BlurFilter":136,"./blur/BlurXFilter":137,"./blur/BlurYFilter":138,"./colormatrix/ColorMatrixFilter":142,"./displacement/DisplacementFilter":143,"./fxaa/FXAAFilter":144,"./noise/NoiseFilter":146,"./void/VoidFilter":147}],146:[function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var r=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),c=e("../../core"),l=s(c),d=(e("path"),function(e){function t(){o(this,t);var n=i(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float noise;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);

    float diff = (rand(gl_FragCoord.xy) - 0.5) * noise;

    color.r += diff;
    color.g += diff;
    color.b += diff;

    gl_FragColor = color;
}
`));return n.noise=.5,n}return a(t,e),r(t,[{key:"noise",get:function(){return this.uniforms.noise},set:function(e){this.uniforms.noise=e}}]),t}(l.Filter));n.default=d},{"../../core":64,path:23}],147:[function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var r=e("../../core"),c=s(r),l=(e("path"),function(e){function t(){o(this,t);var n=i(this,e.call(this,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`));return n.glShaderKey="void",n}return a(t,e),t}(c.Filter));n.default=l},{"../../core":64,path:23}],148:[function(e,t,n){"use strict";function s(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var i=e("../core"),a=s(i),r=function(){function e(){o(this,e),this.global=new a.Point,this.target=null,this.originalEvent=null}return e.prototype.getLocalPosition=function(e,t,n){return e.worldTransform.applyInverse(n||this.global,t)},e}();n.default=r},{"../core":64}],149:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(){s(this,e),this.stopped=!1,this.target=null,this.currentTarget=null,this.type=null,this.data=null}return e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype._reset=function(){this.stopped=!1,this.currentTarget=null,this.target=null},e}();n.default=o},{}],150:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function y(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var i,f=e("../core"),s=y(f),d=e("./InteractionData"),a=o(d),h=e("./InteractionEvent"),m=o(h),c=e("eventemitter3"),p=o(c),g=e("./interactiveTarget"),v=o(g),b=e("ismobilejs"),j=o(b);Object.assign(s.DisplayObject.prototype,v.default),i=function(e){function t(n,o){u(this,t);var i=l(this,e.call(this));return o=o||{},i.renderer=n,i.autoPreventDefault=void 0===o.autoPreventDefault||o.autoPreventDefault,i.interactionFrequency=o.interactionFrequency||10,i.mouse=new a.default,i.mouse.global.set(-999999),i.pointer=new a.default,i.pointer.global.set(-999999),i.eventData=new m.default,i.interactiveDataPool=[],i.interactionDOMElement=null,i.moveWhenInside=!1,i.eventsAdded=!1,i.mouseOverRenderer=!1,i.supportsTouchEvents="ontouchstart"in window,i.supportsPointerEvents=!!window.PointerEvent,i.normalizeTouchEvents=!i.supportsPointerEvents&&i.supportsTouchEvents,i.normalizeMouseEvents=!i.supportsPointerEvents&&!j.default.any,i.onMouseUp=i.onMouseUp.bind(i),i.processMouseUp=i.processMouseUp.bind(i),i.onMouseDown=i.onMouseDown.bind(i),i.processMouseDown=i.processMouseDown.bind(i),i.onMouseMove=i.onMouseMove.bind(i),i.processMouseMove=i.processMouseMove.bind(i),i.onMouseOut=i.onMouseOut.bind(i),i.processMouseOverOut=i.processMouseOverOut.bind(i),i.onMouseOver=i.onMouseOver.bind(i),i.onPointerUp=i.onPointerUp.bind(i),i.processPointerUp=i.processPointerUp.bind(i),i.onPointerDown=i.onPointerDown.bind(i),i.processPointerDown=i.processPointerDown.bind(i),i.onPointerMove=i.onPointerMove.bind(i),i.processPointerMove=i.processPointerMove.bind(i),i.onPointerOut=i.onPointerOut.bind(i),i.processPointerOverOut=i.processPointerOverOut.bind(i),i.onPointerOver=i.onPointerOver.bind(i),i.onTouchStart=i.onTouchStart.bind(i),i.processTouchStart=i.processTouchStart.bind(i),i.onTouchEnd=i.onTouchEnd.bind(i),i.processTouchEnd=i.processTouchEnd.bind(i),i.onTouchMove=i.onTouchMove.bind(i),i.processTouchMove=i.processTouchMove.bind(i),i.defaultCursorStyle="inherit",i.currentCursorStyle="inherit",i._tempPoint=new s.Point,i.resolution=1,i.setTargetElement(i.renderer.view,i.renderer.resolution),i}return r(t,e),t.prototype.setTargetElement=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.removeEvents(),this.interactionDOMElement=e,this.resolution=t,this.addEvents()},t.prototype.addEvents=function(){this.interactionDOMElement&&(s.ticker.shared.add(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="none",this.interactionDOMElement.style["-ms-touch-action"]="none"):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]="none"),this.supportsPointerEvents?(window.document.addEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("pointerover",this.onPointerOver,!0),window.addEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.addEventListener("touchmove",this.onPointerMove,!0)),this.normalizeMouseEvents&&(window.document.addEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onPointerOver,!0),window.addEventListener("mouseup",this.onPointerUp,!0))),window.document.addEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.addEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.addEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.addEventListener("mouseover",this.onMouseOver,!0),window.addEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.addEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.addEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.addEventListener("touchmove",this.onTouchMove,!0)),this.eventsAdded=!0)},t.prototype.removeEvents=function(){this.interactionDOMElement&&(s.ticker.shared.remove(this.update,this),window.navigator.msPointerEnabled?(this.interactionDOMElement.style["-ms-content-zooming"]="",this.interactionDOMElement.style["-ms-touch-action"]=""):this.supportsPointerEvents&&(this.interactionDOMElement.style["touch-action"]=""),this.supportsPointerEvents?(window.document.removeEventListener("pointermove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("pointerout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("pointerover",this.onPointerOver,!0),window.removeEventListener("pointerup",this.onPointerUp,!0)):(this.normalizeTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("touchend",this.onPointerUp,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.normalizeMouseEvents&&(window.document.removeEventListener("mousemove",this.onPointerMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onPointerDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onPointerOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onPointerOver,!0),window.removeEventListener("mouseup",this.onPointerUp,!0))),window.document.removeEventListener("mousemove",this.onMouseMove,!0),this.interactionDOMElement.removeEventListener("mousedown",this.onMouseDown,!0),this.interactionDOMElement.removeEventListener("mouseout",this.onMouseOut,!0),this.interactionDOMElement.removeEventListener("mouseover",this.onMouseOver,!0),window.removeEventListener("mouseup",this.onMouseUp,!0),this.supportsTouchEvents&&(this.interactionDOMElement.removeEventListener("touchstart",this.onTouchStart,!0),this.interactionDOMElement.removeEventListener("touchend",this.onTouchEnd,!0),this.interactionDOMElement.removeEventListener("touchmove",this.onTouchMove,!0)),this.interactionDOMElement=null,this.eventsAdded=!1)},t.prototype.update=function(e){if(this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.interactionDOMElement)){if(this.didMove)return void(this.didMove=!1);this.cursor=this.defaultCursorStyle,this.eventData._reset(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!0),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)}},t.prototype.dispatchEvent=function(e,t,n){n.stopped||(n.currentTarget=e,n.type=t,e.emit(t,n),e[t]&&e[t](n))},t.prototype.mapPositionToPoint=function(e,t,n){var s=void 0,s=this.interactionDOMElement.parentElement?this.interactionDOMElement.getBoundingClientRect():{x:0,y:0,width:0,height:0},o=navigator.isCocoonJS?this.resolution:1/this.resolution;e.x=(t-s.left)*(this.interactionDOMElement.width/s.width)*o,e.y=(n-s.top)*(this.interactionDOMElement.height/s.height)*o},t.prototype.processInteractive=function(e,t,n,s,o){if(!t||!t.visible)return!1;o=t.interactive||o;var a,c,l,i=!1,r=o;if(t.hitArea&&(r=!1),s&&t._mask&&(t._mask.containsPoint(e)||(s=!1)),s&&t.filterArea&&(t.filterArea.contains(e.x,e.y)||(s=!1)),t.interactiveChildren&&t.children)for(c=t.children,a=c.length-1;a>=0;a--)if(l=c[a],this.processInteractive(e,l,n,s,r)){if(!l.parent)continue;i=!0,r=!1,s=!1}return o&&(s&&!i&&(t.hitArea?(t.worldTransform.applyInverse(e,this._tempPoint),i=t.hitArea.contains(this._tempPoint.x,this._tempPoint.y)):t.containsPoint&&(i=t.containsPoint(e))),t.interactive&&(i&&!this.eventData.target&&(this.eventData.target=t,this.mouse.target=t,this.pointer.target=t),n(t,i))),i},t.prototype.onMouseDown=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.autoPreventDefault&&this.mouse.originalEvent.preventDefault(),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseDown,!0);var t=2===e.button||3===e.which;this.emit(t?"rightdown":"mousedown",this.eventData)},t.prototype.processMouseDown=function(e,t){var n=this.mouse.originalEvent,s=2===n.button||3===n.which;t&&(e[s?"_isRightDown":"_isLeftDown"]=!0,this.dispatchEvent(e,s?"rightdown":"mousedown",this.eventData))},t.prototype.onMouseUp=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseUp,!0);var t=2===e.button||3===e.which;this.emit(t?"rightup":"mouseup",this.eventData)},t.prototype.processMouseUp=function(e,t){var o=this.mouse.originalEvent,n=2===o.button||3===o.which,s=n?"_isRightDown":"_isLeftDown";t?(this.dispatchEvent(e,n?"rightup":"mouseup",this.eventData),e[s]&&(e[s]=!1,this.dispatchEvent(e,n?"rightclick":"click",this.eventData))):e[s]&&(e[s]=!1,this.dispatchEvent(e,n?"rightupoutside":"mouseupoutside",this.eventData))},t.prototype.onMouseMove=function(e){this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.didMove=!0,this.cursor=this.defaultCursorStyle,this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseMove,!0),this.emit("mousemove",this.eventData),this.currentCursorStyle!==this.cursor&&(this.currentCursorStyle=this.cursor,this.interactionDOMElement.style.cursor=this.cursor)},t.prototype.processMouseMove=function(e,t){this.processMouseOverOut(e,t),this.moveWhenInside&&!t||this.dispatchEvent(e,"mousemove",this.eventData)},t.prototype.onMouseOut=function(e){this.mouseOverRenderer=!1,this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.interactionDOMElement.style.cursor=this.defaultCursorStyle,this.mapPositionToPoint(this.mouse.global,e.clientX,e.clientY),this.processInteractive(this.mouse.global,this.renderer._lastObjectRendered,this.processMouseOverOut,!1),this.emit("mouseout",this.eventData)},t.prototype.processMouseOverOut=function(e,t){t&&this.mouseOverRenderer?(e._mouseOver||(e._mouseOver=!0,this.dispatchEvent(e,"mouseover",this.eventData)),e.buttonMode&&(this.cursor=e.defaultCursor)):e._mouseOver&&(e._mouseOver=!1,this.dispatchEvent(e,"mouseout",this.eventData))},t.prototype.onMouseOver=function(e){this.mouseOverRenderer=!0,this.mouse.originalEvent=e,this.eventData.data=this.mouse,this.eventData._reset(),this.emit("mouseover",this.eventData)},t.prototype.onPointerDown=function(e){this.normalizeToPointerData(e),this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.mapPositionToPoint(this.pointer.global,e.clientX,e.clientY),this.autoPreventDefault&&(this.normalizeMouseEvents||this.normalizeTouchEvents)&&this.pointer.originalEvent.preventDefault(),this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerDown,!0),this.emit("pointerdown",this.eventData)},t.prototype.processPointerDown=function(e,t){t&&(e._pointerDown=!0,this.dispatchEvent(e,"pointerdown",this.eventData))},t.prototype.onPointerUp=function(e){this.normalizeToPointerData(e),this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.mapPositionToPoint(this.pointer.global,e.clientX,e.clientY),this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerUp,!0),this.emit("pointerup",this.eventData)},t.prototype.processPointerUp=function(e,t){t?(this.dispatchEvent(e,"pointerup",this.eventData),e._pointerDown&&(e._pointerDown=!1,this.dispatchEvent(e,"pointertap",this.eventData))):e._pointerDown&&(e._pointerDown=!1,this.dispatchEvent(e,"pointerupoutside",this.eventData))},t.prototype.onPointerMove=function(e){this.normalizeToPointerData(e),this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.mapPositionToPoint(this.pointer.global,e.clientX,e.clientY),this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerMove,!0),this.emit("pointermove",this.eventData)},t.prototype.processPointerMove=function(e,t){this.pointer.originalEvent.changedTouches||this.processPointerOverOut(e,t),this.moveWhenInside&&!t||this.dispatchEvent(e,"pointermove",this.eventData)},t.prototype.onPointerOut=function(e){this.normalizeToPointerData(e),this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.mapPositionToPoint(this.pointer.global,e.clientX,e.clientY),this.processInteractive(this.pointer.global,this.renderer._lastObjectRendered,this.processPointerOverOut,!1),this.emit("pointerout",this.eventData)},t.prototype.processPointerOverOut=function(e,t){t&&this.mouseOverRenderer?e._pointerOver||(e._pointerOver=!0,this.dispatchEvent(e,"pointerover",this.eventData)):e._pointerOver&&(e._pointerOver=!1,this.dispatchEvent(e,"pointerout",this.eventData))},t.prototype.onPointerOver=function(e){this.pointer.originalEvent=e,this.eventData.data=this.pointer,this.eventData._reset(),this.emit("pointerover",this.eventData)},t.prototype.onTouchStart=function(e){this.autoPreventDefault&&e.preventDefault();for(var t,o,s=e.changedTouches,i=s.length,n=0;n<i;n++)o=s[n],t=this.getTouchData(o),t.originalEvent=e,this.eventData.data=t,this.eventData._reset(),this.processInteractive(t.global,this.renderer._lastObjectRendered,this.processTouchStart,!0),this.emit("touchstart",this.eventData),this.returnTouchData(t)},t.prototype.processTouchStart=function(e,t){t&&(e._touchDown=!0,this.dispatchEvent(e,"touchstart",this.eventData))},t.prototype.onTouchEnd=function(e){this.autoPreventDefault&&e.preventDefault();for(var t,o,s=e.changedTouches,i=s.length,n=0;n<i;n++)o=s[n],t=this.getTouchData(o),t.originalEvent=e,this.eventData.data=t,this.eventData._reset(),this.processInteractive(t.global,this.renderer._lastObjectRendered,this.processTouchEnd,!0),this.emit("touchend",this.eventData),this.returnTouchData(t)},t.prototype.processTouchEnd=function(e,t){t?(this.dispatchEvent(e,"touchend",this.eventData),e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"tap",this.eventData))):e._touchDown&&(e._touchDown=!1,this.dispatchEvent(e,"touchendoutside",this.eventData))},t.prototype.onTouchMove=function(e){this.autoPreventDefault&&e.preventDefault();for(var t,o,s=e.changedTouches,i=s.length,n=0;n<i;n++)o=s[n],t=this.getTouchData(o),t.originalEvent=e,this.eventData.data=t,this.eventData._reset(),this.processInteractive(t.global,this.renderer._lastObjectRendered,this.processTouchMove,this.moveWhenInside),this.emit("touchmove",this.eventData),this.returnTouchData(t)},t.prototype.processTouchMove=function(e,t){this.moveWhenInside&&!t||this.dispatchEvent(e,"touchmove",this.eventData)},t.prototype.getTouchData=function(e){var t=this.interactiveDataPool.pop()||new a.default;return t.identifier=e.identifier,this.mapPositionToPoint(t.global,e.clientX,e.clientY),navigator.isCocoonJS&&(t.global.x=t.global.x/this.resolution,t.global.y=t.global.y/this.resolution),e.globalX=t.global.x,e.globalY=t.global.y,t},t.prototype.returnTouchData=function(e){this.interactiveDataPool.push(e)},t.prototype.normalizeToPointerData=function(e){this.normalizeTouchEvents&&e.changedTouches?("undefined"==typeof e.button&&(e.button=e.touches.length?1:0),"undefined"==typeof e.buttons&&(e.buttons=e.touches.length?1:0),"undefined"==typeof e.isPrimary&&(e.isPrimary=1===e.touches.length),"undefined"==typeof e.width&&(e.width=e.changedTouches[0].radiusX||1),"undefined"==typeof e.height&&(e.height=e.changedTouches[0].radiusY||1),"undefined"==typeof e.tiltX&&(e.tiltX=0),"undefined"==typeof e.tiltY&&(e.tiltY=0),"undefined"==typeof e.pointerType&&(e.pointerType="touch"),"undefined"==typeof e.pointerId&&(e.pointerId=e.changedTouches[0].identifier||0),"undefined"==typeof e.pressure&&(e.pressure=e.changedTouches[0].force||.5),"undefined"==typeof e.rotation&&(e.rotation=e.changedTouches[0].rotationAngle||0),"undefined"==typeof e.clientX&&(e.clientX=e.changedTouches[0].clientX),"undefined"==typeof e.clientY&&(e.clientY=e.changedTouches[0].clientY),"undefined"==typeof e.pageX&&(e.pageX=e.changedTouches[0].pageX),"undefined"==typeof e.pageY&&(e.pageY=e.changedTouches[0].pageY),"undefined"==typeof e.screenX&&(e.screenX=e.changedTouches[0].screenX),"undefined"==typeof e.screenY&&(e.screenY=e.changedTouches[0].screenY),"undefined"==typeof e.layerX&&(e.layerX=e.offsetX=e.clientX),"undefined"==typeof e.layerY&&(e.layerY=e.offsetY=e.clientY)):this.normalizeMouseEvents&&("undefined"==typeof e.isPrimary&&(e.isPrimary=!0),"undefined"==typeof e.width&&(e.width=1),"undefined"==typeof e.height&&(e.height=1),"undefined"==typeof e.tiltX&&(e.tiltX=0),"undefined"==typeof e.tiltY&&(e.tiltY=0),"undefined"==typeof e.pointerType&&(e.pointerType="mouse"),"undefined"==typeof e.pointerId&&(e.pointerId=1),"undefined"==typeof e.pressure&&(e.pressure=.5),"undefined"==typeof e.rotation&&(e.rotation=0))},t.prototype.destroy=function(){this.removeEvents(),this.removeAllListeners(),this.renderer=null,this.mouse=null,this.eventData=null,this.interactiveDataPool=null,this.interactionDOMElement=null,this.onMouseDown=null,this.processMouseDown=null,this.onMouseUp=null,this.processMouseUp=null,this.onMouseMove=null,this.processMouseMove=null,this.onMouseOut=null,this.processMouseOverOut=null,this.onMouseOver=null,this.onPointerDown=null,this.processPointerDown=null,this.onPointerUp=null,this.processPointerUp=null,this.onPointerMove=null,this.processPointerMove=null,this.onPointerOut=null,this.processPointerOverOut=null,this.onPointerOver=null,this.onTouchStart=null,this.processTouchStart=null,this.onTouchEnd=null,this.processTouchEnd=null,this.onTouchMove=null,this.processTouchMove=null,this._tempPoint=null},t}(p.default),n.default=i,s.WebGLRenderer.registerPlugin("interaction",i),s.CanvasRenderer.registerPlugin("interaction",i)},{"../core":64,"./InteractionData":148,"./InteractionEvent":149,"./interactiveTarget":152,eventemitter3:3,ismobilejs:4}],151:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i,a=e("./InteractionData");Object.defineProperty(n,"InteractionData",{enumerable:!0,get:function(){return s(a).default}}),o=e("./InteractionManager"),Object.defineProperty(n,"InteractionManager",{enumerable:!0,get:function(){return s(o).default}}),i=e("./interactiveTarget"),Object.defineProperty(n,"interactiveTarget",{enumerable:!0,get:function(){return s(i).default}})},{"./InteractionData":148,"./InteractionManager":150,"./interactiveTarget":152}],152:[function(e,t,n){"use strict";n.__esModule=!0,n.default={interactive:!1,interactiveChildren:!0,hitArea:null,buttonMode:!1,defaultCursor:"pointer",_over:!1,_isLeftDown:!1,_isRightDown:!1,_pointerOver:!1,_pointerDown:!1,_touchDown:!1}},{}],153:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){var n,i,a,r,d,u,o={},c=e.data.getElementsByTagName("info")[0],m=e.data.getElementsByTagName("common")[0];o.font=c.getAttribute("face"),o.size=parseInt(c.getAttribute("size"),10),o.lineHeight=parseInt(m.getAttribute("lineHeight"),10),o.chars={};for(i=e.data.getElementsByTagName("char"),n=0;n<i.length;n++)d=parseInt(i[n].getAttribute("id"),10),u=new s.Rectangle(parseInt(i[n].getAttribute("x"),10)+t.frame.x,parseInt(i[n].getAttribute("y"),10)+t.frame.y,parseInt(i[n].getAttribute("width"),10),parseInt(i[n].getAttribute("height"),10)),o.chars[d]={xOffset:parseInt(i[n].getAttribute("xoffset"),10),yOffset:parseInt(i[n].getAttribute("yoffset"),10),xAdvance:parseInt(i[n].getAttribute("xadvance"),10),kerning:{},texture:new s.Texture(t.baseTexture,u)};for(r=e.data.getElementsByTagName("kerning"),a=0;a<r.length;a++){var f=parseInt(r[a].getAttribute("first"),10),h=parseInt(r[a].getAttribute("second"),10),p=parseInt(r[a].getAttribute("amount"),10);o.chars[h]&&(o.chars[h].kerning[f]=p)}e.bitmapFont=o,l.BitmapText.fonts[o.font]=o}n.__esModule=!0,n.parse=o,n.default=function(){return function(e,t){if(!e.data||e.type!==i.Resource.TYPE.XML)return void t();if(0===e.data.getElementsByTagName("page").length||0===e.data.getElementsByTagName("info").length||null===e.data.getElementsByTagName("info")[0].getAttribute("face"))return void t();var a,r,n=e.isDataUrl?"":c.dirname(e.url);e.isDataUrl&&("."===n&&(n=""),this.baseUrl&&n&&("/"===this.baseUrl.charAt(this.baseUrl.length-1)&&(n+="/"),n=n.replace(this.baseUrl,""))),n&&"/"!==n.charAt(n.length-1)&&(n+="/"),a=n+e.data.getElementsByTagName("page")[0].getAttribute("file"),s.utils.TextureCache[a]?(o(e,s.utils.TextureCache[a]),t()):(r={crossOrigin:e.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e},this.add(e.name+"_image",a,r,function(n){o(e,n.texture),t()}))}};var r=e("path"),c=a(r),s=e("../core"),i=e("resource-loader"),l=e("../extras")},{"../core":64,"../extras":134,path:23,"resource-loader":35}],154:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i,a,r,c=e("./loader");Object.defineProperty(n,"Loader",{enumerable:!0,get:function(){return s(c).default}}),o=e("./bitmapFontParser"),Object.defineProperty(n,"bitmapFontParser",{enumerable:!0,get:function(){return s(o).default}}),Object.defineProperty(n,"parseBitmapFontData",{enumerable:!0,get:function(){return o.parse}}),i=e("./spritesheetParser"),Object.defineProperty(n,"spritesheetParser",{enumerable:!0,get:function(){return s(i).default}}),a=e("./textureParser"),Object.defineProperty(n,"textureParser",{enumerable:!0,get:function(){return s(a).default}}),r=e("resource-loader"),Object.defineProperty(n,"Resource",{enumerable:!0,get:function(){return r.Resource}})},{"./bitmapFontParser":153,"./loader":155,"./spritesheetParser":156,"./textureParser":157,"resource-loader":35}],155:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function y(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function b(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var i,r,l=e("resource-loader"),c=s(l),u=e("resource-loader/lib/middlewares/parsing/blob"),d=e("eventemitter3"),o=s(d),h=e("./textureParser"),m=s(h),f=e("./spritesheetParser"),p=s(f),g=e("./bitmapFontParser"),v=s(g),a=function(e){function t(n,s){y(this,t);var a,i=j(this,e.call(this,n,s));o.default.call(i);for(a=0;a<t._pixiMiddleware.length;++a)i.use(t._pixiMiddleware[a]());return i.onStart.add(function(e){return i.emit("start",e)}),i.onProgress.add(function(e,t){return i.emit("progress",e,t)}),i.onError.add(function(e,t,n){return i.emit("error",e,t,n)}),i.onLoad.add(function(e,t){return i.emit("load",e,t)}),i.onComplete.add(function(e,t){return i.emit("complete",e,t)}),i}return b(t,e),t.addPixiMiddleware=function(e){t._pixiMiddleware.push(e)},t}(c.default);n.default=a;for(r in o.default.prototype)a.prototype[r]=o.default.prototype[r];a._pixiMiddleware=[u.blobMiddlewareFactory,m.default,p.default,v.default],i=c.default.Resource,i.setExtensionXhrType("fnt",i.XHR_RESPONSE_TYPE.DOCUMENT)},{"./bitmapFontParser":153,"./spritesheetParser":156,"./textureParser":157,eventemitter3:3,"resource-loader":35,"resource-loader/lib/middlewares/parsing/blob":36}],156:[function(e,t,n){"use strict";function a(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0,n.default=function(){return function(e,t){var r,n=void 0,a=e.name+"_image";if(!e.data||e.type!==i.Resource.TYPE.JSON||!e.data.frames||this.resources[a])return void t();r={crossOrigin:e.crossOrigin,loadType:i.Resource.LOAD_TYPE.IMAGE,metadata:e.metadata.imageMetadata,parentResource:e},n=e.isDataUrl?e.data.meta.image:l.default.dirname(e.url.replace(this.baseUrl,""))+"/"+e.data.meta.image,this.add(a,n,r,function(n){function d(t,n){for(d=t;d-t<n&&d<r.length;){if(o=r[d],c=a[o].frame,c){var o,c,d,u=null,h=null,m=new s.Rectangle(0,0,a[o].sourceSize.w/i,a[o].sourceSize.h/i),u=a[o].rotated?new s.Rectangle(c.x/i,c.y/i,c.h/i,c.w/i):new s.Rectangle(c.x/i,c.y/i,c.w/i,c.h/i);a[o].trimmed&&(h=new s.Rectangle(a[o].spriteSourceSize.x/i,a[o].spriteSourceSize.y/i,c.w/i,c.h/i)),e.textures[o]=new s.Texture(l,u,m,h,a[o].rotated?2:0),s.utils.TextureCache[o]=e.textures[o]}d++}}function m(){return c*o<r.length}function f(e){d(c*o,o),c++,setTimeout(e,0)}function u(){f(function(){m()?u():t()})}e.textures={};var c,a=e.data.frames,r=Object.keys(a),l=n.texture.baseTexture,h=e.data.meta.scale,i=s.utils.getResolutionOfUrl(e.url,null);null===i&&(i=void 0!==h?h:1),1!==i&&(l.resolution=i,l.update()),c=0,r.length<=o?(d(0,o),t()):u()})}};var i=e("resource-loader"),c=e("path"),l=r(c),d=e("../core"),s=a(d),o=1e3},{"../core":64,path:23,"resource-loader":35}],157:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0,n.default=function(){return function(e,t){if(e.data&&e.type===a.Resource.TYPE.IMAGE){var n=new s.BaseTexture(e.data,null,s.utils.getResolutionOfUrl(e.url));n.imageUrl=e.url,e.texture=new s.Texture(n),s.utils.BaseTextureCache[e.name]=n,s.utils.TextureCache[e.name]=e.texture,e.name!==e.url&&(s.utils.BaseTextureCache[e.url]=n,s.utils.TextureCache[e.url]=e.texture)}t()}};var i=e("../core"),s=o(i),a=e("resource-loader")},{"../core":64,"resource-loader":35}],158:[function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),h=e("../core"),s=r(h),o=new s.Point,i=new s.Polygon,a=function(e){function t(n,o,i,a,r){c(this,t);var d=l(this,e.call(this));return d._texture=null,d.uvs=i||new Float32Array([0,0,1,0,1,1,0,1]),d.vertices=o||new Float32Array([0,0,100,0,100,100,0,100]),d.indices=a||new Uint16Array([0,1,3,2]),d.dirty=0,d.indexDirty=0,d.blendMode=s.BLEND_MODES.NORMAL,d.canvasPadding=0,d.drawMode=r||t.DRAW_MODES.TRIANGLE_MESH,d.texture=n,d.shader=null,d.tintRgb=new Float32Array([1,1,1]),d._glDatas={},d.pluginName="mesh",d}return d(t,e),t.prototype._renderWebGL=function(e){e.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)},t.prototype._renderCanvas=function(e){e.plugins[this.pluginName].render(this)},t.prototype._onTextureUpdate=function(){},t.prototype._calculateBounds=function(){this._bounds.addVertices(this.transform,this.vertices,0,this.vertices.length)},t.prototype.containsPoint=function(e){if(!this.getBounds().contains(e.x,e.y))return!1;this.worldTransform.applyInverse(e,o);for(var n=this.vertices,s=i.points,r=this.indices,u=this.indices.length,h=this.drawMode===t.DRAW_MODES.TRIANGLES?3:1,a=0;a+2<u;a+=h){var c=2*r[a],l=2*r[a+1],d=2*r[a+2];if(s[0]=n[c],s[1]=n[c+1],s[2]=n[l],s[3]=n[l+1],s[4]=n[d],s[5]=n[d+1],i.contains(o.x,o.y))return!0}return!1},u(t,[{key:"texture",get:function(){return this._texture},set:function(e){this._texture!==e&&(this._texture=e,e&&(e.baseTexture.hasLoaded?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}},{key:"tint",get:function(){return s.utils.rgb2hex(this.tintRgb)},set:function(e){this.tintRgb=s.utils.hex2rgb(e,this.tintRgb)}}]),t}(s.Container);n.default=a,a.DRAW_MODES={TRIANGLE_MESH:0,TRIANGLES:1}},{"../core":64}],159:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=function(){function e(e,t){for(var n,s=0;s<t.length;s++)n=t[s],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}(),l=e("./Plane"),d=o(l),s=10,u=function(e){function t(n,o,r,c,l){i(this,t);var u=a(this,e.call(this,n,4,4)),d=u.uvs;return d[6]=d[14]=d[22]=d[30]=1,d[25]=d[27]=d[29]=d[31]=1,u._origWidth=n.width,u._origHeight=n.height,u._uvw=1/u._origWidth,u._uvh=1/u._origHeight,u.width=n.width,u.height=n.height,d[2]=d[10]=d[18]=d[26]=u._uvw*o,d[4]=d[12]=d[20]=d[28]=1-u._uvw*c,d[9]=d[11]=d[13]=d[15]=u._uvh*r,d[17]=d[19]=d[21]=d[23]=1-u._uvh*l,u.leftWidth="undefined"!=typeof o?o:s,u.rightWidth="undefined"!=typeof c?c:s,u.topHeight="undefined"!=typeof r?r:s,u.bottomHeight="undefined"!=typeof l?l:s,u}return r(t,e),t.prototype.updateHorizontalVertices=function(){var e=this.vertices;e[9]=e[11]=e[13]=e[15]=this._topHeight,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight,e[25]=e[27]=e[29]=e[31]=this._height},t.prototype.updateVerticalVertices=function(){var e=this.vertices;e[2]=e[10]=e[18]=e[26]=this._leftWidth,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth,e[6]=e[14]=e[22]=e[30]=this._width},t.prototype._renderCanvas=function(e){t=e.context,t.globalAlpha=this.worldAlpha,n=this.worldTransform,s=e.resolution,e.roundPixels?t.setTransform(n.a*s,n.b*s,n.c*s,n.d*s,n.tx*s|0,n.ty*s|0):t.setTransform(n.a*s,n.b*s,n.c*s,n.d*s,n.tx*s,n.ty*s);var t,n,s,r=this._texture.baseTexture,o=r.source,i=r.width,a=r.height;this.drawSegment(t,o,i,a,0,1,10,11),this.drawSegment(t,o,i,a,2,3,12,13),this.drawSegment(t,o,i,a,4,5,14,15),this.drawSegment(t,o,i,a,8,9,18,19),this.drawSegment(t,o,i,a,10,11,20,21),this.drawSegment(t,o,i,a,12,13,22,23),this.drawSegment(t,o,i,a,16,17,26,27),this.drawSegment(t,o,i,a,18,19,28,29),this.drawSegment(t,o,i,a,20,21,30,31)},t.prototype.drawSegment=function(e,t,n,s,o,i,a,r){var c=this.uvs,l=this.vertices,d=(c[a]-c[o])*n,u=(c[r]-c[i])*s,h=l[a]-l[o],m=l[r]-l[i];d<1&&(d=1),u<1&&(u=1),h<1&&(h=1),m<1&&(m=1),e.drawImage(t,c[o]*n,c[i]*s,d,u,l[o],l[i],h,m)},c(t,[{key:"width",get:function(){return this._width},set:function(e){this._width=e,this.updateVerticalVertices()}},{key:"height",get:function(){return this._height},set:function(e){this._height=e,this.updateHorizontalVertices()}},{key:"leftWidth",get:function(){return this._leftWidth},set:function(e){this._leftWidth=e;var t=this.uvs,n=this.vertices;t[2]=t[10]=t[18]=t[26]=this._uvw*e,n[2]=n[10]=n[18]=n[26]=e,this.dirty=!0}},{key:"rightWidth",get:function(){return this._rightWidth},set:function(e){this._rightWidth=e;var t=this.uvs,n=this.vertices;t[4]=t[12]=t[20]=t[28]=1-this._uvw*e,n[4]=n[12]=n[20]=n[28]=this._width-e,this.dirty=!0}},{key:"topHeight",get:function(){return this._topHeight},set:function(e){this._topHeight=e;var t=this.uvs,n=this.vertices;t[9]=t[11]=t[13]=t[15]=this._uvh*e,n[9]=n[11]=n[13]=n[15]=e,this.dirty=!0}},{key:"bottomHeight",get:function(){return this._bottomHeight},set:function(e){this._bottomHeight=e;var t=this.uvs,n=this.vertices;t[17]=t[19]=t[21]=t[23]=1-this._uvh*e,n[17]=n[19]=n[21]=n[23]=this._height-e,this.dirty=!0}}]),t}(d.default);n.default=u},{"./Plane":160}],160:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=e("./Mesh"),s=o(c),l=function(e){function t(n,o,r){i(this,t);var c=a(this,e.call(this,n));return c._ready=!0,c.verticesX=o||10,c.verticesY=r||10,c.drawMode=s.default.DRAW_MODES.TRIANGLES,c.refresh(),c}return r(t,e),t.prototype.refresh=function(){for(var t,a,l,d,p=this.verticesX*this.verticesY,h=[],v=[],r=[],c=[],e=this.texture,s=this.verticesX-1,u=this.verticesY-1,b=e.width/s,g=e.height/u,n=0;n<p;n++)e._uvs?(a=n%this.verticesX,l=n/this.verticesX|0,h.push(a*b,l*g),r.push(e._uvs.x0+(e._uvs.x1-e._uvs.x0)*(a/(this.verticesX-1)),e._uvs.y0+(e._uvs.y3-e._uvs.y0)*(l/(this.verticesY-1)))):r.push(0);for(d=s*u,t=0;t<d;t++){var i=t%s,o=t/s|0,j=o*this.verticesX+i,m=o*this.verticesX+i+1,f=(o+1)*this.verticesX+i,y=(o+1)*this.verticesX+i+1;c.push(j,m,f),c.push(m,y,f)}this.vertices=new Float32Array(h),this.uvs=new Float32Array(r),this.colors=new Float32Array(v),this.indices=new Uint16Array(c),this.indexDirty=!0},t.prototype._onTextureUpdate=function(){s.default.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t}(s.default);n.default=l},{"./Mesh":158}],161:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function c(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var l=e("./Mesh"),d=i(l),u=e("../core"),s=o(u),h=function(e){function t(n,s){a(this,t);var o=r(this,e.call(this,n));return o.points=s,o.vertices=new Float32Array(4*s.length),o.uvs=new Float32Array(4*s.length),o.colors=new Float32Array(2*s.length),o.indices=new Uint16Array(2*s.length),o._ready=!0,o.refresh(),o}return c(t,e),t.prototype.refresh=function(){if(t=this.points,!(t.length<1)&&this._texture._uvs){this.vertices.length/4!==t.length&&(this.vertices=new Float32Array(4*t.length),this.uvs=new Float32Array(4*t.length),this.colors=new Float32Array(2*t.length),this.indices=new Uint16Array(2*t.length));var e,t,i,d,u,n=this.uvs,r=this.indices,c=this.colors,a=this._texture._uvs,o=new s.Point(a.x0,a.y0),l=new s.Point(a.x2-a.x0,Number(a.y2-a.y0));n[0]=0+o.x,n[1]=0+o.y,n[2]=0+o.x,n[3]=l.y+o.y,c[0]=1,c[1]=1,r[0]=0,r[1]=1;for(d=t.length,i=1;i<d;i++)e=4*i,u=i/(d-1),n[e]=u*l.x+o.x,n[e+1]=0+o.y,n[e+2]=u*l.x+o.x,n[e+3]=l.y+o.y,e=2*i,c[e]=1,c[e+1]=1,e=2*i,r[e]=e,r[e+1]=e+1;this.dirty++,this.indexDirty++}},t.prototype._onTextureUpdate=function(){e.prototype._onTextureUpdate.call(this),this._ready&&this.refresh()},t.prototype.updateTransform=function(){if(t=this.points,!(t.length<1)){for(var t,n,i,l,d,u,c=t[0],r=void 0,s=0,o=0,a=this.vertices,h=t.length,e=0;e<h;e++)n=t[e],i=4*e,r=e<t.length-1?t[e+1]:n,o=-(r.x-c.x),s=r.y-c.y,l=10*(1-e/(h-1)),l>1&&(l=1),d=Math.sqrt(s*s+o*o),u=this._texture.height/2,s/=d,o/=d,s*=u,o*=u,a[i]=n.x+s,a[i+1]=n.y+o,a[i+2]=n.x-s,a[i+3]=n.y-o,c=n;this.containerUpdateTransform()}},t}(d.default);n.default=h},{"../core":64,"./Mesh":158}],162:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var r=e("../../core"),c=i(r),l=e("../Mesh"),d=o(l),s=function(){function e(t){a(this,e),this.renderer=t}return e.prototype.render=function(e){var s=this.renderer,o=s.context,t=e.worldTransform,n=s.resolution;s.roundPixels?o.setTransform(t.a*n,t.b*n,t.c*n,t.d*n,t.tx*n|0,t.ty*n|0):o.setTransform(t.a*n,t.b*n,t.c*n,t.d*n,t.tx*n,t.ty*n),s.setBlendMode(e.blendMode),e.drawMode===d.default.DRAW_MODES.TRIANGLE_MESH?this._renderTriangleMesh(e):this._renderTriangles(e)},e.prototype._renderTriangleMesh=function(e){for(var t,s=e.vertices.length/2,n=0;n<s-2;n++)t=2*n,this._renderDrawTriangle(e,t,t+2,t+4)},e.prototype._renderTriangles=function(e){for(var n=e.indices,s=n.length,t=0;t<s;t+=3){var o=2*n[t],i=2*n[t+1],a=2*n[t+2];this._renderDrawTriangle(e,o,i,a)}},e.prototype._renderDrawTriangle=function(e,t,n,s){var h=this.renderer.context,O=e.uvs,x=e.vertices,S=e._texture;if(S.valid){var i=S.baseTexture,F=i.source,M=i.width,A=i.height,c=O[t]*i.width,m=O[n]*i.width,f=O[s]*i.width,p=O[t+1]*i.height,g=O[n+1]*i.height,v=O[s+1]*i.height,b=x[t],j=x[n],y=x[s],u=x[t+1],d=x[n+1],l=x[s+1];if(e.canvasPadding>0){var k=e.canvasPadding/e.worldTransform.a,E=e.canvasPadding/e.worldTransform.d,_=(b+j+y)/3,C=(u+d+l)/3,r=b-_,a=u-C,o=Math.sqrt(r*r+a*a);b=_+r/o*(o+k),u=C+a/o*(o+E),r=j-_,a=d-C,o=Math.sqrt(r*r+a*a),j=_+r/o*(o+k),d=C+a/o*(o+E),r=y-_,a=l-C,o=Math.sqrt(r*r+a*a),y=_+r/o*(o+k),l=C+a/o*(o+E)}h.save(),h.beginPath(),h.moveTo(b,u),h.lineTo(j,d),h.lineTo(y,l),h.closePath(),h.clip();var w=c*g+p*f+m*v-g*f-p*m-c*v,T=b*g+p*y+j*v-g*y-p*j-b*v,z=c*j+b*f+m*y-j*f-b*m-c*y,D=c*g*y+p*j*f+b*m*v-b*g*f-p*m*y-c*j*v,N=u*g+p*l+d*v-g*l-p*d-u*v,L=c*d+u*f+m*l-d*f-u*m-c*l,R=c*g*l+p*d*f+u*m*v-u*g*f-p*m*l-c*d*v;h.transform(T/w,N/w,z/w,L/w,D/w,R/w),h.drawImage(F,0,0,M*i.resolution,A*i.resolution,0,0,M,A),h.restore()}},e.prototype.renderMeshFlat=function(e){var t=this.renderer.context,n=e.vertices,i=n.length/2;t.beginPath();for(o=1;o<i-2;++o){var o,s=2*o,a=n[s],r=n[s+1],c=n[s+2],l=n[s+3],d=n[s+4],u=n[s+5];t.moveTo(a,r),t.lineTo(c,l),t.lineTo(d,u)}t.fillStyle="#FF0000",t.fill(),t.closePath()},e.prototype.destroy=function(){this.renderer=null},e}();n.default=s,c.CanvasRenderer.registerPlugin("mesh",s)},{"../../core":64,"../Mesh":158}],163:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i,a,r,c,l=e("./Mesh");Object.defineProperty(n,"Mesh",{enumerable:!0,get:function(){return s(l).default}}),o=e("./webgl/MeshRenderer"),Object.defineProperty(n,"MeshRenderer",{enumerable:!0,get:function(){return s(o).default}}),i=e("./canvas/CanvasMeshRenderer"),Object.defineProperty(n,"CanvasMeshRenderer",{enumerable:!0,get:function(){return s(i).default}}),a=e("./Plane"),Object.defineProperty(n,"Plane",{enumerable:!0,get:function(){return s(a).default}}),r=e("./NineSlicePlane"),Object.defineProperty(n,"NineSlicePlane",{enumerable:!0,get:function(){return s(r).default}}),c=e("./Rope"),Object.defineProperty(n,"Rope",{enumerable:!0,get:function(){return s(c).default}})},{"./Mesh":158,"./NineSlicePlane":159,"./Plane":160,"./Rope":161,"./canvas/CanvasMeshRenderer":162,"./webgl/MeshRenderer":164}],164:[function(e,t,n){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}function r(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var u=e("../../core"),o=r(u),h=e("pixi-gl-core"),s=i(h),m=e("../Mesh"),f=i(m),a=(e("path"),function(e){function t(n){c(this,t);var s=l(this,e.call(this,n));return s.shader=null,s}return d(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.shader=new o.Shader(e,`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 translationMatrix;
uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
}
`,`varying vec2 vTextureCoord;
uniform float alpha;
uniform vec3 tint;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * vec4(tint * alpha, alpha);
}
`)},t.prototype.render=function(e){var t,a,o=this.renderer,n=o.gl,i=e._texture;i.valid&&(t=e._glDatas[o.CONTEXT_UID],t||(o.bindVao(null),t={shader:this.shader,vertexBuffer:s.default.GLBuffer.createVertexBuffer(n,e.vertices,n.STREAM_DRAW),uvBuffer:s.default.GLBuffer.createVertexBuffer(n,e.uvs,n.STREAM_DRAW),indexBuffer:s.default.GLBuffer.createIndexBuffer(n,e.indices,n.STATIC_DRAW),vao:null,dirty:e.dirty,indexDirty:e.indexDirty},t.vao=new s.default.VertexArrayObject(n).addIndex(t.indexBuffer).addAttribute(t.vertexBuffer,t.shader.attributes.aVertexPosition,n.FLOAT,!1,8,0).addAttribute(t.uvBuffer,t.shader.attributes.aTextureCoord,n.FLOAT,!1,8,0),e._glDatas[o.CONTEXT_UID]=t),o.bindVao(t.vao),e.dirty!==t.dirty&&(t.dirty=e.dirty,t.uvBuffer.upload(e.uvs)),e.indexDirty!==t.indexDirty&&(t.indexDirty=e.indexDirty,t.indexBuffer.upload(e.indices)),t.vertexBuffer.upload(e.vertices),o.bindShader(t.shader),t.shader.uniforms.uSampler=o.bindTexture(i),o.state.setBlendMode(e.blendMode),t.shader.uniforms.translationMatrix=e.worldTransform.toArray(!0),t.shader.uniforms.alpha=e.worldAlpha,t.shader.uniforms.tint=e.tintRgb,a=e.drawMode===f.default.DRAW_MODES.TRIANGLE_MESH?n.TRIANGLE_STRIP:n.TRIANGLES,t.vao.draw(a,e.indices.length,0))},t}(o.ObjectRenderer));n.default=a,o.WebGLRenderer.registerPlugin("mesh",a)},{"../../core":64,"../Mesh":158,path:23,"pixi-gl-core":12}],165:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var c=e("../core"),s=o(c),l=function(e){function t(){var n,c,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1500,l=arguments[1],o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:16384;return i(this,t),n=a(this,e.call(this)),c=16384,o>c&&(o=c),o>r&&(o=r),n._properties=[!1,!0,!1,!1,!1],n._maxSize=r,n._batchSize=o,n._glBuffers={},n._bufferToUpdate=0,n.interactiveChildren=!1,n.blendMode=s.BLEND_MODES.NORMAL,n.roundPixels=!0,n.baseTexture=null,n.setProperties(l),n}return r(t,e),t.prototype.setProperties=function(e){e&&(this._properties[0]="scale"in e?!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="alpha"in e?!!e.alpha:this._properties[4])},t.prototype.updateTransform=function(){this.displayObjectUpdateTransform()},t.prototype.renderWebGL=function(e){var t=this;this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable&&(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.hasLoaded||this.baseTexture.once("update",function(){return t.onChildrenChange(0)})),e.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))},t.prototype.onChildrenChange=function(e){var t=Math.floor(e/this._batchSize);t<this._bufferToUpdate&&(this._bufferToUpdate=t)},t.prototype.renderCanvas=function(e){if(this.visible&&!(this.worldAlpha<=0)&&this.children.length&&this.renderable){var t,n,s,o,r,i=e.context,a=this.worldTransform,c=!0,l=0,h=0,u=0,d=0,m=e.blendModes[this.blendMode];m!==i.globalCompositeOperation&&(i.globalCompositeOperation=m),i.globalAlpha=this.worldAlpha,this.displayObjectUpdateTransform();for(r=0;r<this.children.length;++r)t=this.children[r],t.visible&&(s=t._texture.frame,i.globalAlpha=this.worldAlpha*t.alpha,t.rotation%(2*Math.PI)===0?(c&&(i.setTransform(a.a,a.b,a.c,a.d,a.tx*e.resolution,a.ty*e.resolution),c=!1),l=t.anchor.x*(-s.width*t.scale.x)+t.position.x+.5,h=t.anchor.y*(-s.height*t.scale.y)+t.position.y+.5,u=s.width*t.scale.x,d=s.height*t.scale.y):(c||(c=!0),t.displayObjectUpdateTransform(),n=t.worldTransform,e.roundPixels?i.setTransform(n.a,n.b,n.c,n.d,n.tx*e.resolution|0,n.ty*e.resolution|0):i.setTransform(n.a,n.b,n.c,n.d,n.tx*e.resolution,n.ty*e.resolution),l=t.anchor.x*-s.width+.5,h=t.anchor.y*-s.height+.5,u=s.width,d=s.height),o=t._texture.baseTexture.resolution,i.drawImage(t._texture.baseTexture.source,s.x*o,s.y*o,s.width*o,s.height*o,l*o,h*o,u*o,d*o))}},t.prototype.destroy=function(t){if(e.prototype.destroy.call(this,t),this._buffers)for(var n=0;n<this._buffers.length;++n)this._buffers[n].destroy();this._properties=null,this._buffers=null},t}(s.Container);n.default=l},{"../core":64}],166:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i=e("./ParticleContainer");Object.defineProperty(n,"ParticleContainer",{enumerable:!0,get:function(){return s(i).default}}),o=e("./webgl/ParticleRenderer"),Object.defineProperty(n,"ParticleRenderer",{enumerable:!0,get:function(){return s(o).default}})},{"./ParticleContainer":165,"./webgl/ParticleRenderer":168}],167:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var a=e("pixi-gl-core"),s=o(a),r=e("../../core/utils/createIndicesForQuads"),c=o(r),l=function(){function e(t,n,s,o){i(this,e),this.gl=t,this.vertSize=2,this.vertByteSize=4*this.vertSize,this.size=o,this.dynamicProperties=[],this.staticProperties=[];for(var a,r=0;r<n.length;++r)a=n[r],a={attribute:a.attribute,size:a.size,uploadFunction:a.uploadFunction,offset:a.offset},s[r]?this.dynamicProperties.push(a):this.staticProperties.push(a);this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.initBuffers()}return e.prototype.initBuffers=function(){var t,n,o,i,a,r,l,d,u,e=this.gl,h=0;this.indices=(0,c.default)(this.size),this.indexBuffer=s.default.GLBuffer.createIndexBuffer(e,this.indices,e.STATIC_DRAW),this.dynamicStride=0;for(t=0;t<this.dynamicProperties.length;++t)n=this.dynamicProperties[t],n.offset=h,h+=n.size,this.dynamicStride+=n.size;this.dynamicData=new Float32Array(this.size*this.dynamicStride*4),this.dynamicBuffer=s.default.GLBuffer.createVertexBuffer(e,this.dynamicData,e.STREAM_DRAW),l=0,this.staticStride=0;for(o=0;o<this.staticProperties.length;++o)i=this.staticProperties[o],i.offset=l,l+=i.size,this.staticStride+=i.size;this.staticData=new Float32Array(this.size*this.staticStride*4),this.staticBuffer=s.default.GLBuffer.createVertexBuffer(e,this.staticData,e.STATIC_DRAW),this.vao=new s.default.VertexArrayObject(e).addIndex(this.indexBuffer);for(a=0;a<this.dynamicProperties.length;++a)d=this.dynamicProperties[a],this.vao.addAttribute(this.dynamicBuffer,d.attribute,e.FLOAT,!1,4*this.dynamicStride,4*d.offset);for(r=0;r<this.staticProperties.length;++r)u=this.staticProperties[r],this.vao.addAttribute(this.staticBuffer,u.attribute,e.FLOAT,!1,4*this.staticStride,4*u.offset)},e.prototype.uploadDynamic=function(e,t,n){for(var o,s=0;s<this.dynamicProperties.length;s++)o=this.dynamicProperties[s],o.uploadFunction(e,t,n,this.dynamicData,this.dynamicStride,o.offset);this.dynamicBuffer.upload()},e.prototype.uploadStatic=function(e,t,n){for(var o,s=0;s<this.staticProperties.length;s++)o=this.staticProperties[s],o.uploadFunction(e,t,n,this.staticData,this.staticStride,o.offset);this.staticBuffer.upload()},e.prototype.destroy=function(){this.dynamicProperties=null,this.dynamicData=null,this.dynamicBuffer.destroy(),this.staticProperties=null,this.staticData=null,this.staticBuffer.destroy()},e}();n.default=l},{"../../core/utils/createIndicesForQuads":118,"pixi-gl-core":12}],168:[function(e,t,n){"use strict";function o(e){return e&&e.__esModule?e:{default:e}}function a(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var d=e("../../core"),s=a(d),u=e("./ParticleShader"),h=o(u),m=e("./ParticleBuffer"),f=o(m),i=function(e){function t(n){r(this,t);var o=c(this,e.call(this,n));return o.shader=null,o.indexBuffer=null,o.properties=null,o.tempMatrix=new s.Matrix,o.CONTEXT_UID=0,o}return l(t,e),t.prototype.onContextChange=function(){var e=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.shader=new h.default(e),this.properties=[{attribute:this.shader.attributes.aVertexPosition,size:2,uploadFunction:this.uploadVertices,offset:0},{attribute:this.shader.attributes.aPositionCoord,size:2,uploadFunction:this.uploadPosition,offset:0},{attribute:this.shader.attributes.aRotation,size:1,uploadFunction:this.uploadRotation,offset:0},{attribute:this.shader.attributes.aTextureCoord,size:2,uploadFunction:this.uploadUvs,offset:0},{attribute:this.shader.attributes.aColor,size:1,uploadFunction:this.uploadAlpha,offset:0}]},t.prototype.start=function(){this.renderer.bindShader(this.shader)},t.prototype.render=function(e){var t,s,i,a,r,d,h,m,c=e.children,u=e._maxSize,l=e._batchSize,n=this.renderer,o=c.length;if(0!==o){o>u&&(o=u),r=e._glBuffers[n.CONTEXT_UID],r||(r=e._glBuffers[n.CONTEXT_UID]=this.generateBuffers(e)),this.renderer.setBlendMode(e.blendMode),h=n.gl,d=e.worldTransform.copy(this.tempMatrix),d.prepend(n._activeRenderTarget.projectionMatrix),this.shader.uniforms.projectionMatrix=d.toArray(!0),this.shader.uniforms.uAlpha=e.worldAlpha,m=c[0]._texture.baseTexture,this.shader.uniforms.uSampler=n.bindTexture(m);for(t=0,i=0;t<o;t+=l,i+=1)s=o-t,s>l&&(s=l),a=r[i],a.uploadDynamic(c,t,s),e._bufferToUpdate===i&&(a.uploadStatic(c,t,s),e._bufferToUpdate=i+1),n.bindVao(a.vao),a.vao.draw(h.TRIANGLES,6*s)}},t.prototype.generateBuffers=function(e){for(var o=this.renderer.gl,t=[],i=e._maxSize,n=e._batchSize,a=e._properties,s=0;s<i;s+=n)t.push(new f.default(o,this.properties,a,n));return t},t.prototype.uploadVertices=function(e,t,n,s,o,i){for(var u=0,c=0,h=0,l=0,p=0;p<n;++p){var a=e[t+p],g=a._texture,m=a.scale.x,f=a.scale.y,d=g.trim,r=g.orig;d?(c=d.x-a.anchor.x*r.width,u=c+d.width,l=d.y-a.anchor.y*r.height,h=l+d.height):(u=r.width*(1-a.anchor.x),c=r.width*-a.anchor.x,h=r.height*(1-a.anchor.y),l=r.height*-a.anchor.y),s[i]=c*m,s[i+1]=l*f,s[i+o]=u*m,s[i+o+1]=l*f,s[i+2*o]=u*m,s[i+2*o+1]=h*f,s[i+3*o]=c*m,s[i+3*o+1]=h*f,i+=4*o}},t.prototype.uploadPosition=function(e,t,n,s,o,i){for(var a,r=0;r<n;r++)a=e[t+r].position,s[i]=a.x,s[i+1]=a.y,s[i+o]=a.x,s[i+o+1]=a.y,s[i+2*o]=a.x,s[i+2*o+1]=a.y,s[i+3*o]=a.x,s[i+3*o+1]=a.y,i+=4*o},t.prototype.uploadRotation=function(e,t,n,s,o,i){for(var a,r=0;r<n;r++)a=e[t+r].rotation,s[i]=a,s[i+o]=a,s[i+2*o]=a,s[i+3*o]=a,i+=4*o},t.prototype.uploadUvs=function(e,t,n,s,o,i){for(var a,r=0;r<n;++r)a=e[t+r]._texture._uvs,a?(s[i]=a.x0,s[i+1]=a.y0,s[i+o]=a.x1,s[i+o+1]=a.y1,s[i+2*o]=a.x2,s[i+2*o+1]=a.y2,s[i+3*o]=a.x3,s[i+3*o+1]=a.y3,i+=4*o):(s[i]=0,s[i+1]=0,s[i+o]=0,s[i+o+1]=0,s[i+2*o]=0,s[i+2*o+1]=0,s[i+3*o]=0,s[i+3*o+1]=0,i+=4*o)},t.prototype.uploadAlpha=function(e,t,n,s,o,i){for(var a,r=0;r<n;r++)a=e[t+r].alpha,s[i]=a,s[i+o]=a,s[i+2*o]=a,s[i+3*o]=a,i+=4*o},t.prototype.destroy=function(){this.renderer.gl&&this.renderer.gl.deleteBuffer(this.indexBuffer),e.prototype.destroy.call(this),this.shader.destroy(),this.indices=null,this.tempMatrix=null},t}(s.ObjectRenderer);n.default=i,s.WebGLRenderer.registerPlugin("particle",i)},{"../../core":64,"./ParticleBuffer":167,"./ParticleShader":169}],169:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}n.__esModule=!0;var r=e("../../core/Shader"),c=s(r),l=function(e){function t(n){return o(this,t),i(this,e.call(this,n,["attribute vec2 aVertexPosition;","attribute vec2 aTextureCoord;","attribute float aColor;","attribute vec2 aPositionCoord;","attribute vec2 aScale;","attribute float aRotation;","uniform mat3 projectionMatrix;","varying vec2 vTextureCoord;","varying float vColor;","void main(void){","   vec2 v = aVertexPosition;","   v.x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);","   v.y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);","   v = v + aPositionCoord;","   gl_Position = vec4((projectionMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);","   vTextureCoord = aTextureCoord;","   vColor = aColor;","}"].join(`
`),["varying vec2 vTextureCoord;","varying float vColor;","uniform sampler2D uSampler;","uniform float uAlpha;","void main(void){","  vec4 color = texture2D(uSampler, vTextureCoord) * vColor * uAlpha;","  if (color.a == 0.0) discard;","  gl_FragColor = color;","}"].join(`
`)))}return a(t,e),t}(c.default);n.default=l},{"../../core/Shader":43}],170:[function(){"use strict";Math.sign||(Math.sign=function(e){return e=Number(e),0===e||isNaN(e)?e:e>0?1:-1})},{}],171:[function(e){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}var o=e("object-assign"),i=s(o);Object.assign||(Object.assign=i.default)},{"object-assign":5}],172:[function(e){"use strict";e("./Object.assign"),e("./requestAnimationFrame"),e("./Math.sign"),window.ArrayBuffer||(window.ArrayBuffer=Array),window.Float32Array||(window.Float32Array=Array),window.Uint32Array||(window.Uint32Array=Array),window.Uint16Array||(window.Uint16Array=Array)},{"./Math.sign":170,"./Object.assign":171,"./requestAnimationFrame":173}],173:[function(){(function(e){"use strict";o=16,Date.now&&Date.prototype.getTime||(Date.now=function(){return(new Date).getTime()}),e.performance&&e.performance.now||!function(){var t=Date.now();e.performance||(e.performance={}),e.performance.now=function(){return Date.now()-t}}();for(var t,o,n=Date.now(),i=["ms","moz","webkit","o"],s=0;s<i.length&&!e.requestAnimationFrame;++s)t=i[s],e.requestAnimationFrame=e[t+"RequestAnimationFrame"],e.cancelAnimationFrame=e[t+"CancelAnimationFrame"]||e[t+"CancelRequestAnimationFrame"];e.requestAnimationFrame||(e.requestAnimationFrame=function(e){if("function"!=typeof e)throw new TypeError(e+"is not a function");var s=Date.now(),t=o+n-s;return t<0&&(t=0),n=s,setTimeout(function(){n=Date.now(),e(performance.now())},t)}),e.cancelAnimationFrame||(e.cancelAnimationFrame=function(e){return clearTimeout(e)})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],174:[function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){return t instanceof s.Text&&(t.updateText(!0),!0)}function r(e,t){if(t instanceof s.TextStyle){var n=s.Text.getFontStyle(t);return s.Text.fontPropertiesCache[n]||s.Text.calculateFontProperties(n),!0}return!1}function c(e,t){if(e instanceof s.Text){t.indexOf(e.style)===-1&&t.push(e.style),t.indexOf(e)===-1&&t.push(e);var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function a(e,t){return e instanceof s.TextStyle&&(t.indexOf(e)===-1&&t.push(e),!0)}n.__esModule=!0;var i,d=e("../core"),s=p(d),h=e("./limiters/CountLimiter"),m=l(h),o=s.ticker.shared;s.settings.UPLOADS_PER_FRAME=4,i=function(){function e(t){var n=this;f(this,e),this.limiter=new m.default(s.settings.UPLOADS_PER_FRAME),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=function(){n.queue&&n.prepareItems()},this.register(c,u),this.register(a,r)}return e.prototype.upload=function(e,t){"function"==typeof e&&(t=e,e=null),e&&this.add(e),this.queue.length?(t&&this.completes.push(t),this.ticking||(this.ticking=!0,o.addOnce(this.tick,this))):t&&t()},e.prototype.tick=function(){setTimeout(this.delayedTick,0)},e.prototype.prepareItems=function(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){for(var e,n,i,a=this.queue[0],s=!1,t=0,r=this.uploadHooks.length;t<r;t++)if(this.uploadHooks[t](this.uploadHookHelper,a)){this.queue.shift(),s=!0;break}s||this.queue.shift()}if(this.queue.length)o.addOnce(this.tick,this);else{this.ticking=!1,n=this.completes.slice(0),this.completes.length=0;for(e=0,i=n.length;e<i;e++)n[e]()}},e.prototype.register=function(e,t){return e&&this.addHooks.push(e),t&&this.uploadHooks.push(t),this},e.prototype.add=function(e){for(var t,n=0,o=this.addHooks.length;n<o&&!this.addHooks[n](e,this.queue);n++);if(e instanceof s.Container)for(t=e.children.length-1;t>=0;t--)this.add(e.children[t]);return this},e.prototype.destroy=function(){this.ticking&&o.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null},e}(),n.default=i},{"../core":64,"./limiters/CountLimiter":177}],175:[function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function p(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function f(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){if(t instanceof s.BaseTexture){var n=t.source,o=0===n.width?e.canvas.width:Math.min(e.canvas.width,n.width),i=0===n.height?e.canvas.height:Math.min(e.canvas.height,n.height);return e.ctx.drawImage(n,0,0,o,i,0,0,e.canvas.width,e.canvas.height),!0}return!1}function a(e,t){if(e instanceof s.BaseTexture)return t.indexOf(e)===-1&&t.push(e),!0;if(e._texture&&e._texture instanceof s.Texture){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}n.__esModule=!0;var d=e("../../core"),s=p(d),h=e("../BasePrepare"),m=l(h),i=16,o=function(e){function t(n){f(this,t);var s=u(this,e.call(this,n));return s.uploadHookHelper=s,s.canvas=document.createElement("canvas"),s.canvas.width=i,s.canvas.height=i,s.ctx=s.canvas.getContext("2d"),s.register(a,c),s}return r(t,e),t.prototype.destroy=function(){e.prototype.destroy.call(this),this.ctx=null,this.canvas=null},t}(m.default);n.default=o,s.CanvasRenderer.registerPlugin("prepare",o)},{"../../core":64,"../BasePrepare":174}],176:[function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}n.__esModule=!0;var o,i,a,r,c=e("./webgl/WebGLPrepare");Object.defineProperty(n,"webgl",{enumerable:!0,get:function(){return s(c).default}}),o=e("./canvas/CanvasPrepare"),Object.defineProperty(n,"canvas",{enumerable:!0,get:function(){return s(o).default}}),i=e("./BasePrepare"),Object.defineProperty(n,"BasePrepare",{enumerable:!0,get:function(){return s(i).default}}),a=e("./limiters/CountLimiter"),Object.defineProperty(n,"CountLimiter",{enumerable:!0,get:function(){return s(a).default}}),r=e("./limiters/TimeLimiter"),Object.defineProperty(n,"TimeLimiter",{enumerable:!0,get:function(){return s(r).default}})},{"./BasePrepare":174,"./canvas/CanvasPrepare":175,"./limiters/CountLimiter":177,"./limiters/TimeLimiter":178,"./webgl/WebGLPrepare":179}],177:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(t){s(this,e),this.maxItemsPerFrame=t,this.itemsLeft=0}return e.prototype.beginFrame=function(){this.itemsLeft=this.maxItemsPerFrame},e.prototype.allowedToUpload=function(){return this.itemsLeft-- >0},e}();n.default=o},{}],178:[function(e,t,n){"use strict";function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.__esModule=!0;var o=function(){function e(t){s(this,e),this.maxMilliseconds=t,this.frameStart=0}return e.prototype.beginFrame=function(){this.frameStart=Date.now()},e.prototype.allowedToUpload=function(){return Date.now()-this.frameStart<this.maxMilliseconds},e}();n.default=o},{}],179:[function(e,t,n){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}function g(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function r(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function c(e,t){return t instanceof s.BaseTexture&&(t._glTextures[e.CONTEXT_UID]||e.textureManager.updateTexture(t),!0)}function i(e,t){return t instanceof s.Graphics&&((t.dirty||t.clearDirty||!t._webGL[e.plugins.graphics.CONTEXT_UID])&&e.plugins.graphics.updateGraphics(t),!0)}function d(e,t){if(e instanceof s.BaseTexture)return t.indexOf(e)===-1&&t.push(e),!0;if(e._texture&&e._texture instanceof s.Texture){var n=e._texture.baseTexture;return t.indexOf(n)===-1&&t.push(n),!0}return!1}function u(e,t){return e instanceof s.Graphics&&(t.push(e),!0)}n.__esModule=!0;var h=e("../../core"),s=g(h),f=e("../BasePrepare"),p=l(f),o=function(e){function t(n){m(this,t);var s=a(this,e.call(this,n));return s.uploadHookHelper=s.renderer,s.register(d,c).register(u,i),s}return r(t,e),t}(p.default);n.default=o,s.WebGLRenderer.registerPlugin("prepare",o)},{"../../core":64,"../BasePrepare":174}],180:[function(e,t,n){(function(t){"use strict";function s(e){if(e&&e.__esModule)return e;var n,t={};if(e!=null)for(n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}n.__esModule=!0,n.loader=n.prepare=n.particles=n.mesh=n.loaders=n.interaction=n.filters=n.extras=n.extract=n.accessibility=void 0,i=e("./polyfill"),Object.keys(i).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return i[e]}})}),a=e("./deprecation"),Object.keys(a).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return a[e]}})}),r=e("./core"),Object.keys(r).forEach(function(e){"default"!==e&&"__esModule"!==e&&Object.defineProperty(n,e,{enumerable:!0,get:function(){return r[e]}})});var i,a,r,c,C=e("./accessibility"),l=s(C),d=e("./extract"),b=s(d),u=e("./extras"),h=s(u),m=e("./filters"),f=s(m),p=e("./interaction"),g=s(p),v=e("./loaders"),o=s(v),j=e("./mesh"),y=s(j),_=e("./particles"),w=s(_),O=e("./prepare"),x=s(O);n.accessibility=l,n.extract=b,n.extras=h,n.filters=f,n.interaction=g,n.loaders=o,n.mesh=y,n.particles=w,n.prepare=x,c=o&&o.Loader?new o.Loader:null,n.loader=c,t.PIXI=n}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./accessibility":41,"./core":64,"./deprecation":123,"./extract":125,"./extras":134,"./filters":145,"./interaction":151,"./loaders":154,"./mesh":163,"./particles":166,"./polyfill":172,"./prepare":176}]},{},[180])(180)})