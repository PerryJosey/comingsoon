function draw(){OPTS=["fill","stroke"],c=document.getElementById("rainbow"),ξ=c.getContext("2d"),w=c.width,h=c.height,co=.9*h,squares=[];var e=function(e,t,n){var s=(t=t||0)+((e=(e-1||0)+1)-t)*Math.random();return n?~~s:s},n=function(){var t,n,s,o,i,a,r,c,l,d,u;this.init=function(){n=e(sizeone,sizetwo,1),s=-.5*n,l=e(w-s,s,1),t=e(-co,-n,1),i=e(.5*Math.PI),d=e(speed,.25),u=e(.02,.005)*Math.PI,o=[.5,.5],a=[],r=[],c=[];for(var h=0;h<2;h++)a.push(e(2*Math.PI)),r.push(e(.4,.1)),c.push(e(.001,1e-4)*Math.PI)},this.update=function(e){t+=d,i+=u,l=Math.max(0,Math.floor(t/co)),m=t-co;for(var l,m,s=0;s<2;s++)o[s]=Math.max(0,.4+.1*s+r[s]*Math.sin(c[s]*e+a[s])-l*m*.01);!(t>h+n)&&o[0]+o[1]||this.init(),ξ.fillStyle=ξ.strokeStyle="hsl("+~~(e+.2*t)+",100%,65%)",this.draw()},this.draw=function(){ξ.save(),ξ.translate(l,t),ξ.rotate(i);for(var e=0;e<2;e++)ξ.beginPath(),ξ.globalAlpha=o[e],ξ[OPTS[e]+"Rect"](s,s,n,n);ξ.restore()},this.init()},t=function(e){ξ.clearRect(0,0,w,h);for(var n=0;n<N_SQUARES;n++)squares[n].update(e);requestAnimationFrame(t.bind(this,++e))};!function(){for(var e=0;e<N_SQUARES;e++)squares.push(new n);t(0)}()}!function(){var e=document.getElementById("rainbow");e.getContext("2d");function t(){e.width=window.innerWidth,e.height=window.innerHeight,draw()}window.addEventListener("resize",t,!1),t()}()