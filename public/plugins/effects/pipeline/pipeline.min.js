!function(){"use strict";var i=.5*(Math.sqrt(3)-1),s=(3-Math.sqrt(3))/6,t=1/6,a=(Math.sqrt(5)-1)/4,e=(5-Math.sqrt(5))/20;function n(e){n="function"==typeof e?e:e?function(){for(var e,n=0,s=0,o=0,a=1,t=(e=4022871197,function(t){t=t.toString();for(var n,s=0;s<t.length;s++)n=.02519603282416938*(e+=t.charCodeAt(s)),n-=e=n>>>0,e=(n*=e)>>>0,e+=4294967296*(n-=e);return.23283064365386963e-9*(e>>>0)}),n=t(" "),s=t(" "),o=t(" "),i=0;i<arguments.length;i++)(n-=t(arguments[i]))<0&&(n+=1),(s-=t(arguments[i]))<0&&(s+=1),(o-=t(arguments[i]))<0&&(o+=1);return t=null,function(){var e=2091639*n+.23283064365386963e-9*a;return n=s,s=o,o=e-(a=0|e)}}(e):Math.random,this.p=o(n),this.perm=new Uint8Array(512),this.permMod12=new Uint8Array(512);for(var n,t=0;t<512;t++)this.perm[t]=this.p[255&t],this.permMod12[t]=this.perm[t]%12}function o(e){n=new Uint8Array(256);for(t=0;t<256;t++)n[t]=t;for(t=0;t<255;t++){var t,n,s=t+~~(e()*(256-t)),o=n[t];n[t]=n[s],n[s]=o}return n}n.prototype={grad3:new Float32Array([1,1,0,-1,1,0,1,-1,0,-1,-1,0,1,0,1,-1,0,1,1,0,-1,-1,0,-1,0,1,1,0,-1,1,0,1,-1,0,-1,-1]),grad4:new Float32Array([0,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,1,0,1,1,1,0,1,-1,1,0,-1,1,1,0,-1,-1,-1,0,1,1,-1,0,1,-1,-1,0,-1,1,-1,0,-1,-1,1,1,0,1,1,1,0,-1,1,-1,0,1,1,-1,0,-1,-1,1,0,1,-1,1,0,-1,-1,-1,0,1,-1,-1,0,-1,1,1,1,0,1,1,-1,0,1,-1,1,0,1,-1,-1,0,-1,1,1,0,-1,1,-1,0,-1,-1,1,0,-1,-1,-1,0]),noise2D:function(e,t){var r,c,l,u,m,p,v,g=this.permMod12,w=this.perm,o=this.grad3,C=0,E=0,k=0,A=(e+t)*i,x=Math.floor(e+A),f=Math.floor(t+A),S=(x+f)*s,n=e-(x-S),a=t-(f-S);n>a?(u=1,l=0):(u=0,l=1);var b=n-u+s,j=a-l+s,y=n-1+2*s,_=a-1+2*s,h=255&x,O=255&f,d=.5-n*n-a*a;return d>=0&&(m=3*g[h+w[O]],C=(d*=d)*d*(o[m]*n+o[m+1]*a)),c=.5-b*b-j*j,c>=0&&(v=3*g[h+u+w[O+l]],E=(c*=c)*c*(o[v]*b+o[v+1]*j)),r=.5-y*y-_*_,r>=0&&(p=3*g[h+1+w[O+1]],k=(r*=r)*r*(o[p]*y+o[p+1]*_)),70*(C+E+k)},noise3D:function(e,n,s){var c,l,d,u,h,m,R,H,B,$,b=this.permMod12,f=this.perm,o=this.grad3,P=(e+n+s)*(1/3),I=Math.floor(e+P),A=Math.floor(n+P),W=Math.floor(s+P),V=(I+A+W)*t,a=e-(I-V),r=n-(A-V),i=s-(W-V);a>=r?r>=i?(m=1,l=0,d=0,u=1,h=1,c=0):a>=i?(m=1,l=0,d=0,u=1,h=0,c=1):(m=0,l=0,d=1,u=1,h=0,c=1):r<i?(m=0,l=0,d=1,u=0,h=1,c=1):a<i?(m=0,l=1,d=0,u=0,h=1,c=1):(m=0,l=1,d=0,u=1,h=1,c=0);var p,g,v,y,_,w,O,k=a-m+t,N=r-l+t,D=i-d+t,L=a-u+2*t,S=r-h+2*t,M=i-c+2*t,F=a-1+.5,T=r-1+.5,z=i-1+.5,j=255&I,E=255&A,C=255&W,x=.6-a*a-r*r-i*i;return x<0?R=0:(O=3*b[j+f[E+f[C]]],R=(x*=x)*x*(o[O]*a+o[O+1]*r+o[O+2]*i)),p=.6-k*k-N*N-D*D,p<0?$=0:(w=3*b[j+m+f[E+l+f[C+d]]],$=(p*=p)*p*(o[w]*k+o[w+1]*N+o[w+2]*D)),g=.6-L*L-S*S-M*M,g<0?B=0:(_=3*b[j+u+f[E+h+f[C+c]]],B=(g*=g)*g*(o[_]*L+o[_+1]*S+o[_+2]*M)),v=.6-F*F-T*T-z*z,v<0?H=0:(y=3*b[j+1+f[E+1+f[C+1]]],H=(v*=v)*v*(o[y]*F+o[y+1]*T+o[y+2]*z)),32*(R+$+B+H)},noise4D:function(t,n,s,o){var z,R,P,te,ne,de,le,ce,re,ae,ie,oe,se,ue,he,me,fe,r=this.perm,i=this.grad4,S=(t+n+s+o)*a,L=Math.floor(t+S),N=Math.floor(n+S),D=Math.floor(s+S),Q=Math.floor(o+S),M=(L+N+D+Q)*e,c=t-(L-M),u=n-(N-M),l=s-(D-M),d=o-(Q-M),m=0,f=0,p=0,h=0;c>u?m++:f++,c>l?m++:p++,c>d?m++:h++,u>l?f++:p++,u>d?f++:h++,l>d?p++:h++;var g,v,_,w,x,C,E,k,A,H=c-(de=m>=3?1:0)+e,I=u-(le=f>=3?1:0)+e,B=l-(ce=p>=3?1:0)+e,V=d-(re=h>=3?1:0)+e,$=c-(ae=m>=2?1:0)+2*e,W=u-(ie=f>=2?1:0)+2*e,U=l-(oe=p>=2?1:0)+2*e,K=d-(se=h>=2?1:0)+2*e,q=c-(ue=m>=1?1:0)+3*e,Y=u-(he=f>=1?1:0)+3*e,G=l-(me=p>=1?1:0)+3*e,X=d-(fe=h>=1?1:0)+3*e,T=c-1+4*e,Z=u-1+4*e,J=l-1+4*e,ee=d-1+4*e,y=255&L,j=255&N,b=255&D,O=255&Q,F=.6-c*c-u*u-l*l-d*d;return F<0?z=0:(w=r[y+r[j+r[b+r[O]]]]%32*4,z=(F*=F)*F*(i[w]*c+i[w+1]*u+i[w+2]*l+i[w+3]*d)),v=.6-H*H-I*I-B*B-V*V,v<0?R=0:(x=r[y+de+r[j+le+r[b+ce+r[O+re]]]]%32*4,R=(v*=v)*v*(i[x]*H+i[x+1]*I+i[x+2]*B+i[x+3]*V)),g=.6-$*$-W*W-U*U-K*K,g<0?P=0:(E=r[y+ae+r[j+ie+r[b+oe+r[O+se]]]]%32*4,P=(g*=g)*g*(i[E]*$+i[E+1]*W+i[E+2]*U+i[E+3]*K)),k=.6-q*q-Y*Y-G*G-X*X,k<0?te=0:(A=r[y+ue+r[j+he+r[b+me+r[O+fe]]]]%32*4,te=(k*=k)*k*(i[A]*q+i[A+1]*Y+i[A+2]*G+i[A+3]*X)),C=.6-T*T-Z*Z-J*J-ee*ee,C<0?ne=0:(_=r[y+1+r[j+1+r[b+1+r[O+1]]]]%32*4,ne=(C*=C)*C*(i[_]*T+i[_+1]*Z+i[_+2]*J+i[_+3]*ee)),27*(z+R+P+te+ne)}},n._buildPermutationTable=o,"undefined"!=typeof define&&define.amd&&define(function(){return n}),"undefined"!=typeof exports?exports.SimplexNoise=n:"undefined"!=typeof window&&(window.SimplexNoise=n),"undefined"!=typeof module&&(module.exports=n)}();const{PI,cos,sin,abs,sqrt,pow,round,random,atan2}=Math,HALF_PI=.5*PI,TAU=2*PI,TO_RAD=PI/180,floor=e=>0|e,rand=e=>e*random(),randIn=(e,t)=>rand(t-e)+e,randRange=e=>e-rand(2*e),fadeIn=(e,t)=>e/t,fadeOut=(e,t)=>(t-e)/t,fadeInOut=(e,t)=>{let n=.5*t;return abs((e+n)%t-n)/n},dist=(e,t,n,s)=>sqrt(pow(n-e,2)+pow(s-t,2)),angle=(e,t,n,s)=>atan2(s-t,n-e),lerp=(e,t,n)=>(1-n)*e+n*t,pipeCount=count_pipeline,pipePropCount=8,pipePropsLength=8*pipeCount,turnCount=8,turnAmount=45*TO_RAD,turnChanceRange=58,baseSpeed=.5,rangeSpeed=1,baseTTL=100,rangeTTL=300,baseWidth=2,rangeWidth=4,baseHue=180,rangeHue=60,backgroundColor=background_pipeline;let container,canvas,ctx,center,tick,pipeProps;function setup(){createCanvas(),resize(),initPipes(),draw()}function initPipes(){let e;for(pipeProps=new Float32Array(pipePropsLength),e=0;e<pipePropsLength;e+=8)initPipe(e)}function initPipe(e){let t,n,s,o,c,i,a,r;t=rand(canvas.a.width),n=center[1],s=round(rand(1))?HALF_PI:TAU-HALF_PI,o=.5+rand(1),c=0,i=100+rand(300),a=2+rand(4),r=180+rand(60),pipeProps.set([t,n,s,o,0,i,a,r],e)}function updatePipes(){let e;for(tick++,e=0;e<pipePropsLength;e+=8)updatePipe(e)}function updatePipe(e){let t,n,s,i,o,a,l,c,r,d,u=1+e,h=2+e,f=3+e,m=4+e,p=5+e,g=6+e,v=7+e;t=pipeProps[e],n=pipeProps[u],s=pipeProps[h],i=pipeProps[f],o=pipeProps[m],a=pipeProps[p],l=pipeProps[g],c=pipeProps[v],drawPipe(t,n,o,a,l,c),o++,t+=cos(s)*i,n+=sin(s)*i,r=!(tick%round(rand(58))||round(t)%6&&round(n)%6),d=round(rand(1))?-1:1,s+=r?turnAmount*d:0,pipeProps[e]=t,pipeProps[u]=n,pipeProps[h]=s,pipeProps[m]=o,checkBounds(t,n),o>a&&initPipe(e)}function drawPipe(e,t,n,s,o,i){ctx.a.save(),ctx.a.strokeStyle=`hsla(${i},75%,50%,${.125*fadeInOut(n,s)})`,ctx.a.beginPath(),ctx.a.arc(e,t,o,0,TAU),ctx.a.stroke(),ctx.a.closePath(),ctx.a.restore()}function checkBounds(e,t){e>canvas.a.width&&(e=0),e<0&&(e=canvas.a.width),t>canvas.a.height&&(t=0),t<0&&(t=canvas.a.height)}function createCanvas(){container=document.querySelector("#pipeline"),canvas={a:document.createElement("canvas"),b:document.createElement("canvas")},container.appendChild(canvas.b),ctx={a:canvas.a.getContext("2d"),b:canvas.b.getContext("2d")},center=[],tick=0}function resize(){const{innerWidth:e,innerHeight:t}=window;canvas.a.width=e,canvas.a.height=t,ctx.a.drawImage(canvas.b,0,0),canvas.b.width=e,canvas.b.height=t,ctx.b.drawImage(canvas.a,0,0),center[0]=.5*canvas.a.width,center[1]=.5*canvas.a.height}function render(){ctx.b.save(),ctx.b.fillStyle=backgroundColor,ctx.b.fillRect(0,0,canvas.b.width,canvas.b.height),ctx.b.restore(),ctx.b.save(),ctx.b.filter="blur(12px)",ctx.b.drawImage(canvas.a,0,0),ctx.b.restore(),ctx.b.save(),ctx.b.drawImage(canvas.a,0,0),ctx.b.restore()}function draw(){updatePipes(),render(),window.requestAnimationFrame(draw)}window.addEventListener("load",setup),window.addEventListener("resize",resize)