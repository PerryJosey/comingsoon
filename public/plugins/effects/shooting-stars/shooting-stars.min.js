(function(){var e,t,n,s,o;(t=function(e,t,n,s,o,i,a,r,c,l){var d;return(d=this).x=r,d.y=c,d.size=e,d.color=a,d.border=i,d.outerRad=s,d.innerRad=o,d.rotation=t,d.points=n,d.opacity=0,d.scale=0,d.vx=2*Math.random()-1,d.vy=2*Math.random()-1,d.life=0,d.ss=l,d}).prototype.update=function(){var e,t,n,s;return this.x+=this.vx,this.y+=this.vy,t=this.ss.canvas,e=this.ss.maxLife,n=this.ss.particlePool,s=this.ss.particles,this.opacity<1&&this.life<e/6&&(this.opacity+=100/(e/6)/100,this.scale+=100/(e/6)/100),this.life++,e-this.life<e/6&&(this.scale-=100/(e/6)/100),e-this.life<e/3?(this.vy*=1.075,this.vx*=1.075,this.opacity=(e-this.life)/100):this.life%2==0&&this.rotation++,this.life>=e&&(this.life=0,this.scale=0,this.x=Math.floor(Math.random()*t.width+1),this.y=Math.floor(Math.random()*t.height+1),this.vx=Math.random()-.5,this.vy=Math.random()-.5,self.vx=2*Math.random()-1,self.vy=2*Math.random()-1,n.push(s.shift())),this},t.prototype.render=function(e){var t,n,s,o,i,a;for(t=this,(o=document.createElement("canvas")).width=t.size,o.height=t.size,(n=o.getContext("2d")).save(),n.fillStyle=t.color,n.strokeStyle=t.border,n.globalAlpha=t.opacity,n.translate(t.size/2,t.size/2),n.rotate(t.rotation*Math.PI/180),n.translate(-t.size/2,-t.size/2),n.scale(t.scale,t.scale),n.beginPath(),s=0;s<=2*t.points;)a=s*Math.PI/t.points,i=s%2==0?t.outerRad:t.innerRad,n.lineTo(t.size/2+i*Math.cos(a),t.size/2+i*Math.sin(a)),++s;return n.fill(),n.stroke(),n.restore(),e.drawImage(o,t.x,t.y)},n=function(e,t){var n;return n=void 0,n=void 0,function(){var s,o;return s=void 0,o=void 0,o=this,s=arguments,clearTimeout(n),n=setTimeout(function(){return e.apply(o,s)},t)}},s=function(e,t){var n;for(n in t)t.hasOwnProperty(n)&&void 0!==t[n]&&(e[n]=t[n]);return e},o=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||function(e){return setTimeout(e,1e3/60)},window.ShootingStars=e=function(e){var t,o,i,a;return t=this,i=e.id,a={particleLife:300,particleRenderProbability:.05,amount:5,resizePoll:250,star:{size:{upper:50,lower:25},rotateLimit:45,points:5,innerRadius:.5,borderColor:"#000",fillColor:"red"}},t.options=s(a,e),t.canvas=o=document.getElementById(i),o.width=window.innerWidth,o.height=window.innerHeight,o.ctx=o.getContext("2d"),t.maxLife=t.options.particleLife,t.particles=[],t.particlePool=[],t.particleProbability=t.options.particleRenderProbability,t.poolSize=t.options.amount,window.addEventListener("resize",n(function(){t.canvas.width=window.innerWidth,t.canvas.height=window.innerHeight,t.flushPool()},t.options.resizePoll)),t},e.prototype.flushPool=function(){var e,n,s,o,i,a,r,c,l;for(n=(e=this).canvas,c=e.particlePool=[],e.particles=[],s=self.poolSize=e.options.amount,n.width<450&&(s=self.poolSize=s/2),i=0,a=[];i<s;)o=(r=function(e,t){return Math.floor(Math.random()*(e-t+1)+t)})(e.options.star.size.upper,e.options.star.size.lower),l=r(e.options.star.rotateLimit,0),c.push(new t(o,l,5,o/2,o/2*e.options.star.innerRadius,this.options.star.borderColor,this.options.star.fillColor,Math.floor(Math.random()*n.width+1),Math.floor(Math.random()*n.height+1),e)),a.push(i++);return a},e.prototype.render=function(){var e,t,n,s,i,a;for(s=(i=(n=this).canvas).ctx,a=n.particlePool,e=n.particles,s.save(),s.clearRect(0,0,i.width,i.height),Math.random()>n.particleProbability&&e.length<n.poolSize&&a.length>0&&e.push(a.shift()),t=0;t<e.length;)e[t].update(),e[t]&&e[t].render(s),t++;return s.restore(),o(function(){return n.render()})}}).call(void 0);var config={id:"stars",particleLife:particleLifeAcf,particleRenderProbability:probability,amount:quantity,star:{size:{upper:sizeone,lower:sizetwo},rotateLimit:90,points:5,innerRadius:.5,borderColor:borderColorAcf,fillColor:backgroundColorAcf}},myCanvas=new ShootingStars(config);myCanvas.flushPool(),myCanvas.render()