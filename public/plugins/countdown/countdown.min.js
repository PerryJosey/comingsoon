(function(){var e;(e=jQuery).countdown=function(t,n){var o,s=this;return this.el=t,this.$el=e(t),this.$el.data("countdown",this),this.init=function(){return s.options=e.extend({},e.countdown.defaultOptions,n),s.options.refresh&&(s.interval=setInterval(function(){return s.render()},s.options.refresh)),s.render(),s},o=function(){var n,o;return(n=(Date.parse(e.isPlainObject(s.options.date)?s.options.date:new Date(s.options.date))-Date.parse(new Date))/1e3)<=0&&(n=0,s.interval&&s.stop(),s.options.onEnd.apply(s)),o={years:0,days:0,hours:0,min:0,sec:0,millisec:0},n>=86400&&(o.days=Math.floor(n/86400),n-=86400*o.days),n>=3600&&(o.hours=Math.floor(n/3600),n-=3600*o.hours),n>=60&&(o.min=Math.floor(n/60),n-=60*o.min),o.sec=n,o},this.leadingZeros=function(e,t){for(t==null&&(t=2),e=String(e);e.length<t;)e="0"+e;return e},this.update=function(e){return s.options.date=e,s},this.render=function(){return s.options.render.apply(s,[o(s.options.date)]),s},this.stop=function(){return s.interval&&clearInterval(s.interval),s.interval=null,s},this.start=function(t){return t==null&&(t=s.options.refresh||e.countdown.defaultOptions.refresh),s.interval&&clearInterval(s.interval),s.render(),s.options.refresh=t,s.interval=setInterval(function(){return s.render()},s.options.refresh),s},this.init()},e.countdown.defaultOptions={date:"June 7, 2087 15:03:25",refresh:1e3,onEnd:e.noop,render:function(t){return e(this.el).html(t.years+" years, "+t.days+" days, "+this.leadingZeros(t.hours)+" hours, "+this.leadingZeros(t.min)+" min and "+this.leadingZeros(t.sec)+" sec")}},e.fn.countdown=function(t){return e.each(this,function(n,s){var o;if(!(o=e(s)).data("countdown"))return o.data("countdown",new e.countdown(s,t))})}}).call(this)